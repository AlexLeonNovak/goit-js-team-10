/*! For license information please see vendors.67359f6537ad8305bac9.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[216],{YcuZ:function(t,e,n){"use strict";var r=n("nJIM"),i=n("qaro"),o=n("fV8W"),a=n("FXmT"),s=n("MxOq");function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c,l=u(r),f=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),h=new a.ErrorFactory("appCheck","AppCheck",f),d=new Map,p={activated:!1,tokenListeners:[]},v={enabled:!1};function g(t){return d.get(t)||p}function m(t,e){d.set(t,e)}function y(){return v}function b(){return self.grecaptcha}function w(t){if(!g(t).activated)throw h.create("use-before-activation",{appName:t.name})}function _(t){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(n){switch(n.label){case 0:return w(t),[4,g(t).reCAPTCHAState.initialized.promise];case 1:return e=n.sent(),[2,new Promise((function(n,r){var i=g(t).reCAPTCHAState;e.ready((function(){n(e.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function I(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),a=g(t);m(t,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var E="https://content-firebaseappcheck.googleapis.com/v1beta",T=function(){function t(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(t),new Promise((function(t){setTimeout(t,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},t.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e},t}();function S(t,e){var n=t.url,r=t.body;return o.__awaiter(this,void 0,void 0,(function(){var t,i,a,s,u,c,l,f,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:t={"Content-Type":"application/json"},(i=e.getImmediate({optional:!0}))&&(t["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:t},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),h.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw h.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),h.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(f=c.ttl.match(/^([\d.]+)(s)$/))||!f[2]||isNaN(Number(f[1])))throw h.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(f[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}}))}))}function C(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:E+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:e}}}function k(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:E+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:e}}}var x="firebase-app-check-store",A="debug-token",N=null;function P(){return N||(N=new Promise((function(t,e){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){var n;e(h.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(x,{keyPath:"compositeKey"})}}}catch(t){e(h.create("storage-open",{originalErrorMessage:t.message}))}})))}function O(t){return R(M(t))}function D(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,P()];case 1:return n=o.sent(),r=n.transaction(x,"readwrite"),i=r.objectStore(x),a=i.put({compositeKey:t,value:e}),[2,new Promise((function(t,e){a.onsuccess=function(e){t()},r.onerror=function(t){var n;e(h.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function R(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,P()];case 1:return e=o.sent(),n=e.transaction(x,"readonly"),r=n.objectStore(x),i=r.get(t),[2,new Promise((function(t,e){i.onsuccess=function(e){var n=e.target.result;t(n?n.value:void 0)},n.onerror=function(t){var n;e(h.create("storage-get",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function M(t){return t.options.appId+"-"+t.name}var L=new s.Logger("@firebase/app-check");function j(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,O(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),L.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}}))}))}function F(t,e){return a.isIndexedDBAvailable()?function(t,e){return D(M(t),e)}(t,e).catch((function(t){L.warn("Failed to write token to indexeddb. Error: "+t)})):Promise.resolve()}function U(){return y().enabled}function q(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){if((t=y()).enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var B={error:"UNKNOWN_ERROR"};function V(t,e,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,s,u,c,l,f,d,p,v,y,b,I;return o.__generator(this,(function(E){switch(E.label){case 0:return w(t),U()?(r=S,i=k,s=[t],[4,q()]):[3,3];case 1:return[4,r.apply(void 0,[i.apply(void 0,s.concat([E.sent()])),e])];case 2:return[2,{token:E.sent().token}];case 3:return u=g(t),c=u.token,l=void 0,c?[3,5]:[4,j(t)];case 4:(f=E.sent())&&K(f)&&(c=f,m(t,o.__assign(o.__assign({},u),{token:c})),H(t,{token:c.token})),E.label=5;case 5:if(!n&&c&&K(c))return[2,{token:c.token}];E.label=6;case 6:return E.trys.push([6,12,,13]),u.customProvider?[4,u.customProvider.getToken()]:[3,8];case 7:return d=E.sent(),p=a.issuedAtTime(d.token),v=null!==p&&p<Date.now()&&p>0?1e3*p:Date.now(),c=o.__assign(o.__assign({},d),{issuedAtTimeMillis:v}),[3,11];case 8:return[4,_(t).catch((function(t){throw h.create("recaptcha-error")}))];case 9:return y=E.sent(),[4,S(C(t,y),e)];case 10:c=E.sent(),E.label=11;case 11:return[3,13];case 12:return b=E.sent(),L.error(b),l=b,[3,13];case 13:return c?[3,14]:(I=function(t){return{token:(e=B,a.base64.encodeString(JSON.stringify(e),!1)),error:t};var e}(l),[3,16]);case 14:return I={token:c.token},m(t,o.__assign(o.__assign({},u),{token:c})),[4,F(t,c)];case 15:E.sent(),E.label=16;case 16:return H(t,I),[2,I]}}))}))}function H(t,e){for(var n=0,r=g(t).tokenListeners;n<r.length;n++){var i=r[n];try{i(e)}catch(t){}}}function K(t){return t.expireTimeMillis-Date.now()>0}function W(t){return{activate:function(e,n){return function(t,e,n){var r=g(t);if(r.activated)throw h.create("already-activated",{appName:t.name});var i=o.__assign(o.__assign({},r),{activated:!0});"string"==typeof e?i.siteKey=e:i.customProvider=e,i.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,m(t,i),i.siteKey&&function(t,e){var n=g(t),r=new a.Deferred;m(t,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u,c,l=b();return l?l.ready((function(){I(t,e,l,i),r.resolve(l)})):(u=function(){var n=b();if(!n)throw new Error("no recaptcha");n.ready((function(){I(t,e,n,i),r.resolve(n)}))},(c=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",c.onload=u,document.head.appendChild(c)),r.promise}(t,i.siteKey).catch((function(){}))}(t,e,n)},setTokenAutoRefreshEnabled:function(e){return function(t,e){var n=g(t);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),m(t,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:e}))}(t,e)}}}function G(t,e){return{getToken:function(n){return V(t,e,n)},addTokenListener:function(n){return function(t,e,n){var r=g(t),i=o.__assign(o.__assign({},r),{tokenListeners:o.__spreadArray(o.__spreadArray([],r.tokenListeners),[n])});if(U()){var a=y();a.enabled&&a.token&&a.token.promise.then((function(t){return n({token:t})})).catch((function(){}))}else{if(!i.tokenRefresher){var s=function(t,e){var n=this;return new T((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return g(t).token?[3,2]:[4,V(t,e)];case 1:return n=r.sent(),[3,4];case 2:return[4,V(t,e,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var e=g(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5,r=e.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),3e4,96e4)}(t,e);i.tokenRefresher=s}if(i.tokenRefresher.isRunning()||!0!==r.isTokenAutoRefreshEnabled||i.tokenRefresher.start(),r.token&&K(r.token)){var u=r.token;Promise.resolve().then((function(){return n({token:u.token})})).catch((function(){}))}}m(t,i)}(t,e,n)},removeTokenListener:function(e){return function(t,e){var n=g(t),r=n.tokenListeners.filter((function(t){return t!==e}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),m(t,o.__assign(o.__assign({},n),{tokenListeners:r}))}(t,e)}}}var z="app-check-internal";!function(t){t.INTERNAL.registerComponent(new i.Component("appCheck",(function(t){return W(t.getProvider("app").getImmediate())}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(t,e,n){t.getProvider(z).initialize()}))),t.INTERNAL.registerComponent(new i.Component(z,(function(t){return G(t.getProvider("app").getImmediate(),t.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion("@firebase/app-check","0.1.1")}(l.default),function(){var t=a.getGlobal();if("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===t.FIREBASE_APPCHECK_DEBUG_TOKEN){var e=y();e.enabled=!0;var n=new a.Deferred;e.token=n,"string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e;return o.__generator(this,(function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,R(A)];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:((r=e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),D(A,r)).catch((function(t){return L.warn("Failed to persist debug token to indexeddb. Error: "+t)})),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}var r}))}))}())}}()},fV8W:function(t,e,n){"use strict";n.r(e),n.d(e,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return a},__decorate:function(){return s},__param:function(){return u},__metadata:function(){return c},__awaiter:function(){return l},__generator:function(){return f},__createBinding:function(){return h},__exportStar:function(){return d},__values:function(){return p},__read:function(){return v},__spread:function(){return g},__spreadArrays:function(){return m},__spreadArray:function(){return y},__await:function(){return b},__asyncGenerator:function(){return w},__asyncDelegator:function(){return _},__asyncValues:function(){return I},__makeTemplateObject:function(){return E},__importStar:function(){return S},__importDefault:function(){return C},__classPrivateFieldGet:function(){return k},__classPrivateFieldSet:function(){return x}});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function f(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var h=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function d(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||h(e,t,n)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function w(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof b?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(t){l(o[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:b(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function I(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var T=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&h(e,t,n);return T(e,t),e}function C(t){return t&&t.__esModule?t:{default:t}}function k(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function x(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}},nJIM:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return _},firebase:function(){return w}});var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.create,Object.create;var i,o,a=n("FXmT"),s=n("qaro"),u=n("MxOq"),c=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),l=new a.ErrorFactory("app","Firebase",c),f="@firebase/app",h="[DEFAULT]",d=((o={})[f]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/app-check"]="fire-app-check",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),p=new u.Logger("@firebase/app"),v=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,a.deepCopy)(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=h),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=h),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=h);var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.contains)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||h,!(0,a.contains)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&(0,a.deepExtend)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,f=Object.keys(e);c<f.length;c++){var h=f[c];e[h]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(v);return e.INTERNAL=r(r({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,a.deepExtend)(e,t)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if((0,a.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,a.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=g;!function(t,e){t.INTERNAL.registerComponent(new s.Component("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion(f,"0.6.22",void 0),t.registerVersion("fire-js","")}(w);var _=w},abW9:function(t,e,n){"use strict";var r=n("nJIM");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,n){if(n){var r=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in r||(r[a]={}),r=r[a]}(n=n(o=r[t=t[t.length-1]]))!=o&&null!=n&&e(r,t,{configurable:!0,writable:!0,value:n})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=a(t),o=i.next();!o.done;o=i.next())r(o.value).Qa(e,n)}))},e.all=function(t){var n=a(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Qa(o(a.length-1),e),i=n.next()}while(!i.done)}))},e}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function f(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){return"function"==d(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function I(t,e,n){return(I=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var T=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function C(t){return t}function k(t,e,n){this.code=N+t,this.message=e||P[t]||"",this.a=n||null}function x(t){var e=t&&t.code;return e?new k(e.substring(N.length),t.message,t.serverResponse):null}S(k,Error),k.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},k.prototype.toJSON=function(){return this.w()};var A,N="auth/",P={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function M(t){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");M.call(this,n+t[r])}function j(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function q(){this.b=this.a=null}A=D("__EID__")?"__EID__":void 0,S(M,Error),M.prototype.name="CustomError",S(L,M),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var B=new F((function(){return new H}),(function(t){t.reset()}));function V(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function H(){this.next=this.b=this.a=null}q.prototype.add=function(t,e){var n=B.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},H.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},H.prototype.reset=function(){this.next=this.b=this.a=null};var K=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},W=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},G=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},z=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},Y=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Q(t,e){return 0<=K(t,e)}function X(t,e){var n;return(n=0<=(e=K(t,e)))&&Array.prototype.splice.call(t,e,1),n}function J(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1).length}))}function $(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,rt=/</g,it=/>/g,ot=/"/g,at=/'/g,st=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function lt(t,e){return t<e?-1:t>e?1:0}t:{var ft=u.navigator;if(ft){var ht=ft.userAgent;if(ht){tt=ht;break t}}tt=""}function dt(t){return ct(tt,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function vt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===Tt&&e||"",this.b=Et}function _t(t){return t instanceof wt&&t.constructor===wt&&t.b===Et?t.a:(j("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.sa=!0,wt.prototype.ra=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var It,Et={},Tt={};function St(){if(void 0===It){var t=null,e=u.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:C,createScript:C,createScriptURL:C})}catch(t){u.console&&u.console.error(t.message)}It=t}else It=t}return It}function Ct(t,e){this.a=e===Pt?t:""}function kt(t){return t instanceof Ct&&t.constructor===Ct?t.a:(j("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function xt(t,e){var n=_t(t);if(!Nt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=St();return new Ct(t=e?e.createScriptURL(t):t,Pt)}(t=n.replace(At,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof wt?_t(t):encodeURIComponent(String(t))})))}Ct.prototype.sa=!0,Ct.prototype.ra=function(){return this.a.toString()},Ct.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var At=/%{(\w+)}/g,Nt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Pt={};function Ot(t,e){this.a=e===Ut?t:""}function Dt(t){return t instanceof Ot&&t.constructor===Ot?t.a:(j("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Mt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Lt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function jt(t){if(t instanceof Ot)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Lt.test(t))t=new Ot(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Mt);t=e&&Rt.test(e[1])?new Ot(t,Ut):null}return t}function Ft(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Lt.test(t)||(t="about:invalid#zClosurez"),new Ot(t,Ut))}var Ut={},qt=new Ot("about:invalid#zClosurez",Ut);function Bt(t,e,n){this.a=n===Vt?t:""}Bt.prototype.sa=!0,Bt.prototype.ra=function(){return this.a.toString()},Bt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function Ht(t,e,n,r){return t=t instanceof Ot?t:Ft(t),e=e||u,n=n instanceof wt?_t(n):n||"",e.open(Dt(t),n,r,void 0)}function Kt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Wt(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(rt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(at,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Gt(t){return Gt[" "](t),t}Gt[" "]=h;var zt,Yt,Qt=dt("Opera"),Xt=dt("Trident")||dt("MSIE"),Jt=dt("Edge"),$t=Jt||Xt,Zt=dt("Gecko")&&!(ct(tt.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),te=ct(tt.toLowerCase(),"webkit")&&!dt("Edge");function ee(){var t=u.document;return t?t.documentMode:void 0}t:{var ne="",re=(Yt=tt,Zt?/rv:([^\);]+)(\)|;)/.exec(Yt):Jt?/Edge\/([\d\.]+)/.exec(Yt):Xt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Yt):te?/WebKit\/(\S+)/.exec(Yt):Qt?/(?:Version)[ \/]?(\S+)/.exec(Yt):void 0);if(re&&(ne=re?re[1]:""),Xt){var ie=ee();if(null!=ie&&ie>parseFloat(ne)){zt=String(ie);break t}}zt=ne}var oe,ae={};function se(t){return function(t,e){var n=ae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=et(String(zt)).split("."),r=et(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=lt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||lt(0==a[2].length,0==s[2].length)||lt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}u.document&&Xt?oe=ee()||parseInt(zt,10)||void 0:oe=void 0;var ue=oe;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Yt){}var ce=!Xt||9<=Number(ue);function le(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function fe(t,e){pt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:pe.hasOwnProperty(n)?t.setAttribute(pe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var he,de,pe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ve(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||g(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(v(o)){a="function"==typeof o.item;break t}}a=!1}W(a?Z(o):o,r)}}}function ge(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function me(t){u.setTimeout((function(){throw t}),0)}function ye(t,e){de||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);de=function(){t.then(_e)}}else de=function(){var t=_e;!v(u.setImmediate)||u.Window&&u.Window.prototype&&!dt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(he||(he=function(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=ge(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=I((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),he(t)):u.setImmediate(t)}}(),be||(de(),be=!0),we.add(t,e)}var be=!1,we=new q;function _e(){for(var t;t=V();){try{t.a.call(t.b)}catch(t){me(t)}U(B,t)}be=!1}function Ie(t,e){if(this.a=Ee,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Le(n,Te,t)}),(function(t){if(!(t instanceof He))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Le(n,Se,t)}))}catch(t){Le(this,Se,t)}}var Ee=0,Te=2,Se=3;function Ce(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ce.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ke=new F((function(){return new Ce}),(function(t){t.reset()}));function xe(t,e,n){var r=ke.get();return r.g=t,r.b=e,r.f=n,r}function Ae(t){if(t instanceof Ie)return t;var e=new Ie(h);return Le(e,Te,t),e}function Ne(t){return new Ie((function(e,n){n(t)}))}function Pe(t,e,n){je(t,e,n,null)||ye(E(e,t))}function Oe(t){return new Ie((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Pe(t[o],E(i,o,!0),E(i,o,!1));else e(r)}))}function De(t,e){if(t.a==Ee)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Ee&&1==r?De(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ue(n),qe(n,i,Se,e)))}t.c=null}else Le(t,Se,e)}function Re(t,e){t.b||t.a!=Te&&t.a!=Se||Fe(t),t.f?t.f.next=e:t.b=e,t.f=e}function Me(t,e,n,r){var i=xe(null,null,null);return i.a=new Ie((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof He?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Re(t,i),i.a}function Le(t,e,n){t.a==Ee&&(t===n&&(e=Se,n=new TypeError("Promise cannot resolve to itself")),t.a=1,je(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Fe(t),e!=Se||n instanceof He||function(t,e){t.g=!0,ye((function(){t.g&&Ve.call(null,e)}))}(t,n)))}function je(t,e,n,r){if(t instanceof Ie)return Re(t,xe(e||h,n||null,r)),!0;if(R(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(v(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Fe(t){t.h||(t.h=!0,ye(t.gc,t))}function Ue(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function qe(t,e,n,r){if(n==Se&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Be(e,n,r);else try{e.c?e.g.call(e.f):Be(e,n,r)}catch(t){Ve.call(null,t)}U(ke,e)}function Be(t,e,n){e==Te?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ie.prototype.then=function(t,e,n){return Me(this,v(t)?t:null,v(e)?e:null,n)},Ie.prototype.$goog_Thenable=!0,(t=Ie.prototype).oa=function(t,e){return(t=xe(t,t,e)).c=!0,Re(this,t),this},t.o=function(t,e){return Me(this,null,t,e)},t.cancel=function(t){if(this.a==Ee){var e=new He(t);ye((function(){De(this,e)}),this)}},t.$c=function(t){this.a=Ee,Le(this,Te,t)},t.ad=function(t){this.a=Ee,Le(this,Se,t)},t.gc=function(){for(var t;t=Ue(this);)qe(this,t,this.a,this.i);this.h=!1};var Ve=me;function He(t){M.call(this,t)}function Ke(){0!=We&&(Ge[m(this)]=this),this.xa=this.xa,this.pa=this.pa}S(He,M),He.prototype.name="cancel";var We=0,Ge={};function ze(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=We)){var e=m(t);if(0!=We&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ge[e]}}Ke.prototype.xa=!1,Ke.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ye=Object.freeze||function(t){return t},Qe=!Xt||9<=Number(ue),Xe=Xt&&!se("9"),Je=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",h,e),u.removeEventListener("test",h,e)}catch(t){}return t}();function $e(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ze(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Zt){t:{try{Gt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:tn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}$e.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Ze,$e);var tn=Ye({2:"touch",3:"pen",4:"mouse"});Ze.prototype.preventDefault=function(){Ze.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Xe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Ze.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++nn,this.va=this.Pa=!1}function on(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function an(t){this.src=t,this.a={},this.b=0}function sn(t,e){var n=e.type;n in t.a&&X(t.a[n],e)&&(on(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function un(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}an.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=un(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new rn(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),ln={};function fn(t,e,n,r,i){if(r&&r.once)dn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else n=In(n),t&&t[en]?Tn(t,e,n,g(r)?!!r.capture:!!r,i):hn(t,e,n,!1,r,i)}function hn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=wn(t);if(s||(t[cn]=s=new an(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=bn,e=Qe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Je||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else n=In(n),t&&t[en]?Sn(t,e,n,g(r)?!!r.capture:!!r,i):hn(t,e,n,!0,r,i)}function pn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)pn(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=In(n),t&&t[en]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=un(o=t.a[e],n,r,i))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=wn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=un(e,n,r,i)),(n=-1<t?e[t]:null)&&vn(n))}function vn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[en])sn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wn(e))?(sn(n,t),0==n.b&&(n.src=null,e[cn]=null)):on(t)}}}function gn(t){return t in ln?ln[t]:ln[t]="on"+t}function mn(t,e,n,r){var i=!0;if((t=wn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=yn(o,r),i=i&&!1!==o)}return i}function yn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&vn(t),n.call(r,e)}function bn(t,e){if(t.va)return!0;if(!Qe){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ze(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=mn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=mn(r[i],t,!1,e),n=n&&o}return n}return yn(t,new Ze(e,this))}function wn(t){return(t=t[cn])instanceof an?t:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function In(t){return v(t)?t:(t[_n]||(t[_n]=function(e){return t.handleEvent(e)}),t[_n])}function En(){Ke.call(this),this.v=new an(this),this.ac=this,this.gb=null}function Tn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Sn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Cn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&sn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function kn(t,e,n){if(v(t))n&&(t=I(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=I(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function xn(t){var e=null;return new Ie((function(n,r){-1==(e=kn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function An(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Nn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Pn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Pn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function On(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Dn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Dn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(En,Ke),En.prototype[en]=!0,En.prototype.addEventListener=function(t,e,n,r){fn(this,t,e,n,r)},En.prototype.removeEventListener=function(t,e,n,r){pn(this,t,e,n,r)},En.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new $e(t,n);else if(t instanceof $e)t.target=t.target||n;else{var i=t;yt(t=new $e(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Cn(a,r,!0,t)&&i}if(i=Cn(a=t.b=n,r,!0,t)&&i,i=Cn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Cn(a=t.b=e[o],r,!1,t)&&i;return i},En.prototype.Da=function(){if(En.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)on(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=Pn.prototype).W=function(){On(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return On(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Dn(this.b,t)?this.b[t]:e},t.set=function(t,e){Dn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Mn?(this.i=void 0!==e?e:t.i,Ln(this,t.c),this.l=t.l,this.a=t.a,jn(this,t.g),this.f=t.f,Fn(this,rr(t.b)),this.h=t.h):t&&(n=String(t).match(Rn))?(this.i=!!e,Ln(this,n[1]||"",!0),this.l=Hn(n[2]||""),this.a=Hn(n[3]||"",!0),jn(this,n[4]),this.f=Hn(n[5]||"",!0),Fn(this,n[6]||"",!0),this.h=Hn(n[7]||"")):(this.i=!!e,this.b=new Jn(null,this.i))}function Ln(t,e,n){t.c=n?Hn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function jn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Fn(t,e,n){e instanceof Jn?(t.b=e,function(t,e){e&&!t.f&&($n(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tr(this,e),nr(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Kn(e,Qn)),t.b=new Jn(e,t.i))}function Un(t,e,n){t.b.set(e,n)}function qn(t,e){return t.b.get(e)}function Bn(t){return t instanceof Mn?new Mn(t):new Mn(t,void 0)}function Vn(t,e,n,r){var i=new Mn(null,void 0);return t&&Ln(i,t),e&&(i.a=e),n&&jn(i,n),r&&(i.f=r),i}function Hn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Kn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Wn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Wn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Mn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Kn(e,Gn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Kn(e,Gn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Kn(n,"/"==n.charAt(0)?Yn:zn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Kn(n,Xn)),t.join("")},Mn.prototype.resolve=function(t){var e=new Mn(this),n=!!t.c;n?Ln(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)jn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Fn(e,rr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Gn=/[#\/\?@]/g,zn=/[#\?:]/g,Yn=/[#\?]/g,Qn=/[#\?@]/g,Xn=/#/g;function Jn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function $n(t){t.a||(t.a=new Pn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Zn(t){var e=Nn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Jn(null,void 0);t=An(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function tr(t,e){$n(t),e=ir(t,e),Dn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Dn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&On(t)))}function er(t,e){return $n(t),e=ir(t,e),Dn(t.a.b,e)}function nr(t,e,n){tr(t,e),0<n.length&&(t.c=null,t.a.set(ir(t,e),Z(n)),t.b+=n.length)}function rr(t){var e=new Jn;return e.c=t.c,t.a&&(e.a=new Pn(t.a),e.b=t.b),e}function ir(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function or(t){var e=[];return sr(new ar,t,e),e.join("")}function ar(){}function sr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),sr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),lr(r,n),n.push(":"),sr(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":lr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Jn.prototype).add=function(t,e){$n(this),this.c=null,t=ir(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){$n(this),this.a.forEach((function(n,r){W(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){$n(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){$n(this);var e=[];if("string"==typeof t)er(this,t)&&(e=$(e,this.a.get(ir(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},t.set=function(t,e){return $n(this),this.c=null,er(this,t=ir(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function lr(t,e){e.push('"',t.replace(cr,(function(t){var e=ur[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ur[t]=e),e})),'"')}function fr(){var t=Pr();return Xt&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function hr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function dr(t,e){e=e||u.window;var n="about:blank";t&&(n=Dt(jt(t)||qt)),e.location.href=n}function pr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<pr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function vr(t){return!!((t=(t||Pr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function gr(t){t=t||u.window;try{t.close()}catch(t){}}function mr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Pr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),xr(Pr())==Cr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:jt(void 0!==n.href?n.href:String(n))||qt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(a=ge(document,"A"),"HTMLAnchorElement"),e=e instanceof Ot?e:Ft(e),a.href=Dt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Ht("",r,n,a),t=Dt(e),a&&($t&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Wt(t)+'">',t=new Bt(t=(r=St())?r.createHTML(t):t,null,Vt),r=a.document)&&(r.write(function(t){return t instanceof Bt&&t.constructor===Bt?t.a:(j("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Ht(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var yr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function wr(){var t=null;return new Ie((function(e){"complete"==u.document.readyState?e():(t=function(){e()},dn(window,"load",t))})).o((function(e){throw pn(window,"load",t),e}))}function _r(t){return t=t||Pr(),!("file:"!==Lr()&&"ionic:"!==Lr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ir(){var t=u.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Er(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function Tr(){return r.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.default.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function Sr(){var t=Tr();return"ReactNative"===t||"Node"===t}var Cr="Firefox",kr="Chrome";function xr(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?Cr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":kr:"Safari"}var Ar={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Nr(t,e){e=e||[];var n,r=[],i={};for(n in Ar)i[Ar[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Tr())?r=xr(i=Pr()):"Worker"===r&&(r=xr(i=Pr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Pr(){return u.navigator&&u.navigator.userAgent||""}function Or(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Dr(){try{var t=u.localStorage,e=Br();if(t)return t.setItem(e,"1"),t.removeItem(e),!fr()||!!u.indexedDB}catch(t){return Er()&&!!u.indexedDB}return!1}function Rr(){return(Mr()||"chrome-extension:"===Lr()||_r())&&!Sr()&&Dr()&&!Er()}function Mr(){return"http:"===Lr()||"https:"===Lr()}function Lr(){return u.location&&u.location.protocol||null}function jr(t){return!vr(t=t||Pr())&&xr(t)!=Cr}function Fr(t){return void 0===t?null:or(t)}function Ur(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function qr(t){if(null!==t)return JSON.parse(t)}function Br(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=xr(t=t||Pr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Hr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Kr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Pr(),e=Tr(),this.b=vr(t)||"ReactNative"===e}function Wr(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Gr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function zr(){return!(!Or("fireauth.oauthhelper",u)&&!Or("fireauth.iframe",u))}Kr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!=typeof t.onLine||!Mr()&&"chrome-extension:"!==Lr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Yr,Qr={};function Xr(t){Qr[t]||(Qr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Jr={};Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:2}),Yr=2==Jr.abcd}catch(Yt){Yr=!1}function $r(t,e,n){Yr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&$r(t,n,e[n])}function ti(t){var e={};return Zr(e,t),e}function ei(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)$r(e,n,ei(t[n]));return e}function ni(t){var e=t&&(t[si]?"phone":null);if(!(e&&t&&t[ai]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");$r(this,"uid",t[ai]),$r(this,"displayName",t[ii]||null);var n=null;t[oi]&&(n=new Date(t[oi]).toUTCString()),$r(this,"enrollmentTime",n),$r(this,"factorId",e)}function ri(t){try{var e=new ui(t)}catch(t){e=null}return e}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",ai="mfaEnrollmentId",si="phoneInfo";function ui(t){ni.call(this,t),$r(this,"phoneNumber",t[si])}function ci(t){var e={},n=t[di],r=t[vi],i=t[gi];if(t=ri(t[pi]),!i||i!=fi&&i!=hi&&!n||i==hi&&!r||i==li&&!t)throw Error("Invalid checkActionCode response!");i==hi?(e[yi]=n||null,e[wi]=n||null,e[mi]=r):(e[yi]=r||null,e[wi]=r||null,e[mi]=n||null),e[bi]=t||null,$r(this,Ii,i),$r(this,_i,ei(e))}S(ui,ni),ui.prototype.w=function(){var t=ui.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var li="REVERT_SECOND_FACTOR_ADDITION",fi="EMAIL_SIGNIN",hi="VERIFY_AND_CHANGE_EMAIL",di="email",pi="mfaInfo",vi="newEmail",gi="requestType",mi="email",yi="fromEmail",bi="multiFactorInfo",wi="previousEmail",_i="data",Ii="operation";function Ei(t){var e=qn(t=Bn(t),Ti)||null,n=qn(t,Si)||null,r=qn(t,xi)||null;if(r=r&&Ni[r]||null,!e||!n||!r)throw new k("argument-error",Ti+", "+Si+"and "+xi+" are required in a valid action code URL.");Zr(this,{apiKey:e,operation:r,code:n,continueUrl:qn(t,Ci)||null,languageCode:qn(t,ki)||null,tenantId:qn(t,Ai)||null})}var Ti="apiKey",Si="oobCode",Ci="continueUrl",ki="languageCode",xi="mode",Ai="tenantId",Ni={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:li,signIn:fi,verifyAndChangeEmail:hi,verifyEmail:"VERIFY_EMAIL"};function Pi(t){try{return new Ei(t)}catch(t){return null}}function Oi(t){var e=t[ji];if(void 0===e)throw new k("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new k("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Di];if(n&&"object"==typeof n){e=n[qi];var r=n[Fi];if(n=n[Ui],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new k("argument-error",Fi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new k("argument-error",Ui+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new k("argument-error",qi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new k("missing-android-pkg-name")}}else if(void 0!==n)throw new k("argument-error",Di+" property must be a non null object when specified.");if(this.f=null,(e=t[Li])&&"object"==typeof e){if("string"==typeof(e=e[Bi])&&e.length)this.f=e;else if(void 0!==e)throw new k("argument-error",Bi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new k("argument-error",Li+" property must be a non null object when specified.");if(void 0!==(e=t[Mi])&&"boolean"!=typeof e)throw new k("argument-error",Mi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ri])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new k("argument-error",Ri+" property must be a non empty string when specified.");this.i=t||null}var Di="android",Ri="dynamicLinkDomain",Mi="handleCodeInApp",Li="iOS",ji="url",Fi="installApp",Ui="minimumVersion",qi="packageName",Bi="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Hi=null;function Ki(t){var e=Gi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Wi(t){try{return new Ki(t)}catch(t){return null}}function Gi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Hi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Hi){Hi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Hi[o]&&(Hi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(t){}return null}Ki.prototype.T=function(){return this.f},Ki.prototype.l=function(){return this.c},Ki.prototype.toString=function(){return this.h};var zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Yi=["client_id","response_type","scope","redirect_uri","state"],Qi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Yi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Yi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Yi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:zi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Xi(t){for(var e in Qi)if(Qi[e].fa==t)return Qi[e];return null}function Ji(t){var e={};e["facebook.com"]=no,e["google.com"]=io,e["github.com"]=ro,e["twitter.com"]=oo;var n=t&&t[Zi];try{if(n)return e[n]?new e[n](t):new eo(t);if(void 0!==t[$i])return new to(t)}catch(t){}return null}var $i="idToken",Zi="providerId";function to(t){var e=t[Zi];if(!e&&t[$i]){var n=Wi(t[$i]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),$r(this,"providerId",e),$r(this,"isNewUser",n)}function eo(t){to.call(this,t),$r(this,"profile",ei((t=qr(t.rawUserInfo||"{}"))||{}))}function no(t){if(eo.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(eo.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",this.profile&&this.profile.login||null)}function io(t){if(eo.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function oo(t){if(eo.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",t.screenName||null)}function ao(t){var e=Bn(t),n=qn(e,"link"),r=qn(Bn(n),"link");return e=qn(e,"deep_link_id"),qn(Bn(e),"link")||e||r||n||t}function so(t,e){if(!t&&!e)throw new k("internal-error","Internal assert: no raw session string available");if(t&&e)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?uo:co}S(eo,to),S(no,eo),S(ro,eo),S(io,eo),S(oo,eo);var uo="enroll",co="signin";function lo(){}function fo(t,e){return t.then((function(t){if(t[Za]){var n=Wi(t[Za]);if(!n||e!=n.i)throw new k("user-mismatch");return t}throw new k("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==N+"user-not-found"?new k("user-mismatch"):t}))}function ho(t,e){if(!e)throw new k("internal-error","failed to construct a credential");this.a=e,$r(this,"providerId",t),$r(this,"signInMethod",t)}function po(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function vo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ho(t.providerId,t.pendingToken)}catch(t){}return null}function go(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&$r(this,"idToken",e.idToken),e.accessToken&&$r(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&$r(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");$r(this,"accessToken",e.oauthToken),$r(this,"secret",e.oauthTokenSecret)}$r(this,"providerId",t),$r(this,"signInMethod",n)}function mo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function yo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new go(t.providerId,e,t.signInMethod)}catch(t){}}return null}function bo(t,e){this.Qc=e||[],Zr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Xi(t)||{}).Ja||null,this.ob=null}function wo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');bo.call(this,t,[])}function _o(t){bo.call(this,t,Yi),this.a=[]}function Io(){_o.call(this,"facebook.com")}function Eo(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new Io).credential({accessToken:e})}function To(){_o.call(this,"github.com")}function So(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new To).credential({accessToken:e})}function Co(){_o.call(this,"google.com"),this.Ca("profile")}function ko(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new Co).credential({idToken:n,accessToken:e})}function xo(){bo.call(this,"twitter.com",zi)}function Ao(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new go("twitter.com",n,"twitter.com")}function No(t,e,n){this.a=t,this.f=e,$r(this,"providerId","password"),$r(this,"signInMethod",n===Oo.EMAIL_LINK_SIGN_IN_METHOD?Oo.EMAIL_LINK_SIGN_IN_METHOD:Oo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Po(t){return t&&t.email&&t.password?new No(t.email,t.password,t.signInMethod):null}function Oo(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function Do(t,e){if(!(e=Ro(e)))throw new k("argument-error","Invalid email link!");return new No(t,e.code,Oo.EMAIL_LINK_SIGN_IN_METHOD)}function Ro(t){return(t=Pi(t=ao(t)))&&t.operation===fi?t:null}function Mo(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new k("internal-error");this.a=t,$r(this,"providerId","phone"),this.fa="phone",$r(this,"signInMethod","phone")}function Lo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Mo(e)}return null}function jo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Fo(t){try{this.a=t||r.default.auth()}catch(t){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function Uo(t,e){if(!t)throw new k("missing-verification-id");if(!e)throw new k("missing-verification-code");return new Mo({eb:t,cb:e})}function qo(t){if(t.temporaryProof&&t.phoneNumber)return new Mo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return ko(o,n);case"facebook.com":return Eo(n);case"github.com":return So(n);case"twitter.com":return Ao(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new ho(e,a):new go(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new _o(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Bo(t){if(!t.isOAuthProvider)throw new k("invalid-oauth-provider")}function Vo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function Ho(t){return(t=t||{}).type?new Vo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&x(t.error),t.postBody,t.tenantId):null}function Ko(){this.b=null,this.a=[]}so.prototype.Ha=function(){return this.a?Ae(this.a):Ae(this.b)},so.prototype.w=function(){return this.type==uo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},lo.prototype.ka=function(){},lo.prototype.b=function(){},lo.prototype.c=function(){},lo.prototype.w=function(){},ho.prototype.ka=function(t){return ws(t,po(this))},ho.prototype.b=function(t,e){var n=po(this);return n.idToken=e,_s(t,n)},ho.prototype.c=function(t,e){return fo(Is(t,po(this)),e)},ho.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},go.prototype.ka=function(t){return ws(t,mo(this))},go.prototype.b=function(t,e){var n=mo(this);return n.idToken=e,_s(t,n)},go.prototype.c=function(t,e){return fo(Is(t,mo(this)),e)},go.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},bo.prototype.Ka=function(t){return this.Ib=gt(t),this},S(wo,bo),S(_o,bo),_o.prototype.Ca=function(t){return Q(this.a,t)||this.a.push(t),this},_o.prototype.Qb=function(){return Z(this.a)},_o.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new go(this.providerId,n,this.providerId)},S(Io,_o),$r(Io,"PROVIDER_ID","facebook.com"),$r(Io,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(To,_o),$r(To,"PROVIDER_ID","github.com"),$r(To,"GITHUB_SIGN_IN_METHOD","github.com"),S(Co,_o),$r(Co,"PROVIDER_ID","google.com"),$r(Co,"GOOGLE_SIGN_IN_METHOD","google.com"),S(xo,bo),$r(xo,"PROVIDER_ID","twitter.com"),$r(xo,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ka=function(t){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Ns,{email:this.a,oobCode:this.f}):ru(t,$s,{email:this.a,password:this.f})},No.prototype.b=function(t,e){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Ps,{idToken:e,email:this.a,oobCode:this.f}):ru(t,Ks,{idToken:e,email:this.a,password:this.f})},No.prototype.c=function(t,e){return fo(this.ka(t),e)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Oo,{PROVIDER_ID:"password"}),Zr(Oo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Oo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Mo.prototype.ka=function(t){return t.fb(jo(this))},Mo.prototype.b=function(t,e){var n=jo(this);return n.idToken=e,ru(t,tu,n)},Mo.prototype.c=function(t,e){var n=jo(this);return n.operation="REAUTH",fo(t=ru(t,eu,n),e)},Mo.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Fo.prototype.fb=function(t,e){var n=this.a.a;return Ae(e.verify()).then((function(r){if("string"!=typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==uo?i.Ha().then((function(t){return function(t,e){return ru(t,Gs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==co?i.Ha().then((function(e){return function(t,e){return ru(t,zs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ru(t,Vs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Zr(Fo,{PROVIDER_ID:"phone"}),Zr(Fo,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Vo.prototype.T=function(){return this.h},Vo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Wo,Go=null;function zo(t){var e="unauthorized-domain",n=void 0,r=Bn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Kt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Kt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",k.call(this,e,n)}function Yo(t,e,n){k.call(this,t,n),(t=e||{}).Jb&&$r(this,"email",t.Jb),t.ea&&$r(this,"phoneNumber",t.ea),t.credential&&$r(this,"credential",t.credential),t.Zb&&$r(this,"tenantId",t.Zb)}function Qo(t){if(t.code){var e=t.code||"";0==e.indexOf(N)&&(e=e.substring(N.length));var n={credential:qo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new k(e,t.message||void 0);return new Yo(e,n,t.message)}return null}function Xo(){}function Jo(t){return t.c||(t.c=t.b())}function $o(){}function Zo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ta(){}function ea(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=I(this.qc,this),this.a.onerror=I(this.Sb,this),this.a.onprogress=I(this.rc,this),this.a.ontimeout=I(this.vc,this)}function na(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ra(t,e,n){this.reset(t,e,n,void 0,void 0)}function ia(t){this.f=t,this.b=this.c=this.a=null}function oa(t,e){this.name=t,this.value=e}S(zo,k),S(Yo,k),Yo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},Yo.prototype.toJSON=function(){return this.w()},Xo.prototype.c=null,S($o,Xo),$o.prototype.a=function(){var t=Zo(this);return t?new ActiveXObject(t):new XMLHttpRequest},$o.prototype.b=function(){var t={};return Zo(this)&&(t[0]=!0,t[1]=!0),t},Wo=new $o,S(ta,Xo),ta.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new ea;throw Error("Unsupported browser")},ta.prototype.b=function(){return{}},(t=ea.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,na(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",na(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,na(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ra.prototype.a=null,ra.prototype.reset=function(t,e,n,r,i){r||T(),delete this.a},oa.prototype.toString=function(){return this.name};var aa=new oa("SEVERE",1e3),sa=new oa("WARNING",900),ua=new oa("CONFIG",700),ca=new oa("FINE",500);function la(t){return t.c?t.c:t.a?la(t.a):(j("Root logger has no level set."),null)}ia.prototype.log=function(t,e,n){if(t.value>=la(this).value)for(v(e)&&(e=e()),t=new ra(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var fa={},ha=null;function da(t){var e;if(ha||(ha=new ia(""),fa[""]=ha,ha.c=ua),!(e=fa[t])){e=new ia(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=da(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,fa[t]=e}return e}function pa(t,e){t&&t.log(ca,e,void 0)}function va(t){this.f=t}function ga(t){En.call(this),this.u=t,this.h=void 0,this.readyState=ma,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=da("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(va,Xo),va.prototype.a=function(){return new ga(this.f)},va.prototype.b=function(t){return function(){return t}}({}),S(ga,En);var ma=0;function ya(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ba(t){t.readyState=4,t.g=null,t.c=null,t.m=null,wa(t)}function wa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function _a(t){En.call(this),this.headers=new Pn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ia,this.u=this.S=!1}(t=ga.prototype).open=function(t,e){if(this.readyState!=ma)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,wa(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ba(this)),this.readyState=ma},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,wa(this)),this.a&&(this.readyState=3,wa(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ya(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ba(this):wa(this),3==this.readyState&&ya(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ba(this))},t.sc=function(t){this.a&&(this.response=t,ba(this))},t.Ua=function(t){var e=this.i;e&&e.log(sa,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ba(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(sa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(sa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ga.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),S(_a,En);var Ia="";_a.prototype.b=da("goog.net.XhrIo");var Ea=/^https?$/i,Ta=["POST","PUT"];function Sa(t){return"content-type"==t.toLowerCase()}function Ca(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ka(t),Aa(t)}function ka(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function xa(t){if(t.c&&void 0!==s)if(t.C[1]&&4==Pa(t)&&2==Oa(t))pa(t.b,Da(t,"Local request error detected and ignored"));else if(t.i&&4==Pa(t))kn(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Pa(t)){pa(t.b,Da(t,"Request complete")),t.c=!1;try{var e,n=Oa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Rn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ea.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Pa(t)?t.a.statusText:""}catch(e){pa(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Oa(t)+"]",ka(t)}}finally{Aa(t)}}}function Aa(t,e){if(t.a){Na(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(aa,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Na(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function Pa(t){return t.a?t.a.readyState:0}function Oa(t){try{return 2<Pa(t)?t.a.status:-1}catch(t){return-1}}function Da(t,e){return e+" ["+t.R+" "+t.l+" "+Oa(t)+"]"}function Ra(t){var e=Wa;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ma(t,e,n){t.a=!0,t.c=n,t.f=!e,Ua(t)}function La(t){if(t.a){if(!t.v)throw new qa(t);t.v=!1}}function ja(t,e,n,r){t.g.push([e,n,r]),t.a&&Ua(t)}function Fa(t){return Y(t.g,(function(t){return v(t[1])}))}function Ua(t){if(t.h&&t.a&&Fa(t)){var e=t.h,n=Ha[e];n&&(u.clearTimeout(n.a),delete Ha[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(R(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Fa(t)||(n=!0)}}t.c=e,r&&(s=I(t.m,t,!0),r=I(t.m,t,!1),e instanceof Ra?(ja(e,s,r),e.C=!0):e.then(s,r)),n&&(e=new Va(e),Ha[e.a]=e,t.h=e.a)}function qa(){M.call(this)}function Ba(){M.call(this)}function Va(t){this.a=u.setTimeout(I(this.c,this),0),this.b=t}(t=_a.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",pa(this.b,Da(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(pa(this.b,Da(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Aa(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Aa(this,!0)),_a.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?xa(this):this.Jc())},t.Jc=function(){xa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(aa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return pa(this.b,"Can not get response: "+t.message),null}},Ra.prototype.cancel=function(t){if(this.a)this.c instanceof Ra&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ba(this),La(this),Ma(this,!1,t))}},Ra.prototype.m=function(t,e){this.i=!1,Ma(this,t,e)},Ra.prototype.then=function(t,e,n){var r,i,o=new Ie((function(t,e){r=t,i=e}));return ja(this,r,(function(t){t instanceof Ba?o.cancel():i(t)})),o.then(t,e,n)},Ra.prototype.$goog_Thenable=!0,S(qa,M),qa.prototype.message="Deferred has already fired",qa.prototype.name="AlreadyCalledError",S(Ba,M),Ba.prototype.message="Deferred was canceled",Ba.prototype.name="CanceledError",Va.prototype.c=function(){throw delete Ha[this.a],this.b};var Ha={};function Ka(t){var e={},n=e.document||document,r=kt(t).toString(),i=ge(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Ra(o),s=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){Ga(i,!0);var t=new Qa(Ya,"Timeout reached for loading script "+r);La(a),Ma(a,!1,t)}),c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ga(i,e.xd||!1,s),La(a),Ma(a,!0,null))},i.onerror=function(){Ga(i,!0,s);var t=new Qa(za,"Error while loading script "+r);La(a),Ma(a,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),fe(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=kt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=u?e=f(e.document):(null===l&&(l=f(u.document)),e=l),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Wa(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Ga(t,!0,this.Ma)}}function Ga(t,e,n){null!=n&&u.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var za=0,Ya=1;function Qa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),M.call(this,n),this.code=t}function Xa(t){this.f=t}function Ja(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||ts,this.g=gt(t.secureTokenHeaders||es),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||ns,this.a=gt(t.firebaseHeaders||rs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Tr(),!(n=u.XMLHttpRequest||n&&r.default.INTERNAL.node&&r.default.INTERNAL.node.XMLHttpRequest)&&!Er())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Er()?this.f=new va(self):Sr()?this.f=new Xa(n):this.f=new ta,this.b=null}S(Qa,M),S(Xa,Xo),Xa.prototype.a=function(){return new this.f},Xa.prototype.b=function(){return{}};var $a,Za="idToken",ts=new Kr(3e4,6e4),es={"Content-Type":"application/x-www-form-urlencoded"},ns=new Kr(3e4,6e4),rs={"Content-Type":"application/json"};function is(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function os(t,e){e&&(t.l=as("https://securetoken.googleapis.com/v1/token",e),t.h=as("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=as("https://identitytoolkit.googleapis.com/v2/",e))}function as(t,e){return t=Bn(t),e=Bn(e.url),t.f=t.a+t.f,Ln(t,e.c),t.a=e.a,jn(t,e.g),t.toString()}function ss(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function us(t,e,n,r,i,o,a){(function(){var t=Pr();return!((t=xr(t)!=kr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Xt&&ue&&!(9<ue))})()||Er()?t=I(t.u,t):($a||($a=new Ie((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(u[ls]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){ja(t,null,e,void 0)}(Ka(xt(cs,{onload:ls})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=I(t.s,t)),t(e,n,r,i,o,a)}Ja.prototype.T=function(){return this.b},Ja.prototype.u=function(t,e,n,r,i,o){if(Er()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new _a(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Tn(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return pa(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),Sn(a,"ready",(function(){s&&clearTimeout(s),ze(this)})),Sn(a,"timeout",(function(){s&&clearTimeout(s),ze(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Wo.a(),t.C=t.D?Jo(t.D):Jo(Wo),t.a.onreadystatechange=I(t.Vb,t);try{pa(t.b,Da(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return pa(t.b,Da(t,"Error opening Xhr: "+e.message)),void Ca(t,e)}e=r||"";var o=new Pn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)W(t,e,void 0);else for(var n=Nn(t),r=An(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Sa,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!Q(Ta,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Na(t),0<t.g&&(t.u=function(t){return Xt&&se(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),pa(t.b,Da(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=I(t.Ma,t)):t.s=kn(t.Ma,t.g,t)),pa(t.b,Da(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){pa(t.b,Da(t,"Send error: "+e.message)),Ca(t,e)}}(a,t,n,r,i)};var cs=new wt(Tt,"https://apis.google.com/js/client.js?onload=%{onload}"),ls="__fcb"+Math.floor(1e6*Math.random()).toString();function fs(t){if("string"!=typeof(t=t.email)||!br.test(t))throw new k("invalid-email")}function hs(t){"email"in t&&fs(t)}function ds(t){if(!t[Za]){if(t.mfaPendingCredential)throw new k("multi-factor-auth-required",null,gt(t));throw new k("internal-error")}}function ps(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new k("internal-error")}else{if(!t.sessionInfo)throw new k("missing-verification-id");if(!t.code)throw new k("missing-verification-code")}}Ja.prototype.s=function(t,e,n,r,i){var o=this;$a.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ja.prototype.zb=function(){return ru(this,Ws,{})},Ja.prototype.Bb=function(t,e){return ru(this,Hs,{idToken:t,email:e})},Ja.prototype.Cb=function(t,e){return ru(this,Ks,{idToken:t,password:e})};var vs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function gs(t){if(!t.phoneVerificationInfo)throw new k("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new k("missing-verification-code")}function ms(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new k("internal-error")}function ys(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&er(t=new Jn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function bs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Qo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Qo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Qo(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;ds(t)}function ws(t,e){return e.returnIdpCredential=!0,ru(t,Ys,e)}function _s(t,e){return e.returnIdpCredential=!0,ru(t,Xs,e)}function Is(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,Qs,e)}function Es(t){if(!t.oobCode)throw new k("invalid-action-code")}(t=Ja.prototype).Db=function(t,e){var n={idToken:t},r=[];return pt(vs,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,Hs,n)},t.vb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,Fs,t)},t.wb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,Ms,t)},t.ub=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,Ls,t)},t.Eb=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,js,t)},t.fb=function(t){return ru(this,Zs,t)},t.nb=function(t,e){return ru(this,Bs,{oobCode:t,newPassword:e})},t.Ra=function(t){return ru(this,Ss,{oobCode:t})},t.jb=function(t){return ru(this,Ts,{oobCode:t})};var Ts={endpoint:"setAccountInfo",A:Es,Z:"email",B:!0},Ss={endpoint:"resetPassword",A:Es,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new k("internal-error")},B:!0},Cs={endpoint:"signupNewUser",A:function(t){if(fs(t),!t.password)throw new k("weak-password")},G:ds,V:!0,B:!0},ks={endpoint:"createAuthUri",B:!0},xs={endpoint:"deleteAccount",N:["idToken"]},As={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new k("internal-error")}},Ns={endpoint:"emailLinkSignin",N:["email","oobCode"],A:fs,G:ds,V:!0,B:!0},Ps={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:fs,G:ds,V:!0},Os={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:gs,G:ds,B:!0,Na:!0},Ds={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:gs,G:ds,B:!0,Na:!0},Rs={endpoint:"getAccountInfo"},Ms={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new k("internal-error");fs(t)},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new k("internal-error")},Z:"email",B:!0},js={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new k("internal-error")},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new k("internal-error");fs(t)},Z:"email",B:!0},Us={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},qs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new k("internal-error")}},Bs={endpoint:"resetPassword",A:Es,Z:"email",B:!0},Vs={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Hs={endpoint:"setAccountInfo",N:["idToken"],A:hs,V:!0},Ks={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(hs(t),!t.password)throw new k("weak-password")},G:ds,V:!0},Ws={endpoint:"signupNewUser",G:ds,V:!0,B:!0},Gs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new k("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},zs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Ys={endpoint:"verifyAssertion",A:ms,Ya:ys,G:bs,V:!0,B:!0},Qs={endpoint:"verifyAssertion",A:ms,Ya:ys,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new k("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);ds(t)},V:!0,B:!0},Xs={endpoint:"verifyAssertion",A:function(t){if(ms(t),!t.idToken)throw new k("internal-error")},Ya:ys,G:bs,V:!0},Js={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new k("invalid-custom-token")},G:ds,V:!0,B:!0},$s={endpoint:"verifyPassword",A:function(t){if(fs(t),!t.password)throw new k("wrong-password")},G:ds,V:!0,B:!0},Zs={endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new k("internal-error");ps(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Qo(t);ds(t)}},eu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Za]^!!t.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Ne(new k("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Ae(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=Bn(e+n);Un(s,"key",t.c),a&&Un(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Un(s,c,i[c]);return new Ie((function(e,n){us(t,s.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new k("network-request-failed"))}),r,u?void 0:or(Ur(i)),t.a,t.v.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new k("internal-error");return r[e.Z]}))}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],e);return!e&&t&&(e=Fr(t)),new k("internal-error",e)}function au(t){this.b=t,this.a=null,this.rb=function(t){return(lu||(lu=new Ie((function(t,e){function n(){Hr(),Or("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Hr(),e(Error("Network Error"))},timeout:uu.get()})}if(Or("gapi.iframes.Iframe"))t();else if(Or("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Or("gapi.load")?n():e(Error("Network Error"))},Ae(Ka(r=xt(su,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw lu=null,t})))).then((function(){return new Ie((function(e,n){Or("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var su=new wt(Tt,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new Kr(3e4,6e4),cu=new Kr(5e3,15e3),lu=null;function fu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Vn((t=Bn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Vn("https",this.l,null,"/__/auth/iframe"),this.a=t,Un(this.a,"apiKey",this.h),Un(this.a,"appName",this.i),this.b=null,this.c=[]}function hu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(t){try{return r.default.app(t).auth().Ga()}catch(t){return[]}}function pu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vu(t){var e=hr();return function(t){return ru(t,Us,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Bn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Bn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:yr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new zo(hr())}))}function gu(t){return t.m||(t.m=wr().then((function(){if(!t.u){var e=t.c,n=t.i,r=du(t.b),i=new fu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Z(r||[]),t.u=i.toString()}t.v=new au(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Ho(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ae(n)}return n.status="ERROR",Ae(n)}))}(t)}))),t.m}function mu(t){return t.l||(t.C=t.c?Nr(t.c,du(t.b)):null,t.l=new Ja(t.g,D(t.i),t.C),t.f&&os(t.l,t.f)),t.l}function yu(t,e,n,r,i,o,a,s,u,c,l,f){return(t=new hu(t,e,n,r,i,f)).l=o,t.g=a,t.i=s,t.b=gt(u||null),t.f=c,t.yb(l).toString()}function bu(t){if(this.a=t||r.default.INTERNAL.reactNative&&r.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=I(this.c,this)}fu.prototype.toString=function(){return this.f?Un(this.a,"v",this.f):tr(this.a.b,"v"),this.b?Un(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?Un(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},hu.prototype.yb=function(t){return this.h=t,this},hu.prototype.toString=function(){if(this.v){var t=Bn(this.v.url);t=Vn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Vn("https",this.u,null,"/__/auth/handler");if(Un(t,"apiKey",this.s),Un(t,"appName",this.c),Un(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.default.app(this.c).auth().la()}catch(t){n=null}for(var i in e.ob=n,Un(t,"providerId",this.a.providerId),e=Ur((n=this.a).Ib))e[i]=e[i].toString();i=n.Qc,e=gt(e);for(var o=0;o<i.length;o++){var a=i[o];a in e&&delete e[a]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),vt(e)||Un(t,"customParameters",Fr(e))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&Un(t,"scopes",n.join(",")),this.l?Un(t,"redirectUrl",this.l):tr(t.b,"redirectUrl"),this.g?Un(t,"eventId",this.g):tr(t.b,"eventId"),this.i?Un(t,"v",this.i):tr(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!qn(t,s)&&Un(t,s,this.b[s]);return this.h?Un(t,"tid",this.h):tr(t.b,"tid"),this.f?Un(t,"eid",this.f):tr(t.b,"eid"),(s=du(this.c)).length&&Un(t,"fw",s.join(",")),t.toString()},(t=pu.prototype).Ob=function(t,e,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return gu(t).then((function(){return function(t,e){return t.rb.then((function(){return new Ie((function(n){t.a.send(e.type,e,n,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&gr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new Ie((function(e){return function n(){xn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return xn(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Pr();return!jr(t)&&!Vr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,a,s){if(!t)return Ne(new k("popup-blocked"));if(a&&!jr())return this.ma().o((function(e){gr(t),i(e)})),r(),Ae();this.a||(this.a=vu(mu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw gr(t),i(e),e}));return r(),e})).then((function(){Bo(n),a||dr(yu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=vu(mu(this)));var i=this;return this.a.then((function(){Bo(e),dr(yu(i.s,i.g,i.b,t,e,hr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return gu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new k("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){J(this.h,(function(e){return e==t}))},(t=bu.prototype).get=function(t){return Ae(this.a.getItem(t)).then((function(t){return t&&qr(t)}))},t.set=function(t,e){return Ae(this.a.setItem(t,Fr(e)))},t.U=function(t){return Ae(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var _u,Iu=[];function Eu(t,e,n){vt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Tu(t){this.a=t}function Su(t){this.c=t,this.b=!1,this.a=[]}function Cu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ne(Error("connection_unavailable"));var l=r?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Ie((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:f,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),f.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(e){return ku(t,c),e})).o((function(e){throw ku(t,c),e}))}function ku(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),J(t.a,(function(t){return t==e}))}}function xu(){if(!Ou())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;Er()&&self?(this.v=function(){var t=Er()?self:null;if(W(Iu,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);Iu.push(e)}return e}(),Eu(this.v,"keyChanged",(function(e,n){return ju(t).then((function(e){return 0<e.length&&W(t.a,(function(t){t(e)})),{keyProcessed:Q(e,n.key)}}))})),Eu(this.v,"ping",(function(){return Ae(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Ae().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ae(null)}().then((function(e){(t.h=e)&&(t.g=new Su(new Tu(e)),Cu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Q(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Au(t){return new Ie((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ie((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Au(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Nu(t){return t.i||(t.i=Au(t)),t.i}function Pu(t,e){var n=0;return new Ie((function r(i,o){Nu(t).then(e).then(i).o((function(e){if(!(3<++n))return Nu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Ou(){try{return!!u.indexedDB}catch(t){return!1}}function Du(t){return t.objectStore("firebaseLocalStorage")}function Ru(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Mu(t){return new Ie((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Lu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Cu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ae()}function ju(t){return Nu(t).then((function(t){var e=Du(Ru(t,!1));return e.getAll?Mu(e.getAll()):new Ie((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=pr(t.c,n),t.c=n}return r}))}function Fu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Uu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ae().then((function(){if(Ou()){var t=Br(),r="__sak"+t;return _u||(_u=new xu),(n=_u).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){W(e.a,(function(e){e(t)}))})),t}))}function qu(){this.a={},this.type="inMemory"}function Bu(){if(!function(){var t="Node"==Tr();if(!(t=Vu()||t&&r.default.INTERNAL.node&&r.default.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Tr())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Vu()||r.default.INTERNAL.node.localStorage,this.type="localStorage"}function Vu(){try{var t=u.localStorage,e=Br();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Hu(){this.type="nullStorage"}function Ku(){if(!function(){var t="Node"==Tr();if(!(t=Wu()||t&&r.default.INTERNAL.node&&r.default.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Tr())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Wu()||r.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Wu(){try{var t=u.sessionStorage,e=Br();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Gu(){var t={};t.Browser=Qu,t.Node=Xu,t.ReactNative=Ju,t.Worker=$u,this.a=t[Tr()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];W(r,(function(e){i.push(Ae().then((function(){return e(t.origin,t.data.data)})))})),Oe(i).then((function(r){var i=[];W(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),W(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Tu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Su.prototype.close=function(){for(;0<this.a.length;)ku(this,this.a[0]);this.b=!0},(t=xu.prototype).set=function(t,e){var n=this,r=!1;return Pu(this,(function(e){return Mu((e=Du(Ru(e,!0))).get(t))})).then((function(i){return Pu(n,(function(o){if(o=Du(Ru(o,!0)),i)return i.value=e,Mu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Mu(o.add(a))}))})).then((function(){return n.c[t]=e,Lu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Pu(this,(function(e){return Mu(Du(Ru(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Pu(this,(function(r){return n=!0,e.b++,Mu(Du(Ru(r,!0)).delete(t))})).then((function(){return delete e.c[t],Lu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){Fu(t),function e(){t.f=setTimeout((function(){t.l=ju(t).then((function(e){0<e.length&&W(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){J(this.a,(function(e){return e==t})),0==this.a.length&&Fu(this)},(t=Uu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){J(this.a,(function(e){return e==t}))},(t=qu.prototype).get=function(t){return Ae(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ae()},t.U=function(t){return delete this.a[t],Ae()},t.ca=function(){},t.ia=function(){},(t=Bu.prototype).get=function(t){var e=this;return Ae().then((function(){return qr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=Fr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(t){u.window&&fn(u.window,"storage",t)},t.ia=function(t){u.window&&pn(u.window,"storage",t)},(t=Hu.prototype).get=function(){return Ae(null)},t.set=function(){return Ae()},t.U=function(){return Ae()},t.ca=function(){},t.ia=function(){},(t=Ku.prototype).get=function(t){var e=this;return Ae().then((function(){return qr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=Fr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var zu,Yu,Qu={F:Bu,bb:Ku},Xu={F:Bu,bb:Ku},Ju={F:bu,bb:Hu},$u={F:Bu,bb:Hu},Zu={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(Vr(Pr())||!Ir()),e=jr(),n=Dr();this.m=t,this.h=e,this.l=n,this.a={},zu||(zu=new Gu),t=zu;try{this.g=!fr()&&zr()||!u.indexedDB?new t.a.F:new Uu(Er()?new qu:new t.a.F)}catch(t){this.g=new qu,this.h=!0}try{this.i=new t.a.bb}catch(t){this.i=new qu}this.v=new qu,this.f=I(this.Yb,this),this.b={}}function ec(){return Yu||(Yu=new tc),Yu}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function ac(t){this.a=t,this.b=ec()}(t=tc.prototype).get=function(t,e){return nc(this,t.F).get(rc(t,e))},t.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),vt(this.a)&&(nc(this,"local").ca(this.f),this.h||(fr()||!zr())&&u.indexedDB||!this.l||function(t){oc(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ze({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&(J(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),vt(this.a)&&(nc(this,"local").ia(this.f),oc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.mb(e))},Xt&&ue&&10==ue&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else W(t,I(this.mb,this))},t.mb=function(t){this.a[t]&&W(this.a[t],(function(t){t()}))};var sc,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function lc(t,e){this.b=fc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===sc&&(sc=u.Int32Array?new Int32Array(yc):yc),this.reset()}S(lc,(function(){this.b=-1}));for(var fc=64,hc=fc-1,dc=[],pc=0;pc<hc;pc++)dc[pc]=0;var vc=$(128,dc);function gc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|sc[e])|0)+(0|n[e])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function mc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(gc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(gc(t),i=0)}}t.c=i,t.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){lc.call(this,8,wc)}S(bc,lc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _c(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new ac(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ic(t){return new k("invalid-cordova-configuration",t)}function Ec(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Tc(t){return t.f||(t.f=t.ma().then((function(){return new Ie((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Sc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ao(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=qr(qn(o=Bn(i),"firebaseError")||null))?x(o):null)?new Vo(r.c,r.b,null,null,o,null,r.T()):new Vo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ec(t,i)}))}var n=new Vo("unknown",null,null,null,new k("no-auth-event")),r=!1,i=xn(500).then((function(){return Sc(t).then((function(){r||Ec(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Or("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Go||(Go=new Ko),function(t){var e=Go;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Or("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Sc(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return Ho(t)}))}(t.g).then((function(n){return e=n,ic((n=t.g).b,uc,n.a)})).then((function(){return e}))}function Cc(t){this.a=t,this.b=ec()}(t=_c.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(_r(void 0)?wr().then((function(){return new Ie((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ne(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Or("universalLinks.subscribe",u))throw Ic("cordova-universal-links-plugin-fix is not installed");if(void 0===Or("BuildInfo.packageName",u))throw Ic("cordova-plugin-buildinfo is not installed");if("function"!=typeof Or("cordova.plugins.browsertab.openUrl",u))throw Ic("cordova-plugin-browsertab is not installed");if("function"!=typeof Or("cordova.InAppBrowser.open",u))throw Ic("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},t.Ob=function(t,e){return e(new k("operation-not-supported-in-this-environment")),Ae()},t.Mb=function(){return Ne(new k("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ne(new k("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=Ae().then((function(){return Bo(e),Tc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Vo(e,r,null,o,new k("no-auth-event"),null,i),s=Or("BuildInfo.packageName",u);if("string"!=typeof s)throw new k("invalid-cordova-configuration");var c=Or("BuildInfo.displayName",u),l={};if(Pr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Pr().toLowerCase().match(/android/))return Ne(new k("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=function(t){var e=new bc;mc(e,t),t=[];var n=8*e.g;56>e.c?mc(e,vc,56-e.c):mc(e,vc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(gc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return z(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var f=yu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(uc,a.w(),e)})).then((function(){var e=Or("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new k("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Or("cordova.plugins.browsertab.openUrl",u)))throw new k("invalid-cordova-configuration");n(f)}else{if("function"!=typeof(n=Or("cordova.InAppBrowser.open",u)))throw new k("invalid-cordova-configuration");e=Pr(),t.a=n(f,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Ie((function(t,e){s=function(){var e=Or("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=xn(2e3).then((function(){e(new k("redirect-cancelled-by-user"))})))},l=function(){Wr()&&c()},o.addEventListener("resume",c,!1),Pr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return Sc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Sa(s),i.c=null}))},t.Ea=function(t){this.b.push(t),Tc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Vo("unknown",null,null,null,new k("no-auth-event")),t(e))}))},t.Sa=function(t){J(this.b,(function(e){return e==t}))};var kc={name:"pendingRedirect",F:"session"};function xc(t){return ic(t.b,kc,t.a)}function Ac(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=I(this.s,this),this.b=new Kc,this.C=new Qc,this.g=new Cc(Vc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Nc(this.D,this.v,this.m,A,this.J)}function Nc(t,e,n,i,o){var a=r.default.SDK_VERSION||null;return _r()?new _c(t,e,n,a,i,o):new pu(t,e,n,a,i,o)}function Pc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Oc(t){t.a.Xb()&&Pc(t).o((function(e){var n=new Vo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Fc(e)&&t.s(n)})),t.a.Tb()||Wc(t.b)}function Dc(t,e){Q(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(kc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?xc(t.g).then((function(){Pc(t).o((function(e){var n=new Vo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Fc(e)&&t.s(n)}))})):Oc(t)})).o((function(){Oc(t)}))}function Rc(t,e){J(t.h,(function(t){return t==e}))}Ac.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Nc(this.D,this.v,this.m,null,this.J),this.i={}},Ac.prototype.s=function(t){if(!t)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Wc(this.b),e};var Mc=new Kr(2e3,1e4),Lc=new Kr(3e4,6e4);function jc(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Fc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Uc(t,e,n,r,i){var o;return function(t){return t.b.set(kc,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Fc(e))throw new k("operation-not-supported-in-this-environment");return o=e,xc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new Ie((function(){})):xc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function qc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Mc.get())}Ac.prototype.qa=function(){return this.b.qa()};var Bc={};function Vc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Hc(t,e,n,r){var i=Vc(e,n,r);return Bc[i]||(Bc[i]=new Ac(t,e,n,r)),Bc[i]}function Kc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Wc(t){t.g||(t.g=!0,Yc(t,!1,null,null))}function Gc(t){t.g&&!t.i&&Yc(t,!1,null,null)}function zc(t,e){if(t.b=function(){return Ae(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Yc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ne(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):zc(t,n):zc(t,{user:null}),t.f=[],t.c=[]}function Qc(){}function Xc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Jc(t,e){this.a=e,$r(this,"verificationId",t)}function $c(t,e,n,r){return new Fo(t).fb(e,n).then((function(t){return new Jc(t,r)}))}function Zc(t){var e=Gi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:t,expirationTime:Gr(1e3*e.exp),authTime:Gr(1e3*e.auth_time),issuedAtTime:Gr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function tl(t,e,n){var r=e&&e[nl];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new so(null,r),this.b=[];var i=this;W(e[el]||[],(function(t){(t=ri(t))&&i.b.push(t)})),$r(this,"auth",this.a),$r(this,"session",this.c),$r(this,"hints",this.b)}Kc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Kc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Yc(this,!0,null,t.a),Ae()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Yc(t,s,e,null)})).o((function(e){Yc(t,s,null,e)}))}(this,t,e):Ne(new k("invalid-auth-event")):(Yc(this,!1,null,null),Ae())}else Ne(new k("invalid-auth-event"))},Kc.prototype.qa=function(){var t=this;return new Ie((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new k("timeout");t.a&&t.a.cancel(),t.a=xn(Lc.get()).then((function(){t.b||(t.g=!0,Yc(t,!0,null,e))}))}(t))}))},Qc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ae()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ne(new k("invalid-auth-event"))}else Ne(new k("invalid-auth-event"))},Jc.prototype.confirm=function(t){return t=Uo(this.verificationId,t),this.a(t)};var el="mfaInfo",nl="mfaPendingCredential";function rl(t,e,n,r){k.call(this,"multi-factor-auth-required",r,e),this.b=new tl(t,e,n),$r(this,"resolver",this.b)}function il(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new rl(e,t.serverResponse,n,t.message)}catch(t){}return null}function ol(){}function al(t){$r(this,"factorId",t.fa),this.a=t}function sl(t){if(al.call(this,t),this.a.fa!=Fo.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ul(t,e){for(var n in $e.call(this,t),e)this[n]=e[n]}function cl(t,e){this.a=t,this.b=[],this.c=I(this.yc,this),fn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&W(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ai]=t.uid),t.displayName&&(r[ii]=t.displayName),t.enrollmentTime&&(r[oi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[si]=t.phoneNumber);try{e=new ui(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),ll(this,n)}function ll(t,e){t.b=e,$r(t,"enrolledFactors",e)}function fl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function hl(t,e){t.stop(),t.b=xn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=u.document,e=null;return Wr()||!t?Ae():new Ie((function(n){e=function(){Wr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){hl(t,!0)})).o((function(e){t.i(e)&&hl(t,!1)}))}function dl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function pl(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function vl(t,e){t.b=Wi(e[Za]||""),t.a=e.refreshToken,pl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function gl(t,e){this.a=t||null,this.b=e||null,Zr(this,{lastSignInTime:Gr(e||null),creationTime:Gr(t||null)})}function ml(t,e,n,r,i,o){Zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function yl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.default.SDK_VERSION?Nr(r.default.SDK_VERSION):null;this.a=new Ja(this.l,D(A),i),t.emulatorConfig&&os(this.a,t.emulatorConfig),this.b=new dl(this.a),Cl(this,e[Za]),vl(this.b,e),$r(this,"refreshToken",this.b.a),Al(this,n||{}),En.call(this),this.R=!1,this.s&&Rr()&&(this.i=Hc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new fl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=I(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){os(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){_l(o,t.f)},this.ba=null,this.O=new cl(this,n),$r(this,"multiFactor",this.O)}function bl(t,e){t.ja&&pn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&fn(e,"languageCodeChanged",t.Oa)}function wl(t,e){t.X&&pn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&fn(e,"emulatorConfigChanged",t.Aa)}function _l(t,e){t.$=e,ss(t.a,r.default.SDK_VERSION?Nr(r.default.SDK_VERSION,t.$):null)}function Il(t,e){t.ba&&pn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&fn(e,"frameworkChanged",t.Ba)}function El(t){try{return r.default.app(t.m).auth()}catch(e){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Tl(t){t.D||t.u.b||(t.u.start(),pn(t,"tokenChanged",t.aa),fn(t,"tokenChanged",t.aa))}function Sl(t){pn(t,"tokenChanged",t.aa),t.u.stop()}function Cl(t,e){t.za=e,$r(t,"_lat",e)}function kl(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Oe(e).then((function(){return t}))}function xl(t){t.i&&!t.R&&(t.R=!0,Dc(t.i,t))}function Al(t,e){Zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new gl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Nl(){}function Pl(t){return Ae().then((function(){if(t.D)throw new k("app-deleted")}))}function Ol(t){return z(t.providerData,(function(t){return t.providerId}))}function Dl(t,e){e&&(Rl(t,e.providerId),t.providerData.push(e))}function Rl(t,e){J(t.providerData,(function(t){return t.providerId==e}))}function Ml(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&$r(t,e,n)}function Ll(t,e){t!=e&&(Zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?$r(t,"metadata",function(t){return new gl(t.a,t.b)}(e.metadata)):$r(t,"metadata",new gl),W(e.providerData,(function(e){Dl(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),$r(t,"refreshToken",t.b.a),ll(t.O,e.O.b))}function jl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Rs,{idToken:e}).then(I(t.Kc,t))}(t,e).then((function(){return n||Ml(t,"isAnonymous",!1),e}))}))}function Fl(t,e){e[Za]&&t.za!=e[Za]&&(vl(t.b,e),t.dispatchEvent(new ul("tokenChanged")),Cl(t,e[Za]),Ml(t,"refreshToken",t.b.a))}function Ul(t,e){return jl(t).then((function(){if(Q(Ol(t),e))return kl(t).then((function(){throw new k("provider-already-linked")}))}))}function ql(t,e,n){return ti({user:t,credential:qo(e),additionalUserInfo:e=Ji(e),operationType:n})}function Bl(t,e){return Fl(t,e),t.reload().then((function(){return t}))}function Vl(t,e,n,i,o){if(!Rr())return Ne(new k("operation-not-supported-in-this-environment"));if(t.h&&!o)return Ne(t.h);var a=Xi(n.providerId),s=Br(t.uid+":::"),u=null;(!jr()||Ir())&&t.s&&n.isOAuthProvider&&(u=yu(t.s,t.l,t.m,e,n,null,s,r.default.SDK_VERSION||null,null,null,t.tenantId));var c=mr(u,a&&a.ua,a&&a.ta);return i=i().then((function(){if(Kl(t),!o)return t.I().then((function(){}))})).then((function(){return jc(t.i,c,e,n,s,!!u,t.tenantId)})).then((function(){return new Ie((function(n,r){t.na(e,null,new k("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=qc(t.i,t,e,c,s)}))})).then((function(t){return c&&gr(c),t?ti(t):null})).o((function(t){throw c&&gr(c),t})),Wl(t,i,o)}function Hl(t,e,n,r,i){if(!Rr())return Ne(new k("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ne(t.h);var o=null,a=Br(t.uid+":::");return r=r().then((function(){if(Kl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,kl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Yl,t.w(),e.a)),e})).then((function(){return Uc(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Ql(t.ha);throw o})).then((function(){if(o)throw o})),Wl(t,r,i)}function Kl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new k("internal-error");throw new k("auth-domain-config-required")}}function Wl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ne(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new ul("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){X(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=il(e.w(),El(t),I(t.jc,t))),n||e}))}function Gl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Za]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new yl(e,n,t);return t.providerData&&W(t.providerData,(function(t){t&&Dl(i,ti(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function zl(t){this.a=t,this.b=ec()}tl.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=gt(e.f);return delete n[el],delete n[nl],yt(n,t),e.g(n)}))},S(rl,k),ol.prototype.sb=function(t,e,n){return e.type==uo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),yt(n,{phoneVerificationInfo:jo(t.a)}),ru(e,Os,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:jo(t.a)}),ru(e,Ds,n)}))}(this,t,e)},S(al,ol),S(sl,al),S(ul,$e),(t=cl.prototype).yc=function(t){ll(this,function(t){var e=[];return W(t.mfaInfo||[],(function(t){(t=ri(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new so(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Fl(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=G(e.b,(function(t){return t.uid!=n}));return ll(e,r),Fl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:z(this.b,(function(t){return t.w()}))}}},fl.prototype.start=function(){this.a=this.c,hl(this,!0)},fl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ne(new k("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new Ie((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?us(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",Zn(e).toString(),t.g,t.m.get()):r(new k("internal-error"))}))}(t.f,e).then((function(e){return t.b=Wi(e.access_token),t.a=e.refresh_token,pl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ae(null):Ae({accessToken:this.b.toString(),refreshToken:this.a})},gl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(yl,En),yl.prototype.wa=function(t){this.ya=t,is(this.a,t)},yl.prototype.la=function(){return this.ya},yl.prototype.Ga=function(){return Z(this.$)},yl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},$r(yl.prototype,"providerId","firebase"),(t=yl.prototype).reload=function(){var t=this;return Wl(this,Pl(this).then((function(){return jl(t).then((function(){return kl(t)})).then(Nl)})))},t.oc=function(t){return this.I(t).then((function(t){return new Zc(t)}))},t.I=function(t){var e=this;return Wl(this,Pl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new k("internal-error");return t.accessToken!=e.za&&(Cl(e,t.accessToken),e.dispatchEvent(new ul("tokenChanged"))),Ml(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new k("internal-error");Al(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?z(t,(function(t){return new ml(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Dl(this,e[n]);Ml(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ul("userReloaded",{hd:t}))},t.Lc=function(t){return Xr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Wl(this,t.c(this.a,this.uid).then((function(t){return Fl(e,t),n=ql(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Xr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Wl(this,Ul(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=ql(e,t,"link"),Bl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Wl(this,Ul(this,"phone").then((function(){return $c(El(n),t,e,I(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Wl(this,Ae().then((function(){return $c(El(n),t,e,I(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Wl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Fl(e,t),e.reload()})))},t.ed=function(t){var e=this;return Wl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Fl(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Wl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Fl(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Pl(this);var e=this;return Wl(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Fl(e,t),Ml(e,"displayName",t.displayName||null),Ml(e,"photoURL",t.photoUrl||null),W(e.providerData,(function(t){"password"===t.providerId&&($r(t,"displayName",e.displayName),$r(t,"photoURL",e.photoURL))})),kl(e)})).then(Nl))},t.cd=function(t){var e=this;return Wl(this,jl(this).then((function(n){return Q(Ol(e),t)?function(t,e,n){return ru(t,As,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return W(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),W(Ol(e),(function(t){n[t]||Rl(e,t)})),n[Fo.PROVIDER_ID]||$r(e,"phoneNumber",null),kl(e)})):kl(e).then((function(){throw new k("no-such-provider")}))})))},t.delete=function(){var t=this;return Wl(this,this.I().then((function(e){return ru(t.a,xs,{idToken:e})})).then((function(){t.dispatchEvent(new ul("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");bl(t,null),wl(t,null),Il(t,null),t.J=[],t.D=!0,Sl(t),$r(t,"refreshToken",null),t.i&&Rc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?I(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?I(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?I(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?I(this.Lb,this):null},t.Ec=function(t){var e=this;return Vl(this,"linkViaPopup",t,(function(){return Ul(e,t.providerId).then((function(){return kl(e)}))}),!1)},t.Nc=function(t){return Vl(this,"reauthViaPopup",t,(function(){return Ae()}),!0)},t.Fc=function(t){var e=this;return Hl(this,"linkViaRedirect",t,(function(){return Ul(e,t.providerId)}),!1)},t.Oc=function(t){return Hl(this,"reauthViaRedirect",t,(function(){return Ae()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,this.I().then((function(n){return _s(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=ql(i,t,"link"),Bl(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,Ae().then((function(){return fo(Is(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=ql(i,t,"reauthenticate"),Fl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Wl(this,this.I().then((function(e){return n=e,void 0===t||vt(t)?{}:Vi(new Oi(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Wl(this,this.I().then((function(t){return r=t,void 0===e||vt(e)?{}:Vi(new Oi(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Wl(this,t=fo(Ae(t),n.uid).then((function(t){return e=ql(n,t,"reauthenticate"),Fl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),W(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),yt(t,this.O.w()),t};var Yl={name:"redirectUser",F:"session"};function Ql(t){return ic(t.b,Yl,t.a)}function Xl(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=Zl("local"),n=Zl("session"),r=Zl("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=qr(u.localStorage.getItem(r))}catch(t){}if(a&&!o)return u.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get($l,t.a).then((function(t){return t?Zl(t):e}))}))}))})).then((function(e){return t.c=e,Jl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Zl("local"),this.a,I(this.g,this))}function Jl(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ic(t.b,Zl(Zu[n]),t.a));return r.push(ic(t.b,$l,t.a)),function(t){return new Ie((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Pe(t[s],E(o,s),a);else e(i)}))}(r)}Xl.prototype.g=function(){var t=this,e=Zl("local");rf(this,(function(){return Ae().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Jl(t,"local").then((function(){t.c=e}))}))}))};var $l={name:"persistence",F:"session"};function Zl(t){return{name:"authUser",F:t}}function tf(t,e){return rf(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function ef(t){return rf(t,(function(){return ic(t.b,t.c,t.a)}))}function nf(t,e,n){return rf(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Gl(t||{})}))}))}function rf(t,e){return t.f=t.f.then(e,e),t.f}function of(t){if(this.l=!1,$r(this,"settings",new Xc),$r(this,"app",t),!df(this).options||!df(this).options.apiKey)throw new k("invalid-api-key");t=r.default.SDK_VERSION?Nr(r.default.SDK_VERSION):null,this.a=new Ja(df(this).options&&df(this).options.apiKey,D(A),t),this.R=[],this.s=[],this.O=[],this.hb=r.default.INTERNAL.createSubscribe(I(this.zc,this)),this.X=void 0,this.bc=r.default.INTERNAL.createSubscribe(I(this.Ac,this)),ff(this,null),this.i=new Xl(df(this).options.apiKey+":"+df(this).name),this.D=new zl(df(this).options.apiKey+":"+df(this).name),this.$=mf(this,function(t){var e=df(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Yl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Gl(t||{})}))}(t.D,df(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Ql(t.D)}));return mf(t,e)}(t).then((function(){return nf(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return tf(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:ef(t.i)}))):null})).then((function(e){ff(t,e||null)}));return mf(t,n)}(this)),this.h=mf(this,function(t){return t.$.then((function(){return lf(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Zl("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=I(this.Zc,this),this.Ba=I(this.da,this),this.ya=I(this.mc,this),this.za=I(this.wc,this),this.Aa=I(this.xc,this),this.b=null,function(t){var e=df(t).options.authDomain,n=df(t).options.apiKey;e&&Rr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Hc(e,n,df(t).name,t.P),Dc(t.b,t),pf(t)&&xl(pf(t)),t.m){xl(t.m);var r=t.m;r.wa(t.la()),bl(r,t),_l(r=t.m,t.J),Il(r,t),os((r=t.m).a,t.P),wl(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=I(this.delete,this),this.INTERNAL.logFramework=I(this.Gc,this),this.u=0,En.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Bn(this.P.url);t=ti({protocol:t.c,host:t.a,port:t.g,options:ti({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function af(t){$e.call(this,"languageCodeChanged"),this.h=t}function sf(t){$e.call(this,"emulatorConfigChanged"),this.c=t}function uf(t){$e.call(this,"frameworkChanged"),this.f=t}function cf(t){return t.Oa||Ne(new k("auth-domain-config-required"))}function lf(t){if(!Rr())return Ne(new k("operation-not-supported-in-this-environment"));var e=cf(t).then((function(){return t.b.qa()})).then((function(t){return t?ti(t):null}));return mf(t,e)}function ff(t,e){pf(t)&&(function(t,e){J(t.S,(function(t){return t==e}))}(pf(t),t.Ba),pn(pf(t),"tokenChanged",t.ya),pn(pf(t),"userDeleted",t.za),pn(pf(t),"userInvalidated",t.Aa),Sl(pf(t))),e&&(e.S.push(t.Ba),fn(e,"tokenChanged",t.ya),fn(e,"userDeleted",t.za),fn(e,"userInvalidated",t.Aa),0<t.u&&Tl(e)),$r(t,"currentUser",e),e&&(e.wa(t.la()),bl(e,t),_l(e,t.J),Il(e,t),os(e.a,t.P),wl(e,t))}function hf(t,e){var n=null,r=null;return mf(t,e.then((function(e){return n=qo(e),r=Ji(e),function(t,e){var n={};return n.apiKey=df(t).options.apiKey,n.authDomain=df(t).options.authDomain,n.appName=df(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new yl(t,e);return n&&(i.ha=n),r&&_l(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return pf(t)&&e.uid==pf(t).uid?(Ll(pf(t),e),t.da(e)):(ff(t,e),xl(e),t.da(e))})).then((function(){gf(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=il(e.w(),t,I(t.kc,t))),n||e})).then((function(){return ti({user:pf(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function df(t){return t.app}function pf(t){return t.currentUser}function vf(t){return pf(t)&&pf(t)._lat||null}function gf(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](vf(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](vf(t))}}function mf(t,e){return t.R.push(e),e.oa((function(){X(t.R,e)})),e}function yf(){}function bf(){this.a={},this.b=1e12}Xl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Tr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ou()&&"none"!==t)throw n;break;default:if(!Dr()&&"none"!==t)throw n}}(t),rf(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Jl(n,t)})).then((function(){if(n.c=Zl(t),e)return n.b.set(n.c,e,n.a)})):Ae()}))},S(of,En),S(af,$e),S(sf,$e),S(uf,$e),(t=of.prototype).xb=function(t){return mf(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,is(this.a,this.aa),this.dispatchEvent(new af(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=u.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!t&&wr().then((function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,os(this.a,this.P),this.dispatchEvent(new sf(this.P))}},t.Gc=function(t){this.J.push(t),ss(this.a,r.default.SDK_VERSION?Nr(r.default.SDK_VERSION,this.J):null),this.dispatchEvent(new uf(this.J))},t.Ga=function(){return Z(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:df(this).options.apiKey,authDomain:df(this).options.authDomain,appName:df(this).name,currentUser:pf(this)&&pf(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?I(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return hf(i,ws(i.a,o))}))},t.Xc=function(t){if(!Rr())return Ne(new k("operation-not-supported-in-this-environment"));var e=this,n=Xi(t.providerId),i=Br(),o=null;(!jr()||Ir())&&df(this).options.authDomain&&t.isOAuthProvider&&(o=yu(df(this).options.authDomain,df(this).options.apiKey,df(this).name,"signInViaPopup",t,null,i,r.default.SDK_VERSION||null,null,null,this.T(),this.P));var a=mr(o,n&&n.ua,n&&n.ta);return mf(this,n=cf(this).then((function(n){return jc(n,a,"signInViaPopup",t,i,!!o,e.T())})).then((function(){return new Ie((function(t,n){e.na("signInViaPopup",null,new k("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=qc(e.b,e,"signInViaPopup",a,i)}))})).then((function(t){return a&&gr(a),t?ti(t):null})).o((function(t){throw a&&gr(a),t})))},t.Yc=function(t){if(!Rr())return Ne(new k("operation-not-supported-in-this-environment"));var e=this;return mf(this,cf(this).then((function(){return function(t){return rf(t,(function(){return t.b.set($l,t.c.F,t.a)}))}(e.i)})).then((function(){return Uc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return lf(this).then((function(e){return t.b&&Gc(t.b.b),e})).o((function(e){throw t.b&&Gc(t.b.b),e}))},t.dd=function(t){if(!t)return Ne(new k("null-user"));if(this.S!=t.tenantId)return Ne(new k("tenant-id-mismatch"));var e=this,n={};n.apiKey=df(this).options.apiKey,n.authDomain=df(this).options.authDomain,n.appName=df(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Za]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new yl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&_l(e,r),Ll(e,t),e}(t,n,e.D,e.Ga());return mf(this,this.h.then((function(){if(df(e).options.apiKey!=t.l)return r.reload()})).then((function(){return pf(e)&&t.uid==pf(e).uid?(Ll(pf(e),t),e.da(t)):(ff(e,r),xl(r),e.da(r))})).then((function(){gf(e)})))},t.Ab=function(){var t=this;return mf(this,this.h.then((function(){return t.b&&Gc(t.b.b),pf(t)?(ff(t,null),ef(t.i).then((function(){gf(t)}))):Ae()})))},t.Zc=function(){var t=this;return nf(this.i,df(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=pf(t)&&e){n=pf(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ll(pf(t),e),pf(t).I();(pf(t)||e)&&(ff(t,e),e&&(xl(e),e.ha=t.D),t.b&&Dc(t.b,t),gf(t))}}))},t.da=function(t){return tf(this.i,t)},t.mc=function(){gf(this),this.da(pf(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return hf(e,Ae(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(pf(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),mf(t,t.h.then((function(){!t.l&&Q(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(vf(t)))})))}(this,(function(){t.next(pf(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(pf(r)):"function"==typeof t.next&&t.next(pf(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(pf(r)):"function"==typeof t.next&&t.next(pf(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return mf(this,this.h.then((function(){return pf(e)?pf(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return hf(e,ru(e.a,Js,{token:t}))})).then((function(t){var n=t.user;return Ml(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return hf(n,ru(n.a,$s,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return hf(n,ru(n.a,Cs,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return hf(e,t.ka(e.a))}))},t.Sc=function(t){return Xr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=pf(t);if(e&&e.isAnonymous){var n=ti({providerId:null,isNewUser:!1});return ti({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return hf(t,t.a.zb()).then((function(e){var n=e.user;return Ml(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return pf(this)&&pf(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&pf(this)&&Tl(pf(this))},t.Pc=function(t){var e=this;W(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&pf(this)&&Sl(pf(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),mf(this,this.h.then((function(){e.l||Q(e.s,t)&&t(vf(e))})))},t.removeAuthTokenListener=function(t){J(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Zl("local"),t.a,this.ja),this.b&&(Rc(this.b,this),Gc(this.b.b)),Promise.resolve()},t.hc=function(t){return mf(this,function(t,e){return ru(t,ks,{identifier:e,continueUri:Mr()?hr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Ro(t)},t.wb=function(t,e){var n=this;return mf(this,Ae().then((function(){var t=new Oi(e);if(!t.c)throw new k("argument-error",Mi+" must be true when sending sign in link to email");return Vi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return mf(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return mf(this,this.a.Ra(t).then((function(t){return new ci(t)})))},t.jb=function(t){return mf(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return mf(this,Ae().then((function(){return void 0===e||vt(e)?{}:Vi(new Oi(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return mf(this,$c(this,t,e,I(this.$a,this)))},t.Vc=function(t,e){var n=this;return mf(this,Ae().then((function(){var r=e||hr(),i=Do(t,r);if(!(r=Ro(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new k("tenant-id-mismatch");return n.$a(i)})))},yf.prototype.render=function(){},yf.prototype.reset=function(){},yf.prototype.getResponse=function(){},yf.prototype.execute=function(){};var wf=null;function _f(t,e){return(e=If(e))&&t.a[e]||null}function If(t){return(t=void 0===t?1e12:t)?t.toString():null}function Ef(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=le(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():fn(this.f,"click",this.i)}function Tf(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Sf(){}function Cf(){}bf.prototype.render=function(t,e){return this.a[this.b.toString()]=new Ef(t,e),this.b++},bf.prototype.reset=function(t){var e=_f(this,t);t=If(t),e&&t&&(e.delete(),delete this.a[t])},bf.prototype.getResponse=function(t){return(t=_f(this,t))?t.getResponse():null},bf.prototype.execute=function(t){(t=_f(this,t))&&t.execute()},Ef.prototype.getResponse=function(){return Tf(this),this.b},Ef.prototype.execute=function(){Tf(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Ef.prototype.delete=function(){Tf(this),this.g=!0,clearTimeout(this.a),this.a=null,pn(this.f,"click",this.i)},$r(Sf,"FACTOR_ID","phone"),Cf.prototype.g=function(){return wf||(wf=new bf),Ae(wf)},Cf.prototype.c=function(){};var kf=null;function xf(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Af=new wt(Tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Nf=new Kr(3e4,6e4);xf.prototype.g=function(t){var e=this;return new Ie((function(n,r){var i=setTimeout((function(){r(new k("network-request-failed"))}),Nf.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete u[e.a]},Ae(Ka(xt(Af,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},xf.prototype.c=function(){this.b--};var Pf=null;function Of(t,e,n,r,i,o,a){if($r(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(kf||(kf=new Cf),a=kf):(Pf||(Pf=new xf),a=Pf),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Mf])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Lf],!u.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!le(e)||!this.i&&le(e).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ja(t,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Df];this.a[Df]=function(t){if(jf(s,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Or(c,u);"function"==typeof e&&e(t)}};var l=this.a[Rf];this.a[Rf]=function(){if(jf(s,null),"function"==typeof l)l();else if("string"==typeof l){var t=Or(l,u);"function"==typeof t&&t()}}}var Df="callback",Rf="expired-callback",Mf="sitekey",Lf="size";function jf(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Ff(t,e){return t.h.push(e),e.oa((function(){X(t.h,e)})),e}function Uf(t){if(t.D)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function qf(t,e,n){var i=!1;try{this.b=n||r.default.app()}catch(t){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}a=r.default.SDK_VERSION?Nr(r.default.SDK_VERSION,a):null,Of.call(this,n,t,e,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),a,D(A),i)}function Bf(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Vf.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=Vf[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new k("argument-error",t+" failed: "+r)}(t=Of.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ff(this,Ae().then((function(){if(Mr()&&!Er())return wr();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,ru(t.s,qs,{})})).then((function(e){t.a[Mf]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Uf(this);var t=this;return Ff(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=le(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ce&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Wt(a.name),'"'),a.type){o.push(' type="',Wt(a.type),'"');var s={};yt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ge(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):fe(o,a)),2<r.length&&ve(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Uf(this);var t=this;return Ff(this,this.render().then((function(e){return new Ie((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){J(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Uf(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Uf(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=le(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},S(qf,Of);var Vf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Hf(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Kf(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Wf(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function Gf(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function zf(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Yf(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Qf(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Xf(t){return g(t)&&"string"==typeof t.uid}function Jf(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function $f(t,e){for(var n in e){var r=e[n].name;t[r]=eh(r,t[n],e[n].j)}}function Zf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E((function(t){return this[t]}),n),set:E((function(t,e,n,r){Bf(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function th(t,e,n,r){t[e]=eh(e,n,r)}function eh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Bf(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}$f(of.prototype,{jb:{name:"applyActionCode",j:[Hf("code")]},Ra:{name:"checkActionCode",j:[Hf("code")]},nb:{name:"confirmPasswordReset",j:[Hf("code"),Hf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Hf("email"),Hf("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Hf("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Hf("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Jf(Wf(),Gf(),"nextOrObserver"),Gf("opt_error",!0),Gf("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Jf(Wf(),Gf(),"nextOrObserver"),Gf("opt_error",!0),Gf("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Hf("email"),Jf(Wf("opt_actionCodeSettings",!0),zf(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Hf("email"),Wf("actionCodeSettings")]},xb:{name:"setPersistence",j:[Hf("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Yf()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Yf()]},Tc:{name:"signInWithCustomToken",j:[Hf("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Hf("email"),Hf("password")]},Vc:{name:"signInWithEmailLink",j:[Hf("email"),Hf("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Hf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Jf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof yl)}},zf(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Hf(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Hf("url"),Wf("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Hf("code")]}}),Zf(of.prototype,{lc:{name:"languageCode",kb:Jf(Hf(),zf(),"languageCode")},ti:{name:"tenantId",kb:Jf(Hf(),zf(),"tenantId")}}),of.Persistence=Zu,of.Persistence.LOCAL="local",of.Persistence.SESSION="session",of.Persistence.NONE="none",$f(yl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Kf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Kf("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Yf()]},qb:{name:"linkWithCredential",j:[Yf()]},Dc:{name:"linkWithPhoneNumber",j:[Hf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yf()]},tb:{name:"reauthenticateWithCredential",j:[Yf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Hf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Jf(Wf("opt_actionCodeSettings",!0),zf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Hf(null,!0)]},cd:{name:"unlink",j:[Hf("provider")]},Bb:{name:"updateEmail",j:[Hf("email")]},Cb:{name:"updatePassword",j:[Hf("password")]},ed:{name:"updatePhoneNumber",j:[Yf("phone")]},Db:{name:"updateProfile",j:[Wf("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Hf("email"),Jf(Wf("opt_actionCodeSettings",!0),zf(null,!0),"opt_actionCodeSettings",!0)]}}),$f(bf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$f(yf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$f(Ie.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Zf(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Kf("appVerificationDisabledForTesting")}}),$f(Jc.prototype,{confirm:{name:"confirm",j:[Hf("verificationCode")]}}),th(lo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[yo,Po,Lo,vo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Jf(Hf(),Wf(),"json")]),th(Oo,"credential",(function(t,e){return new No(t,e)}),[Hf("email"),Hf("password")]),$f(No.prototype,{w:{name:"toJSON",j:[Hf(null,!0)]}}),$f(Io.prototype,{Ca:{name:"addScope",j:[Hf("scope")]},Ka:{name:"setCustomParameters",j:[Wf("customOAuthParameters")]}}),th(Io,"credential",Eo,[Jf(Hf(),Wf(),"token")]),th(Oo,"credentialWithLink",Do,[Hf("email"),Hf("emailLink")]),$f(To.prototype,{Ca:{name:"addScope",j:[Hf("scope")]},Ka:{name:"setCustomParameters",j:[Wf("customOAuthParameters")]}}),th(To,"credential",So,[Jf(Hf(),Wf(),"token")]),$f(Co.prototype,{Ca:{name:"addScope",j:[Hf("scope")]},Ka:{name:"setCustomParameters",j:[Wf("customOAuthParameters")]}}),th(Co,"credential",ko,[Jf(Hf(),Jf(Wf(),zf()),"idToken"),Jf(Hf(),zf(),"accessToken",!0)]),$f(xo.prototype,{Ka:{name:"setCustomParameters",j:[Wf("customOAuthParameters")]}}),th(xo,"credential",Ao,[Jf(Hf(),Wf(),"token"),Hf("secret",!0)]),$f(_o.prototype,{Ca:{name:"addScope",j:[Hf("scope")]},credential:{name:"credential",j:[Jf(Hf(),Jf(Wf(),zf()),"optionsOrIdToken"),Jf(Hf(),zf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Wf("customOAuthParameters")]}}),$f(go.prototype,{w:{name:"toJSON",j:[Hf(null,!0)]}}),$f(ho.prototype,{w:{name:"toJSON",j:[Hf(null,!0)]}}),th(Fo,"credential",Uo,[Hf("verificationId"),Hf("verificationCode")]),$f(Fo.prototype,{fb:{name:"verifyPhoneNumber",j:[Jf(Hf(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Qf(t.session,uo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Qf(t.session,co)&&Xf(t.multiFactorHint):t.session&&t.multiFactorUid?Qf(t.session,co)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),$f(Mo.prototype,{w:{name:"toJSON",j:[Hf(null,!0)]}}),$f(k.prototype,{toJSON:{name:"toJSON",j:[Hf(null,!0)]}}),$f(Yo.prototype,{toJSON:{name:"toJSON",j:[Hf(null,!0)]}}),$f(zo.prototype,{toJSON:{name:"toJSON",j:[Hf(null,!0)]}}),$f(rl.prototype,{toJSON:{name:"toJSON",j:[Hf(null,!0)]}}),$f(tl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),$f(cl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Hf("displayName",!0)]},bd:{name:"unenroll",j:[Jf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Xf},Hf(),"multiFactorInfoIdentifier")]}}),$f(qf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),th(Ei,"parseLink",Pi,[Hf("link")]),th(Sf,"assertion",(function(t){return new sl(t)}),[Yf("phone")]),function(){if(void 0===r.default||!r.default.INTERNAL||!r.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:fi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:li,VERIFY_AND_CHANGE_EMAIL:hi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:of,AuthCredential:lo,Error:k};th(t,"EmailAuthProvider",Oo,[]),th(t,"FacebookAuthProvider",Io,[]),th(t,"GithubAuthProvider",To,[]),th(t,"GoogleAuthProvider",Co,[]),th(t,"TwitterAuthProvider",xo,[]),th(t,"OAuthProvider",_o,[Hf("providerId")]),th(t,"SAMLAuthProvider",wo,[Hf("providerId")]),th(t,"PhoneAuthProvider",Fo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof of)}}]),th(t,"RecaptchaVerifier",qf,[Jf(Hf(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Wf("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.default.app.App)}}]),th(t,"ActionCodeURL",Ei,[]),th(t,"PhoneMultiFactorGenerator",Sf,[]),r.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new of(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:I((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:I(t.nc,t),addAuthTokenListener:I(t.cc,t),removeAuthTokenListener:I(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.default.registerVersion("@firebase/auth","0.16.6"),r.default.INTERNAL.extendNamespace({User:yl})}()}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},qaro:function(t,e,n){"use strict";n.r(e),n.d(e,{Component:function(){return u},ComponentContainer:function(){return f},Provider:function(){return l}});var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function a(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}Object.create,Object.create;var s=n("FXmT"),u=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),c="[DEFAULT]",l=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=c);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new s.Deferred;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r({identifier:c,optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(t){if(i)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:c})}catch(t){}try{for(var r=i(this.instancesDeferred.entries()),a=r.next();!a.done;a=r.next()){var s=o(a.value,2),u=s[0],l=s[1],f=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:f});l.resolve(h)}catch(t){}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=c),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return t=this,e=void 0,r=function(){var t;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(a(a([],o(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),o(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))},new((n=void 0)||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}));var t,e,n,r},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=c),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,a=void 0===r?c:r,s=t.options,u=void 0===s?{}:s,l=this.normalizeInstanceIdentifier(a);if(this.isInitialized(l))throw Error(this.name+"("+l+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var f=this.getOrInitializeService({instanceIdentifier:l,options:u});try{for(var h=i(this.instancesDeferred.entries()),d=h.next();!d.done;d=h.next()){var p=o(d.value,2),v=p[0],g=p[1];l===this.normalizeInstanceIdentifier(v)&&g.resolve(f)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(f,l),f},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var o=i(this.onInitCallbacks),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===c?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(t){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:c:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),f=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new l(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},"2SmR":function(t,e,n){"use strict";var r=n("nJIM"),i=n("qaro"),o=n("FXmT"),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function f(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}Object.create,Object.create;var h=n("MxOq");t=n.hmd(t);var d="";function p(t){d=t}var v,g=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,o.stringify)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,o.jsonEval)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),m=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return(0,o.contains)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),y=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new g(e)}}catch(t){}return new m},b=y("localStorage"),w=y("sessionStorage"),_=new h.Logger("@firebase/database"),I=(v=1,function(){return v++}),E=function(t){var e=(0,o.stringToByteArray)(t),n=new o.Sha1;n.update(e);var r=n.digest();return o.base64.encodeByteArray(r)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=T.apply(null,i):n+="object"==typeof i?(0,o.stringify)(i):i,n+=" "}return n},S=null,C=!0,k=function(t,e){(0,o.assert)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(_.logLevel=h.LogLevel.VERBOSE,S=_.log.bind(_),e&&w.set("logging_enabled",!0)):"function"==typeof t?S=t:(S=null,w.remove("logging_enabled"))},x=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===C&&(C=!1,null===S&&!0===w.get("logging_enabled")&&k(!0)),S){var n=T.apply(null,t);S(n)}},A=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];x.apply(void 0,f([t],l(e)))}},N=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+T.apply(void 0,f([],l(t)));_.error(n)},P=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+T.apply(void 0,f([],l(t)));throw _.error(n),new Error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+T.apply(void 0,f([],l(t)));_.warn(n)},D=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},R="[MIN_NAME]",M="[MAX_NAME]",L=function(t,e){if(t===e)return 0;if(t===R||e===M)return-1;if(e===R||t===M)return 1;var n=K(t),r=K(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},j=function(t,e){return t===e?0:t<e?-1:1},F=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,o.stringify)(e))},U=function(t){if("object"!=typeof t||null===t)return(0,o.stringify)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=(0,o.stringify)(e[i]),r+=":",r+=U(t[e[i]]);return r+"}"},q=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function B(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var V=function(t){(0,o.assert)(!D(t),"Invalid JSON number");var e,n,r,i,a;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},H=new RegExp("^-?(0*)\\d{1,10}$"),K=function(t){if(H.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},W=function(t){try{t()}catch(t){setTimeout((function(){var e=t.stack||"";throw O("Exception was thrown by user callback.",e),t}),Math.floor(0))}},G=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},z=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then((function(t){return n.appCheck=t}))}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise((function(n,r){setTimeout((function(){e.appCheck?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((function(e){return e.addTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){O('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),Y=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(t){return r.auth_=t}))}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(x("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):new Promise((function(n,r){setTimeout((function(){e.auth_?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',O(t)},t}(),Q=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),X=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,J="websocket",$="long_polling",Z=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=b.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&b.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+e},t}();function tt(t,e,n){var r;if((0,o.assert)("string"==typeof e,"typeof type must == string"),(0,o.assert)("object"==typeof n,"typeof params must == object"),e===J)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==$)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return B(n,(function(t,e){i.push(t+"="+e)})),r+i.join("&")}var et=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),(0,o.contains)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},t}(),nt={},rt={};function it(t){var e=t.toString();return nt[e]||(nt[e]=new et),nt[e]}var ot=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&W((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),at="start",st="close",ut=function(){function t(t,e,n,r,i,o,a){var s=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=A(t),this.stats_=it(e),this.urlFn=function(t){return s.appCheckToken&&(t.ac=s.appCheckToken),tt(e,$,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new ot(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if((0,o.isNodeSdk)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ct((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=l(t,5),i=r[0],o=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===at)n.id=o,n.password=a;else{if(i!==st)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=l(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&X.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!((0,o.isNodeSdk)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=(0,o.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=(0,o.base64Encode)(e),r=q(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=(0,o.stringify)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),ct=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=I(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(t){x("frame writing exception"),t.stack&&x(t.stack),x(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||x("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){x("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},t}(),lt=null;"undefined"!=typeof MozWebSocket?lt=MozWebSocket:"undefined"!=typeof WebSocket&&(lt=WebSocket);var ft=function(){function t(e,n,r,i,o,a,s){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=A(this.connId),this.stats_=it(n),this.connURL=t.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var i={v:"5"};return!(0,o.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&X.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),r&&(i.ac=r),tt(t,J,i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,b.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+d+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.nodeAdmin?i.headers.Authorization=this.authToken||"":i.headers["X-Firebase-AppCheck"]=this.appCheckToken||"";var a=process.env,s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new lt(this.connURL,[],i)}else i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}},this.mySock=new lt(this.connURL,[],i)}catch(t){this.log_("Error instantiating WebSocket.");var u=t.message||t.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==lt&&!t.forceDisallow_},t.previouslyFailed=function(){return b.isInMemoryStorage||!0===b.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){b.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=(0,o.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=q(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),ht=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[ut,ft]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=ft&&ft.isAvailable(),o=i&&!ft.previouslyFailed();if(e.webSocketOnly&&(i||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ft];else{var a=this.transports_=[];try{for(var s=c(t.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var l=u.value;l&&l.isAvailable()&&a.push(l)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),dt=function(){function t(t,e,n,r,i,o,a,s,u,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=A("c:"+this.id+":"),this.transportManager_=new ht(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=G((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=F("t",t),n=F("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=F("t",t),n=F("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=F("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?N("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):N("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&O("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),G((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):G((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(b.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),pt=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),vt=function(){function t(t){this.allowedEvents_=t,this.listeners_={},(0,o.assert)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=f([],l(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){(0,o.assert)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),gt=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return s(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.assert)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(vt),mt=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function yt(){return new mt("")}function bt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function wt(t){return t.pieces_.length-t.pieceNum_}function _t(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new mt(t.pieces_,e)}function It(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Et(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function Tt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new mt(e,0)}function St(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof mt)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new mt(n,0)}function Ct(t){return t.pieceNum_>=t.pieces_.length}function kt(t,e){var n=bt(t),r=bt(e);if(null===n)return e;if(n===r)return kt(_t(t),_t(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function xt(t,e){for(var n=Et(t,0),r=Et(e,0),i=0;i<n.length&&i<r.length;i++){var o=L(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function At(t,e){if(wt(t)!==wt(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Nt(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(wt(t)>wt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Pt=function(t,e){this.errorPrefix_=e,this.parts_=Et(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);Ot(this)};function Ot(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Dt(t))}function Dt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var Rt,Mt,Lt=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return s(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.assert)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(vt),jt=1e3,Ft=function(t){function e(n,r,i,a,s,u,c,l){var f=t.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=s,f.authTokenProvider_=u,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=e.nextPersistentConnectionId_++,f.log_=A("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=jt,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Lt.getInstance().on("visible",f.onVisible_,f),-1===n.host.indexOf("fblocal")&&gt.getInstance().on("online",f.onOnline_,f),f}return s(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new o.Deferred,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[a];void 0!==t&&i===t&&(delete e.outstandingGets_[a],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&(0,o.contains)(t,"w")){var n=(0,o.safeGet)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();O("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||(0,o.isAdmin)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=(0,o.isValidFormat)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)}))},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+(0,o.stringify)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):N("Unrecognized action received from server: "+(0,o.stringify)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=jt,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=jt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=jt),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return t=this,n=void 0,i=function(){var t,n,r,i,a,s,u,c,f,h,d,p,v,g,m=this;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,r())},f=function(t){(0,o.assert)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)},this.realtime_={close:c,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=l.apply(void 0,[y.sent(),2]),p=d[0],v=d[1],s?x("getToken() completed but was canceled"):(x("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,u=new dt(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,(function(t){O(t+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),a)),[3,4];case 3:return g=y.sent(),this.log_("Failed to get token: "+g),s||(this.repoInfo_.nodeAdmin&&O(g),c()),[3,4];case 4:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,s)}u((i=i.apply(t,n||[])).next())}));var t,n,r,i},e.prototype.interrupt=function(t){x("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){x("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=jt,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return U(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new mt(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){x("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){x("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=c(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,c(a.values())),u=s.next();!u.done;u=s.next()){var l=u.value;this.sendListen_(l)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(f=0;f<this.outstandingGets_.length;f++)this.outstandingGets_[f]&&this.sendGet_(f)},e.prototype.sendConnectStats_=function(){var t={},e="js";(0,o.isNodeSdk)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+d.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?t["framework.cordova"]=1:(0,o.isReactNative)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=gt.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(pt),Ut=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),qt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Ut(R,t),r=new Ut(R,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Ut.MIN},t}(),Bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Rt},set:function(t){Rt=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return L(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Ut.MIN},e.prototype.maxPost=function(){return new Ut(M,Rt)},e.prototype.makePost=function(t,e){return(0,o.assert)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ut(t,Rt)},e.prototype.toString=function(){return".key"},e}(qt),Vt=new Bt,Ht=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Kt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Gt.EMPTY_NODE,this.right=null!=o?o:Gt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Gt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Gt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Wt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Kt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Gt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Kt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Kt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Ht(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Ht(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Ht(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Ht(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Wt,t}();function zt(t,e){return L(t.name,e.name)}function Yt(t,e){return L(t,e)}var Qt,Xt,Jt,$t,Zt,te=function(t){return"number"==typeof t?"number:"+V(t):"string:"+t},ee=function(t){if(t.isLeafNode()){var e=t.val();(0,o.assert)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,o.contains)(e,".sv"),"Priority must be a string or number.")}else(0,o.assert)(t===Mt||t.isEmpty(),"priority of unexpected type.");(0,o.assert)(t===Mt||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ne=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ee(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Qt},set:function(t){Qt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return Ct(e)?this:".priority"===bt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=bt(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===wt(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(_t(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+te(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?V(this.value_):this.value_,this.lazyHash_=E(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,o.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),re=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?L(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Ut.MIN},e.prototype.maxPost=function(){return new Ut(M,new ne("[PRIORITY-POST]",Jt))},e.prototype.makePost=function(t,e){var n=Xt(t);return new Ut(e,new ne("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(qt)),ie=Math.log(2),oe=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/ie,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),ae=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0===s)return null;if(1===s)return o=t[e],a=n?n(o):o,new Kt(a,o.node,Kt.BLACK,null,null);var u=parseInt(s/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],a=n?n(o):o,new Kt(a,o.node,Kt.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],f=n?n(l):l;u(new Kt(f,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),f=Math.pow(2,e.count-(c+1));l?s(f,Kt.BLACK):(s(f,Kt.BLACK),s(f,Kt.RED))}return o}(new oe(t.length));return new Gt(r||e,o)},se={},ue=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return(0,o.assert)(se&&re,"ChildrenNode.ts has not been loaded"),$t=$t||new t({".priority":se},{".priority":re})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=(0,o.safeGet)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Gt?e:null},t.prototype.hasIndex=function(t){return(0,o.contains)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){(0,o.assert)(e!==Vt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,s=n.getIterator(Ut.Wrap),c=s.getNext();c;)a=a||e.isDefinedOn(c.node),i.push(c),c=s.getNext();r=a?ae(i,e.getCompare()):se;var l=e.toString(),f=u({},this.indexSet_);f[l]=e;var h=u({},this.indexes_);return h[l]=r,new t(h,f)},t.prototype.addToIndexes=function(e,n){var r=this;return new t((0,o.map)(this.indexes_,(function(t,i){var a=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(a,"Missing index implementation for "+i),t===se){if(a.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(Ut.Wrap),c=u.getNext();c;)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),ae(s,a.getCompare())}return se}var l=n.get(e.name),f=t;return l&&(f=f.remove(new Ut(e.name,l))),f.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t((0,o.map)(this.indexes_,(function(t){if(t===se)return t;var r=n.get(e.name);return r?t.remove(new Ut(e.name,r)):t})),this.indexSet_)},t}(),ce=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ee(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Zt||(Zt=new t(new Gt(Yt),null,ue.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Zt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Zt:e},t.prototype.getChild=function(t){var e=bt(t);return null===e?this:this.getImmediateChild(e).getChild(_t(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Ut(e,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Zt:this.priorityNode_;return new t(i,s,a)},t.prototype.updateChild=function(t,e){var n=bt(t);if(null===n)return e;(0,o.assert)(".priority"!==bt(t)||1===wt(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(_t(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(re,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+te(this.getPriority().val())+":"),this.forEachChild(re,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":E(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ut(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Ut(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Ut(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Ut.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Ut.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===le?-1:0},t.prototype.withIndex=function(e){if(e===Vt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Vt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(re),r=e.getIterator(re),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Vt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),le=new(function(t){function e(){return t.call(this,new Gt(Yt),ce.EMPTY_NODE,ue.Default)||this}return s(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return ce.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(ce));function fe(t,e){if(void 0===e&&(e=null),null===t)return ce.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,o.assert)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new ne(t,fe(e));if(t instanceof Array){var n=ce.EMPTY_NODE;return B(t,(function(e,r){if((0,o.contains)(t,e)&&"."!==e.substring(0,1)){var i=fe(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(fe(e))}var r=[],i=!1;if(B(t,(function(t,e){if("."!==t.substring(0,1)){var n=fe(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ut(t,n)))}})),0===r.length)return ce.EMPTY_NODE;var a=ae(r,zt,(function(t){return t.name}),Yt);if(i){var s=ae(r,re.getCompare());return new ce(a,fe(e),new ue({".priority":s},{".priority":re}))}return new ce(a,fe(e),ue.Default)}Object.defineProperties(Ut,{MIN:{value:new Ut(R,ce.EMPTY_NODE)},MAX:{value:new Ut(M,le)}}),Bt.__EMPTY_NODE=ce.EMPTY_NODE,ne.__childrenNodeConstructor=ce,Mt=le,Jt=le,function(t){Xt=t}(fe);var he,de,pe=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,(0,o.assert)(!Ct(e)&&".priority"!==bt(e),"Can't create PathIndex with empty path or .priority key"),n}return s(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?L(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=fe(t),r=ce.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ut(e,r)},e.prototype.maxPost=function(){var t=ce.EMPTY_NODE.updateChild(this.indexPath_,le);return new Ut(M,t)},e.prototype.toString=function(){return Et(this.indexPath_,0).join("/")},e}(qt),ve=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?L(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Ut.MIN},e.prototype.maxPost=function(){return Ut.MAX},e.prototype.makePost=function(t,e){var n=fe(t);return new Ut(e,n)},e.prototype.toString=function(){return".value"},e}(qt)),ge="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",me=(he=0,de=[],function(t){var e,n=t===he;he=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=ge.charAt(t%64),t=Math.floor(t/64);(0,o.assert)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===de[e];e--)de[e]=0;de[e]++}else for(e=0;e<12;e++)de[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=ge.charAt(de[e]);return(0,o.assert)(20===i.length,"nextPushId: Length should be 20."),i}),ye=function(t){if("2147483647"===t)return"-";var e=K(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return M;var o=n[i],a=ge.charAt(ge.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},be=function(t){if("-2147483648"===t)return R;var e=K(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ge.charAt(ge.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function we(t){return{type:"value",snapshotNode:t}}function _e(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ie(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ee(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var Te=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,a){(0,o.assert)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(Ie(e,s)):(0,o.assert)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(_e(e,n)):a.trackChildChange(Ee(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(re,(function(t,r){e.hasChild(t)||n.trackChildChange(Ie(t,r))})),e.isLeafNode()||e.forEachChild(re,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(Ee(e,r,i))}else n.trackChildChange(_e(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?ce.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Se=function(){function t(e){this.indexedFilter_=new Te(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Ut(e,n))||(n=ce.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=ce.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(ce.EMPTY_NODE);var i=this;return e.forEachChild(re,(function(t,e){i.matches(new Ut(t,e))||(r=r.updateImmediateChild(t,ce.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Ce=function(){function t(t){this.rangedFilter_=new Se(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Ut(e,n))||(n=ce.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=ce.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=ce.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(ce.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var f=!1;i.hasNext();)a=i.getNext(),!f&&c(s,a)<=0&&(f=!0),f&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,ce.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var u=t;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new Ut(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var h=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(f&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(Ee(e,n,h)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(Ie(e,h));var v=u.updateImmediateChild(e,ce.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(_e(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?t:f&&a(l,c)>=0?(null!=i&&(i.trackChildChange(Ie(l.name,l.node)),i.trackChildChange(_e(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,ce.EMPTY_NODE)):t},t}(),ke=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=re}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:R},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:M},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===re},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function xe(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ae(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ne(t,e){var n=t.copy();return n.index_=e,n}function Pe(t){var e,n={};return t.isDefault()||(t.index_===re?e="$priority":t.index_===ve?e="$value":t.index_===Vt?e="$key":((0,o.assert)(t.index_ instanceof pe,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,o.stringify)(e),t.startSet_&&(n.startAt=(0,o.stringify)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+(0,o.stringify)(t.indexStartName_))),t.endSet_&&(n.endAt=(0,o.stringify)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+(0,o.stringify)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function Oe(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==re&&(e.i=t.index_.toString()),e}var De=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=A("p:rest:"),o.listens_={},o}return s(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:((0,o.assert)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var a=this,s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=Pe(t._queryParams);this.restRequest_(s+".json",l,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&a.onDataUpdate_(s,n,!1,r),(0,o.safeGet)(a.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Pe(t._queryParams),r=t._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=l(i,2),s=a[0],u=a[1];s&&s.accessToken&&(e.auth=s.accessToken),u&&u.token&&(e.ac=u.token);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(e);r.log_("Sending REST request for "+c);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(n&&4===f.readyState){r.log_("REST Response for "+c+" received. status:",f.status,"response:",f.responseText);var t=null;if(f.status>=200&&f.status<300){try{t=(0,o.jsonEval)(f.responseText)}catch(t){O("Failed to parse JSON response for "+c+": "+f.responseText)}n(null,t)}else 401!==f.status&&404!==f.status&&O("Got unsuccessful REST response for "+c+" Status: "+f.status),n(f.status);n=null}},f.open("GET",c,!0),f.send()}))},e}(pt),Re=function(){function t(){this.rootNode_=ce.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Me(){return{value:null,children:new Map}}function Le(t,e,n){if(Ct(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=bt(e);t.children.has(r)||t.children.set(r,Me()),Le(t.children.get(r),e=_t(e),n)}}function je(t,e){if(Ct(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(re,(function(e,n){Le(t,new mt(e),n)})),je(t,e)}if(t.children.size>0){var r=bt(e);return e=_t(e),t.children.has(r)&&je(t.children.get(r),e)&&t.children.delete(r),0===t.children.size}return!0}function Fe(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((function(t,n){e(n,t)}))}(t,(function(t,r){Fe(r,new mt(e.toString()+"/"+t),n)}))}var Ue,qe=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=u({},t);return this.last_&&B(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Be=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new qe(t);var n=1e4+2e4*Math.random();G(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;B(e,(function(e,i){i>0&&(0,o.contains)(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),G(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}();function Ve(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ue||(Ue={}));var He,Ke=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Ue.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(Ct(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new mt(e));return new t(yt(),n,this.revert)}return(0,o.assert)(bt(this.path)===e,"operationForChild called for unrelated child."),new t(_t(this.path),this.affectedTree,this.revert)},t}(),We=function(){function t(t,e){this.source=t,this.path=e,this.type=Ue.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return Ct(this.path)?new t(this.source,yt()):new t(this.source,_t(this.path))},t}(),Ge=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Ue.OVERWRITE}return t.prototype.operationForChild=function(e){return Ct(this.path)?new t(this.source,yt(),this.snap.getImmediateChild(e)):new t(this.source,_t(this.path),this.snap)},t}(),ze=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Ue.MERGE}return t.prototype.operationForChild=function(e){if(Ct(this.path)){var n=this.children.subtree(new mt(e));return n.isEmpty()?null:n.value?new Ge(this.source,yt(),n.value):new t(this.source,yt(),n)}return(0,o.assert)(bt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,_t(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Ye=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(Ct(t))return this.isFullyInitialized()&&!this.filtered_;var e=bt(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Qe=function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()};function Xe(t,e,n,r,i,a){var s=r.filter((function(t){return t.type===n}));s.sort((function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new Ut(e.childName,e.snapshotNode),i=new Ut(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)})),s.forEach((function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,a);i.forEach((function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}function Je(t,e){return{eventCache:t,serverCache:e}}function $e(t,e,n,r){return Je(new Ye(e,n,r),t.serverCache)}function Ze(t,e,n,r){return Je(t.eventCache,new Ye(e,n,r))}function tn(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function en(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var nn=function(){function t(t,e){void 0===e&&(He||(He=new Gt(j)),e=He),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return B(e,(function(t,e){n=n.set(new mt(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:yt(),value:this.value};if(Ct(t))return null;var n=bt(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(_t(t),e);return null!=i?{path:St(new mt(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(Ct(e))return this;var n=bt(e),r=this.children.get(n);return null!==r?r.subtree(_t(e)):new t(null)},t.prototype.set=function(e,n){if(Ct(e))return new t(n,this.children);var r=bt(e),i=(this.children.get(r)||new t(null)).set(_t(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(Ct(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=bt(e),r=this.children.get(n);if(r){var i=r.remove(_t(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(Ct(t))return this.value;var e=bt(t),n=this.children.get(e);return n?n.get(_t(t)):null},t.prototype.setTree=function(e,n){if(Ct(e))return n;var r,i=bt(e),o=(this.children.get(i)||new t(null)).setTree(_t(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(yt(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(St(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,yt(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(Ct(t))return null;var i=bt(t),o=this.children.get(i);return o?o.findOnPath_(_t(t),St(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,yt(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(Ct(e))return this;this.value&&r(n,this.value);var i=bt(e),o=this.children.get(i);return o?o.foreachOnPath_(_t(e),St(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(yt(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(St(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),rn=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new nn(null))},t}();function on(t,e,n){if(Ct(e))return new rn(new nn(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=kt(i,e);return o=o.updateChild(a,n),new rn(t.writeTree_.set(i,o))}var s=new nn(n),u=t.writeTree_.setTree(e,s);return new rn(u)}function an(t,e,n){var r=t;return B(n,(function(t,n){r=on(r,St(e,t),n)})),r}function sn(t,e){if(Ct(e))return rn.empty();var n=t.writeTree_.setTree(e,new nn(null));return new rn(n)}function un(t,e){return null!=cn(t,e)}function cn(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(kt(n.path,e)):null}function ln(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(re,(function(t,n){e.push(new Ut(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new Ut(t,n.value))})),e}function fn(t,e){if(Ct(e))return t;var n=cn(t,e);return new rn(null!=n?new nn(n):t.writeTree_.subtree(e))}function hn(t){return t.writeTree_.isEmpty()}function dn(t,e){return pn(yt(),t.writeTree_,e)}function pn(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal((function(e,i){".priority"===e?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=pn(St(t,e),i,n)})),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(St(t,".priority"),r)),n}function vn(t,e){return Cn(e,t)}function gn(t,e){if(t.snap)return Nt(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Nt(St(t.path,n),e))return!0;return!1}function mn(t){return t.visible}function yn(t,e,n){for(var r=rn.empty(),i=0;i<t.length;++i){var a=t[i];if(e(a)){var s=a.path,u=void 0;if(a.snap)Nt(n,s)?r=on(r,u=kt(n,s),a.snap):Nt(s,n)&&(u=kt(s,n),r=on(r,yt(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(Nt(n,s))r=an(r,u=kt(n,s),a.children);else if(Nt(s,n))if(Ct(u=kt(s,n)))r=an(r,yt(),a.children);else{var c=(0,o.safeGet)(a.children,bt(u));if(c){var l=c.getChild(_t(u));r=on(r,yt(),l)}}}}}return r}function bn(t,e,n,r,i){if(r||i){var o=fn(t.visibleWrites,e);return!i&&hn(o)?n:i||null!=n||un(o,yt())?dn(yn(t.allWrites,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(Nt(t.path,e)||Nt(e,t.path))}),e),n||ce.EMPTY_NODE):null}var a=cn(t.visibleWrites,e);if(null!=a)return a;var s=fn(t.visibleWrites,e);return hn(s)?n:null!=n||un(s,yt())?dn(s,n||ce.EMPTY_NODE):null}function wn(t,e,n,r){return bn(t.writeTree,t.treePath,e,n,r)}function _n(t,e){return function(t,e,n){var r=ce.EMPTY_NODE,i=cn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(re,(function(t,e){r=r.updateImmediateChild(t,e)})),r;if(n){var o=fn(t.visibleWrites,e);return n.forEachChild(re,(function(t,e){var n=dn(fn(o,new mt(t)),e);r=r.updateImmediateChild(t,n)})),ln(o).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}return ln(fn(t.visibleWrites,e)).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}(t.writeTree,t.treePath,e)}function In(t,e,n,r){return function(t,e,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=St(e,n);if(un(t.visibleWrites,a))return null;var s=fn(t.visibleWrites,a);return hn(s)?i.getChild(n):dn(s,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function En(t,e){return function(t,e){return cn(t.visibleWrites,e)}(t.writeTree,St(t.treePath,e))}function Tn(t,e,n){return function(t,e,n,r){var i=St(e,n),o=cn(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?dn(fn(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function Sn(t,e){return Cn(St(t.treePath,e),t.writeTree)}function Cn(t,e){return{treePath:t,writeTree:e}}var kn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;(0,o.assert)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,Ee(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,Ie(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,_e(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Ee(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),xn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),An=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Ye(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:en(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,a){var s,u=fn(t.visibleWrites,e),c=cn(u,yt());if(null!=c)s=c;else{if(null==n)return[];s=dn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=a.getCompare(),h=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(t.writeTree,t.treePath,e,n,r,i,o)}(this.writes_,r,e,1,n,t);return 0===i.length?null:i[0]},t}();function Nn(t,e,n,r,i,a){var s=e.eventCache;if(null!=En(r,n))return e;var u=void 0,c=void 0;if(Ct(n))if((0,o.assert)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=en(e),f=_n(r,l instanceof ce?l:ce.EMPTY_NODE);u=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{var h=wn(r,en(e));u=t.filter.updateFullNode(e.eventCache.getNode(),h,a)}else{var d=bt(n);if(".priority"===d){(0,o.assert)(1===wt(n),"Can't have a priority with additional path components");var p=s.getNode(),v=In(r,n,p,c=e.serverCache.getNode());u=null!=v?t.filter.updatePriority(p,v):s.getNode()}else{var g=_t(n),m=void 0;if(s.isCompleteForChild(d)){c=e.serverCache.getNode();var y=In(r,n,s.getNode(),c);m=null!=y?s.getNode().getImmediateChild(d).updateChild(g,y):s.getNode().getImmediateChild(d)}else m=Tn(r,d,e.serverCache);u=null!=m?t.filter.updateChild(s.getNode(),d,m,g,i,a):s.getNode()}}return $e(e,u,s.isFullyInitialized()||Ct(n),t.filter.filtersNodes())}function Pn(t,e,n,r,i,o,a,s){var u,c=e.serverCache,l=a?t.filter:t.filter.getIndexedFilter();if(Ct(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=bt(n);if(!c.isCompleteForPath(n)&&wt(n)>1)return e;var d=_t(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,xn,null)}var v=Ze(e,u,c.isFullyInitialized()||Ct(n),l.filtersNodes());return Nn(t,v,n,i,new An(i,v,o),s)}function On(t,e,n,r,i,o,a){var s,u,c=e.eventCache,l=new An(i,e,o);if(Ct(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,a),s=$e(e,u,!0,t.filter.filtersNodes());else{var f=bt(n);if(".priority"===f)u=t.filter.updatePriority(e.eventCache.getNode(),r),s=$e(e,u,c.isFullyInitialized(),c.isFiltered());else{var h=_t(n),d=c.getNode().getImmediateChild(f),p=void 0;if(Ct(h))p=r;else{var v=l.getCompleteChild(f);p=null!=v?".priority"===It(h)&&v.getChild(Tt(h)).isEmpty()?v:v.updateChild(h,r):ce.EMPTY_NODE}s=d.equals(p)?e:$e(e,t.filter.updateChild(c.getNode(),f,p,h,l,a),c.isFullyInitialized(),t.filter.filtersNodes())}}return s}function Dn(t,e){return t.eventCache.isCompleteForChild(e)}function Rn(t,e,n){return n.foreach((function(t,n){e=e.updateChild(t,n)})),e}function Mn(t,e,n,r,i,o,a,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=Ct(n)?r:new nn(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Rn(0,e.serverCache.getNode().getImmediateChild(n),r);c=Pn(t,c,new mt(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=Rn(0,e.serverCache.getNode().getImmediateChild(n),r);c=Pn(t,c,new mt(n),f,i,o,a,s)}})),c}var Ln,jn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new Te(r.getIndex()),o=(n=r).loadsAllData()?new Te(n.getIndex()):n.hasLimit()?new Ce(n):new Se(n);this.processor_=function(t){return{filter:t}}(o);var a=e.serverCache,s=e.eventCache,u=i.updateFullNode(ce.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(ce.EMPTY_NODE,s.getNode(),null),l=new Ye(u,a.isFullyInitialized(),i.filtersNodes()),f=new Ye(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Je(f,l),this.eventGenerator_=new Qe(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Fn(t,e){var n=en(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ct(e)&&!n.getImmediateChild(bt(e)).isEmpty())?n.getChild(e):null}function Un(t){return 0===t.eventRegistrations_.length}function qn(t,e,n){var r=[];if(n){(0,o.assert)(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach((function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)}))}if(e){for(var a=[],s=0;s<t.eventRegistrations_.length;++s){var u=t.eventRegistrations_[s];if(u.matches(e)){if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(s+1));break}}else a.push(u)}t.eventRegistrations_=a}else t.eventRegistrations_=[];return r}function Bn(t,e,n,r){e.type===Ue.MERGE&&null!==e.source.queryId&&((0,o.assert)(en(t.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(tn(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=t.viewCache_,u=function(t,e,n,r,i){var a,s,u=new kn;if(n.type===Ue.OVERWRITE){var c=n;c.source.fromUser?a=On(t,e,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.serverCache.isFiltered()&&!Ct(c.path),a=Pn(t,e,c.path,c.snap,r,i,s,u))}else if(n.type===Ue.MERGE){var l=n;l.source.fromUser?a=function(t,e,n,r,i,o,a){var s=e;return r.foreach((function(r,u){var c=St(n,r);Dn(e,bt(c))&&(s=On(t,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=St(n,r);Dn(e,bt(c))||(s=On(t,s,c,u,i,o,a))})),s}(t,e,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.serverCache.isFiltered(),a=Mn(t,e,l.path,l.children,r,i,s,u))}else if(n.type===Ue.ACK_USER_WRITE){var f=n;a=f.revert?function(t,e,n,r,i,a){var s;if(null!=En(r,n))return e;var u=new An(r,e,i),c=e.eventCache.getNode(),l=void 0;if(Ct(n)||".priority"===bt(n)){var f=void 0;if(e.serverCache.isFullyInitialized())f=wn(r,en(e));else{var h=e.serverCache.getNode();(0,o.assert)(h instanceof ce,"serverChildren would be complete if leaf node"),f=_n(r,h)}f=f,l=t.filter.updateFullNode(c,f,a)}else{var d=bt(n),p=Tn(r,d,e.serverCache);null==p&&e.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?t.filter.updateChild(c,d,p,_t(n),u,a):e.eventCache.getNode().hasChild(d)?t.filter.updateChild(c,d,ce.EMPTY_NODE,_t(n),u,a):c).isEmpty()&&e.serverCache.isFullyInitialized()&&(s=wn(r,en(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,s,a))}return s=e.serverCache.isFullyInitialized()||null!=En(r,yt()),$e(e,l,s,t.filter.filtersNodes())}(t,e,f.path,r,i,u):function(t,e,n,r,i,o,a){if(null!=En(i,n))return e;var s=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(Ct(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Pn(t,e,n,u.getNode().getChild(n),i,o,s,a);if(Ct(n)){var c=new nn(null);return u.getNode().forEachChild(Vt,(function(t,e){c=c.set(new mt(t),e)})),Mn(t,e,n,c,i,o,s,a)}return e}var l=new nn(null);return r.foreach((function(t,e){var r=St(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))})),Mn(t,e,n,l,i,o,s,a)}(t,e,f.path,f.affectedTree,r,i,u)}else{if(n.type!==Ue.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);a=function(t,e,n,r,i){var o=e.serverCache;return Nn(t,Ze(e,o.getNode(),o.isFullyInitialized()||Ct(n),o.isFiltered()),n,r,xn,i)}(t,e,n.path,r,u)}var h=u.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=tn(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(we(tn(e)))}}(e,a,h),{viewCache:a,changes:h}}(t.processor_,s,e,n,r);return i=t.processor_,a=u.viewCache,(0,o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,Vn(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Vn(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return function(t,e,n,r){var i=[],o=[];return e.forEach((function(e){var n;"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push((n=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:n}))})),Xe(t,i,"child_removed",e,r,n),Xe(t,i,"child_added",e,r,n),Xe(t,i,"child_moved",o,r,n),Xe(t,i,"child_changed",e,r,n),Xe(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,i)}var Hn,Kn=function(){this.views=new Map};function Wn(t,e,n,r){var i,a,s=e.source.queryId;if(null!==s){var u=t.views.get(s);return(0,o.assert)(null!=u,"SyncTree gave us an op for an invalid query."),Bn(u,e,n,r)}var l=[];try{for(var f=c(t.views.values()),h=f.next();!h.done;h=f.next())u=h.value,l=l.concat(Bn(u,e,n,r))}catch(t){i={error:t}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}return l}function Gn(t,e,n,r,i){var o=e._queryIdentifier,a=t.views.get(o);if(!a){var s=wn(n,i?r:null),u=!1;s?u=!0:r instanceof ce?(s=_n(n,r),u=!1):(s=ce.EMPTY_NODE,u=!1);var c=Je(new Ye(s,u,!1),new Ye(r,i,!1));return new jn(e,c)}return a}function zn(t){var e,n,r=[];try{for(var i=c(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Yn(t,e){var n,r,i=null;try{for(var o=c(t.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;i=i||Fn(s,e)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Qn(t,e){if(e._queryParams.loadsAllData())return $n(t);var n=e._queryIdentifier;return t.views.get(n)}function Xn(t,e){return null!=Qn(t,e)}function Jn(t){return null!=$n(t)}function $n(t){var e,n;try{for(var r=c(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var Zn=1,tr=function(t){this.listenProvider_=t,this.syncPointTree_=new nn(null),this.pendingWriteTree_={visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function er(t,e,n,r,i){return function(t,e,n,r,i){(0,o.assert)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=on(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?sr(t,new Ge({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function nr(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex((function(t){return t.writeId===e}));(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=t.allWrites.length-1;i&&s>=0;){var u=t.allWrites[s];u.visible&&(s>=n&&gn(u,r.path)?i=!1:Nt(r.path,u.path)&&(a=!0)),s--}return!!i&&(a?(function(t){t.visibleWrites=yn(t.allWrites,mn,yt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}(t),!0):(r.snap?t.visibleWrites=sn(t.visibleWrites,r.path):B(r.children,(function(e){t.visibleWrites=sn(t.visibleWrites,St(r.path,e))})),!0))}(t.pendingWriteTree_,e)){var i=new nn(null);return null!=r.snap?i=i.set(yt(),!0):B(r.children,(function(t){i=i.set(new mt(t),!0)})),sr(t,new Ke(r.path,i,n))}return[]}function rr(t,e,n){return sr(t,new Ge({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function ir(t,e,n,r){var i=e._path,a=t.syncPointTree_.get(i),s=[];if(a&&("default"===e._queryIdentifier||Xn(a,e))){var u=function(t,e,n,r){var i,a,s=e._queryIdentifier,u=[],f=[],h=Jn(t);if("default"===s)try{for(var d=c(t.views.entries()),p=d.next();!p.done;p=d.next()){var v=l(p.value,2),g=v[0],m=v[1];f=f.concat(qn(m,n,r)),Un(m)&&(t.views.delete(g),m.query._queryParams.loadsAllData()||u.push(m.query))}}catch(t){i={error:t}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}else(m=t.views.get(s))&&(f=f.concat(qn(m,n,r)),Un(m)&&(t.views.delete(s),m.query._queryParams.loadsAllData()||u.push(m.query)));return h&&!Jn(t)&&u.push(new((0,o.assert)(Ln,"Reference.ts has not been loaded"),Ln)(e._repo,e._path)),{removed:u,events:f}}(a,e,n,r);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var f=u.removed;s=u.events;var h=-1!==f.findIndex((function(t){return t._queryParams.loadsAllData()})),d=t.syncPointTree_.findOnPath(i,(function(t,e){return Jn(e)}));if(h&&!d){var p=t.syncPointTree_.subtree(i);if(!p.isEmpty())for(var v=function(t){return t.fold((function(t,e,n){if(e&&Jn(e))return[$n(e)];var r=[];return e&&(r=zn(e)),B(n,(function(t,e){r=r.concat(e)})),r}))}(p),g=0;g<v.length;++g){var m=v[g],y=m.query,b=lr(t,m);t.listenProvider_.startListening(gr(y),fr(t,y),b.hashFn,b.onComplete)}}!d&&f.length>0&&!r&&(h?t.listenProvider_.stopListening(gr(e),null):f.forEach((function(e){var n=t.queryToTagMap.get(hr(e));t.listenProvider_.stopListening(gr(e),n)}))),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=hr(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,f)}return s}function or(t,e,n){var r=e._path,i=null,a=!1;t.syncPointTree_.foreachOnPath(r,(function(t,e){var n=kt(t,r);i=i||Yn(e,n),a=a||Jn(e)}));var s,u=t.syncPointTree_.get(r);u?(a=a||Jn(u),i=i||Yn(u,yt())):(u=new Kn,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=ce.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=Yn(e,yt());n&&(i=i.updateImmediateChild(t,n))})));var c=Xn(u,e);if(!c&&!e._queryParams.loadsAllData()){var l=hr(e);(0,o.assert)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=Zn++;t.queryToTagMap.set(l,f),t.tagToQueryMap.set(f,l)}var h=function(t,e,n,r,i,o){var a=Gn(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),function(t,e){t.eventRegistrations_.push(e)}(a,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(re,(function(t,e){r.push(_e(t,e))})),n.isFullyInitialized()&&r.push(we(n.getNode())),Vn(t,r,n.getNode(),e)}(a,n)}(u,e,n,vn(t.pendingWriteTree_,r),i,s);if(!c&&!a){var d=Qn(u,e);h=h.concat(function(t,e,n){var r=e._path,i=fr(t,e),a=lr(t,n),s=t.listenProvider_.startListening(gr(e),i,a.hashFn,a.onComplete),u=t.syncPointTree_.subtree(r);if(i)(0,o.assert)(!Jn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(t,e,n){if(!Ct(t)&&e&&Jn(e))return[$n(e).query];var r=[];return e&&(r=r.concat(zn(e).map((function(t){return t.query})))),B(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<c.length;++l){var f=c[l];t.listenProvider_.stopListening(gr(f),fr(t,f))}return s}(t,e,d))}return h}function ar(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(function(t,n){var r=Yn(n,kt(t,e));if(r)return r}));return bn(r,e,i,n,!0)}function sr(t,e){return ur(e,t.syncPointTree_,null,vn(t.pendingWriteTree_,yt()))}function ur(t,e,n,r){if(Ct(t.path))return cr(t,e,n,r);var i=e.get(yt());null==n&&null!=i&&(n=Yn(i,yt()));var o=[],a=bt(t.path),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=Sn(r,a);o=o.concat(ur(s,u,c,l))}return i&&(o=o.concat(Wn(i,t,r,n))),o}function cr(t,e,n,r){var i=e.get(yt());null==n&&null!=i&&(n=Yn(i,yt()));var o=[];return e.children.inorderTraversal((function(e,i){var a=n?n.getImmediateChild(e):null,s=Sn(r,e),u=t.operationForChild(e);u&&(o=o.concat(cr(u,i,a,s)))})),i&&(o=o.concat(Wn(i,t,r,n))),o}function lr(t,e){var n=e.query,r=fr(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||ce.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=dr(t,n);if(r){var i=pr(r),o=i.path,a=i.queryId,s=kt(o,e);return vr(t,o,new We(Ve(a),s))}return[]}(t,n._path,r):function(t,e){return sr(t,new We({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return ir(t,n,null,i)}}}function fr(t,e){var n=hr(e);return t.queryToTagMap.get(n)}function hr(t){return t._path.toString()+"$"+t._queryIdentifier}function dr(t,e){return t.tagToQueryMap.get(e)}function pr(t){var e=t.indexOf("$");return(0,o.assert)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new mt(t.substr(0,e))}}function vr(t,e,n){var r=t.syncPointTree_.get(e);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),Wn(r,n,vn(t.pendingWriteTree_,e),null)}function gr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new((0,o.assert)(Hn,"Reference.ts has not been loaded"),Hn)(t._repo,t._path):t}var mr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),yr=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=St(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return ar(this.syncTree_,this.path_)},t}(),br=function(t,e,n){return t&&"object"==typeof t?((0,o.assert)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?wr(t[".sv"],e,n):"object"==typeof t[".sv"]?_r(t[".sv"],e):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},wr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:(0,o.assert)(!1,"Unexpected server value: "+t)}},_r=function(t,e,n){t.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=e.node();if((0,o.assert)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},Ir=function(t,e,n,r){return Tr(e,new yr(n,t),r)},Er=function(t,e,n){return Tr(t,new mr(e),n)};function Tr(t,e,n){var r,i=t.getPriority().val(),o=br(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=br(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new ne(s,fe(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new ne(o))),u.forEachChild(re,(function(t,i){var o=Tr(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var Sr=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n};function Cr(t,e){for(var n=e instanceof mt?e:new mt(e),r=t,i=bt(n);null!==i;){var a=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Sr(i,r,a),i=bt(n=_t(n))}return r}function kr(t){return t.node.value}function xr(t,e){t.node.value=e,Dr(t)}function Ar(t){return t.node.childCount>0}function Nr(t,e){B(t.node.children,(function(n,r){e(new Sr(n,t,r))}))}function Pr(t,e,n,r){n&&!r&&e(t),Nr(t,(function(t){Pr(t,e,!0,r)})),n&&r&&e(t)}function Or(t){return new mt(null===t.parent?t.name:Or(t.parent)+"/"+t.name)}function Dr(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===kr(t)&&!Ar(t)}(n),i=(0,o.contains)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Dr(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,Dr(t))}(t.parent,t.name,t)}var Rr=/[\[\].#$\/\u0000-\u001F\u007F]/,Mr=/[\[\].#$\u0000-\u001F\u007F]/,Lr=10485760,jr=function(t){return"string"==typeof t&&0!==t.length&&!Rr.test(t)},Fr=function(t){return"string"==typeof t&&0!==t.length&&!Mr.test(t)},Ur=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!D(t)||t&&"object"==typeof t&&(0,o.contains)(t,".sv")},qr=function(t,e,n,r){r&&void 0===e||Br((0,o.errorPrefix)(t,"value"),e,n)},Br=function(t,e,n){var r=n instanceof mt?new Pt(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Dt(r));if("function"==typeof e)throw new Error(t+"contains a function "+Dt(r)+" with contents = "+e.toString());if(D(e))throw new Error(t+"contains "+e.toString()+" "+Dt(r));if("string"==typeof e&&e.length>Lr/3&&(0,o.stringLength)(e)>Lr)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+Dt(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,a=!1;if(B(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(a=!0,!jr(e)))throw new Error(t+" contains an invalid key ("+e+") "+Dt(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,o.stringLength)(e),Ot(t)}(r,e),Br(t,n,r),u=(s=r).parts_.pop(),s.byteLength_-=(0,o.stringLength)(u),s.parts_.length>0&&(s.byteLength_-=1)})),i&&a)throw new Error(t+' contains ".value" child '+Dt(r)+" in addition to actual children.")}},Vr=function(t,e,n,r){if(!r||void 0!==e){var i=(0,o.errorPrefix)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var a=[];B(e,(function(t,e){var r=new mt(t);if(Br(i,e,St(n,r)),".priority"===It(r)&&!Ur(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=Et(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!jr(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(xt);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&Nt(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Hr=function(t,e,n){if(!n||void 0!==e){if(D(e))throw new Error((0,o.errorPrefix)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ur(e))throw new Error((0,o.errorPrefix)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Kr=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Wr=function(t,e,n,r){if(!(r&&void 0===n||jr(n)))throw new Error((0,o.errorPrefix)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Gr=function(t,e,n,r){if(!(r&&void 0===n||Fr(n)))throw new Error((0,o.errorPrefix)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},zr=function(t,e){if(".info"===bt(e))throw new Error(t+" failed = Can't modify data under /.info/")},Yr=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!jr(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Fr(t)}(n))throw new Error((0,o.errorPrefix)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Qr=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.errorPrefix)(t,e)+"must be a boolean.")},Xr=function(){this.eventLists_=[],this.recursionDepth_=0};function Jr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||At(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function $r(t,e,n){Jr(t,n),ti(t,(function(t){return At(t,e)}))}function Zr(t,e,n){Jr(t,n),ti(t,(function(t){return Nt(t,e)||Nt(e,t)}))}function ti(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(ei(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function ei(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();S&&x("event: "+n.toString()),W(r)}}}var ni="repo_interrupt",ri=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Xr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Me(),this.transactionQueueTree_=new Sr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function ii(t){var e=t.infoData_.getNode(new mt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function oi(t){return(e=(e={timestamp:ii(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function ai(t,e,n,r,i){t.dataUpdateCount++;var a=new mt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var s=[];if(i)if(r){var u=(0,o.map)(n,(function(t){return fe(t)}));s=function(t,e,n,r){var i=dr(t,r);if(i){var o=pr(i),a=o.path,s=o.queryId,u=kt(a,e),c=nn.fromObject(n);return vr(t,a,new ze(Ve(s),u,c))}return[]}(t.serverSyncTree_,a,u,i)}else{var c=fe(n);s=function(t,e,n,r){var i=dr(t,r);if(null!=i){var o=pr(i),a=o.path,s=o.queryId,u=kt(a,e);return vr(t,a,new Ge(Ve(s),u,n))}return[]}(t.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.map)(n,(function(t){return fe(t)}));s=function(t,e,n){var r=nn.fromObject(n);return sr(t,new ze({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,a,l)}else{var f=fe(n);s=rr(t.serverSyncTree_,a,f)}var h=a;s.length>0&&(h=bi(t,a)),Zr(t.eventQueue_,h,s)}function si(t,e){ui(t,"connected",e),!1===e&&function(t){vi(t,"onDisconnectEvents");var e=oi(t),n=Me();Fe(t.onDisconnect_,yt(),(function(r,i){var o=Ir(r,i,t.serverSyncTree_,e);Le(n,r,o)}));var r=[];Fe(n,yt(),(function(e,n){r=r.concat(rr(t.serverSyncTree_,e,n));var i=Ti(t,e);bi(t,i)})),t.onDisconnect_=Me(),Zr(t.eventQueue_,yt(),r)}(t)}function ui(t,e,n){var r=new mt("/.info/"+e),i=fe(n);t.infoData_.updateSnapshot(r,i);var o=rr(t.infoSyncTree_,r,i);Zr(t.eventQueue_,r,o)}function ci(t){return t.nextWriteId_++}function li(t,e,n,r,i){vi(t,"set",{path:e.toString(),value:n,priority:r});var o=oi(t),a=fe(n,r),s=ar(t.serverSyncTree_,e),u=Er(a,s,o),c=ci(t),l=er(t.serverSyncTree_,e,u,c,!0);Jr(t.eventQueue_,l),t.server_.put(e.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||O("set at "+e+" failed: "+n);var a=nr(t.serverSyncTree_,c,!o);Zr(t.eventQueue_,e,a),gi(0,i,n,r)}));var f=Ti(t,e);bi(t,f),Zr(t.eventQueue_,f,[])}function fi(t,e,n){t.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&je(t.onDisconnect_,e),gi(0,n,r,i)}))}function hi(t,e,n,r){var i=fe(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(function(n,o){"ok"===n&&Le(t.onDisconnect_,e,i),gi(0,r,n,o)}))}function di(t,e,n){var r;r=".info"===bt(e._path)?ir(t.infoSyncTree_,e,n):ir(t.serverSyncTree_,e,n),$r(t.eventQueue_,e._path,r)}function pi(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ni)}function vi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),x.apply(void 0,f([r],l(e)))}function gi(t,e,n,r){e&&W((function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}}))}function mi(t,e,n){return ar(t.serverSyncTree_,e,n)||ce.EMPTY_NODE}function yi(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||Ei(t,e),kr(e)){var n=_i(t,e);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return 0===t.status}))&&function(t,e,n){for(var r=n.map((function(t){return t.currentWriteId})),i=mi(t,e,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=kt(e,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var f=a.val(!0),h=e;t.server_.put(h.toString(),f,(function(r){vi(t,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(e){n[e].status=2,i=i.concat(nr(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push((function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)})),n[e].unwatcher()},s=0;s<n.length;s++)a(s);for(Ei(t,Cr(t.transactionQueueTree_,e)),yi(t,t.transactionQueueTree_),Zr(t.eventQueue_,e,i),s=0;s<o.length;s++)W(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else for(O("transaction at "+h.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;bi(t,e)}}),s)}(t,Or(e),n)}else Ar(e)&&Nr(e,(function(e){yi(t,e)}))}function bi(t,e){var n=wi(t,e),r=Or(n);return function(t,e,n){if(0!==e.length){for(var r=[],i=[],a=e.filter((function(t){return 0===t.status})).map((function(t){return t.currentWriteId})),s=function(s){var u,c,l=e[s],f=kt(n,l.path),h=!1;if((0,o.assert)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)h=!0,u=l.abortReason,i=i.concat(nr(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)h=!0,u="maxretry",i=i.concat(nr(t.serverSyncTree_,l.currentWriteId,!0));else{var d=mi(t,l.path,a);l.currentInputSnapshot=d;var p=e[s].update(d.val());if(void 0!==p){Br("transaction failed: Data returned ",p,l.path);var v=fe(p);"object"==typeof p&&null!=p&&(0,o.contains)(p,".priority")||(v=v.updatePriority(d.getPriority()));var g=l.currentWriteId,m=oi(t),y=Er(v,d,m);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=y,l.currentWriteId=ci(t),a.splice(a.indexOf(g),1),i=(i=i.concat(er(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(nr(t.serverSyncTree_,g,!0))}else h=!0,u="nodata",i=i.concat(nr(t.serverSyncTree_,l.currentWriteId,!0))}Zr(t.eventQueue_,n,i),i=[],h&&(e[s].status=2,c=e[s].unwatcher,setTimeout(c,Math.floor(0)),e[s].onComplete&&("nodata"===u?r.push((function(){return e[s].onComplete(null,!1,e[s].currentInputSnapshot)})):r.push((function(){return e[s].onComplete(new Error(u),!1,null)}))))},u=0;u<e.length;u++)s(u);for(Ei(t,t.transactionQueueTree_),u=0;u<r.length;u++)W(r[u]);yi(t,t.transactionQueueTree_)}}(t,_i(t,n),r),r}function wi(t,e){var n,r=t.transactionQueueTree_;for(n=bt(e);null!==n&&void 0===kr(r);)r=Cr(r,n),n=bt(e=_t(e));return r}function _i(t,e){var n=[];return Ii(t,e,n),n.sort((function(t,e){return t.order-e.order})),n}function Ii(t,e,n){var r=kr(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Nr(e,(function(e){Ii(t,e,n)}))}function Ei(t,e){var n=kr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,xr(e,n.length>0?n:void 0)}Nr(e,(function(e){Ei(t,e)}))}function Ti(t,e){var n=Or(wi(t,e)),r=Cr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,(function(e){Si(t,e)})),Si(t,r),Pr(r,(function(e){Si(t,e)})),n}function Si(t,e){var n=kr(e);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(nr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?xr(e,void 0):n.length=a+1,Zr(t.eventQueue_,Or(e),i),s=0;s<r.length;s++)W(r[s])}}var Ci=function(t,e){var n=ki(t),r=n.namespace;"firebase.com"===n.domain&&P(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||P("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Z(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new mt(n.pathString)}},ki=function(t){var e="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(s=t.substring(0,l-1),t=t.substring(l+2));var f=t.indexOf("/");-1===f&&(f=t.length);var h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(f,h)),f<h&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(f,h)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=c(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var s=a.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):O("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,h)));(l=e.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},xi=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},t}(),Ai=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Ni=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),Pi=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new o.Deferred;return fi(this._repo,this._path,t.wrapCallback((function(){}))),t.promise},t.prototype.remove=function(){zr("OnDisconnect.remove",this._path);var t=new o.Deferred;return hi(this._repo,this._path,null,t.wrapCallback((function(){}))),t.promise},t.prototype.set=function(t){zr("OnDisconnect.set",this._path),qr("OnDisconnect.set",t,this._path,!1);var e=new o.Deferred;return hi(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t.prototype.setWithPriority=function(t,e){zr("OnDisconnect.setWithPriority",this._path),qr("OnDisconnect.setWithPriority",t,this._path,!1),Hr("OnDisconnect.setWithPriority",e,!1);var n=new o.Deferred;return function(t,e,n,r,i){var o=fe(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(function(n,r){"ok"===n&&Le(t.onDisconnect_,e,o),gi(0,i,n,r)}))}(this._repo,this._path,t,e,n.wrapCallback((function(){}))),n.promise},t.prototype.update=function(t){zr("OnDisconnect.update",this._path),Vr("OnDisconnect.update",t,this._path,!1);var e=new o.Deferred;return function(t,e,n,r){if((0,o.isEmpty)(n))return x("onDisconnect().update() called with empty data.  Don't do anything."),void gi(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(function(i,o){"ok"===i&&B(n,(function(n,r){var i=fe(r);Le(t.onDisconnect_,St(e,n),i)})),gi(0,r,i,o)}))}(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t}(),Oi=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return Ct(this._path)?null:It(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Li(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=Oe(this._queryParams),e=U(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return Oe(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=(0,o.getModularInstance)(e))instanceof t))return!1;var n=this._repo===e._repo,r=At(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function Di(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ri(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Vt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==R)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==M)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===re){if(null!=e&&!Ur(e)||null!=n&&!Ur(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(t.getIndex()instanceof pe||t.getIndex()===ve,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Mi(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Li=function(t){function e(e,n){return t.call(this,e,n,new ke,!1)||this}return s(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=Tt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(Oi),ji=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new mt(e),r=qi(this.ref,e);return new t(this._node.getChild(n),r,re)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return e(new t(i,qi(n.ref,r),re))}))},t.prototype.hasChild=function(t){var e=new mt(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Fi(t,e){return(t=(0,o.getModularInstance)(t))._checkNotDeleted("ref"),void 0!==e?qi(t._root,e):t._root}function Ui(t,e){(t=(0,o.getModularInstance)(t))._checkNotDeleted("refFromURL");var n=Ci(e,t._repo.repoInfo_.nodeAdmin);Yr("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||P("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Fi(t,n.path.toString())}function qi(t,e){var n;return null===bt((t=(0,o.getModularInstance)(t))._path)?("child","path",!1,(n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Gr("child","path",n,false)):Gr("child","path",e,!1),new Li(t._repo,St(t._path,e))}function Bi(t,e){t=(0,o.getModularInstance)(t),zr("push",t._path),qr("push",e,t._path,!0);var n,r=ii(t._repo),i=me(r),a=qi(t,i),s=qi(t,i);return n=null!=e?Hi(s,e).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Vi(t){return zr("remove",t._path),Hi(t,null)}function Hi(t,e){t=(0,o.getModularInstance)(t),zr("set",t._path),qr("set",e,t._path,!1);var n=new o.Deferred;return li(t._repo,t._path,e,null,n.wrapCallback((function(){}))),n.promise}function Ki(t,e){t=(0,o.getModularInstance)(t),zr("setPriority",t._path),Hr("setPriority",e,!1);var n=new o.Deferred;return li(t._repo,St(t._path,".priority"),e,null,n.wrapCallback((function(){}))),n.promise}function Wi(t,e,n){if(zr("setWithPriority",t._path),qr("setWithPriority",e,t._path,!1),Hr("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new o.Deferred;return li(t._repo,t._path,e,n,r.wrapCallback((function(){}))),r.promise}function Gi(t,e){Vr("update",e,t._path,!1);var n=new o.Deferred;return function(t,e,n,r){vi(t,"update",{path:e.toString(),value:n});var i=!0,a=oi(t),s={};if(B(n,(function(n,r){i=!1,s[n]=Ir(St(e,n),fe(r),t.serverSyncTree_,a)})),i)x("update() called with empty data.  Don't do anything."),gi(0,r,"ok",void 0);else{var u=ci(t),c=function(t,e,n,r){!function(t,e,n,r){(0,o.assert)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=an(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=nn.fromObject(n);return sr(t,new ze({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,s,u);Jr(t.eventQueue_,c),t.server_.merge(e.toString(),n,(function(n,i){var o="ok"===n;o||O("update at "+e+" failed: "+n);var a=nr(t.serverSyncTree_,u,!o),s=a.length>0?bi(t,e):e;Zr(t.eventQueue_,s,a),gi(0,r,n,i)})),B(n,(function(n){var r=Ti(t,St(e,n));bi(t,r)})),Zr(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback((function(){}))),n.promise}function zi(t){return function(t,e){var n=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(function(t,e){var i=kt(t,n);r=r||Yn(e,i)}));var i=t.syncPointTree_.get(n);i?r=r||Yn(i,yt()):(i=new Kn,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,a=o?new Ye(r,!0,!1):null;return tn(Gn(i,e,vn(t.pendingWriteTree_,e._path),o?a.getNode():ce.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then((function(n){var r=fe(n),i=rr(t.serverSyncTree_,e._path,r);return $r(t.eventQueue_,e._path,i),Promise.resolve(r)}),(function(n){return vi(t,"get for query "+(0,o.stringify)(e)+" failed: "+n),Promise.reject(new Error(n))}))}((t=(0,o.getModularInstance)(t))._repo,t).then((function(e){return new ji(e,new Li(t._repo,t._path),t._queryParams.getIndex())}))}var Yi=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new xi("value",this,new ji(t.snapshotNode,new Li(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Ai(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Qi=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Ai(this,t,e):null},t.prototype.createEvent=function(t,e){(0,o.assert)(null!=t.childName,"Child events should have a childName.");var n=qi(new Li(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new xi(t.type,this,new ji(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Xi(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(e,n){di(t._repo,t,c),a(e,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Ni(n,o||void 0),c="value"===e?new Yi(u):new Qi(e,u);return function(t,e,n){var r;r=".info"===bt(e._path)?or(t.infoSyncTree_,e,n):or(t.serverSyncTree_,e,n),$r(t.eventQueue_,e._path,r)}(t._repo,t,c),function(){return di(t._repo,t,c)}}function Ji(t,e,n,r){return Xi(t,"value",e,n,r)}function $i(t,e,n,r){return Xi(t,"child_added",e,n,r)}function Zi(t,e,n,r){return Xi(t,"child_changed",e,n,r)}function to(t,e,n,r){return Xi(t,"child_moved",e,n,r)}function eo(t,e,n,r){return Xi(t,"child_removed",e,n,r)}function no(t,e,n){var r=null,i=n?new Ni(n):null;"value"===e?r=new Yi(i):e&&(r=new Qi(e,i)),di(t._repo,t,r)}var ro=function(){},io=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return s(e,t),e.prototype._apply=function(t){qr("endAt",this._value,t._path,!0);var e=Ae(t._queryParams,this._value,this._key);if(Mi(e),Ri(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Oi(t._repo,t._path,e,t._orderByCalled)},e}(ro);function oo(t,e){return Wr("endAt","key",e,!0),new io(t,e)}var ao=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return s(e,t),e.prototype._apply=function(t){qr("endBefore",this._value,t._path,!1);var e,n,r,i,o=(e=t._queryParams,n=this._value,r=this._key,e.index_===Vt?("string"==typeof n&&(n=be(n)),i=Ae(e,n,r)):i=Ae(e,n,null==r?R:be(r)),i.endBeforeSet_=!0,i);if(Mi(o),Ri(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Oi(t._repo,t._path,o,t._orderByCalled)},e}(ro);function so(t,e){return Wr("endBefore","key",e,!0),new ao(t,e)}var uo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return s(e,t),e.prototype._apply=function(t){qr("startAt",this._value,t._path,!0);var e=xe(t._queryParams,this._value,this._key);if(Mi(e),Ri(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Oi(t._repo,t._path,e,t._orderByCalled)},e}(ro);function co(t,e){return void 0===t&&(t=null),Wr("startAt","key",e,!0),new uo(t,e)}var lo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return s(e,t),e.prototype._apply=function(t){qr("startAfter",this._value,t._path,!1);var e,n,r,i,o=(e=t._queryParams,n=this._value,r=this._key,e.index_===Vt?("string"==typeof n&&(n=ye(n)),i=xe(e,n,r)):i=xe(e,n,null==r?M:ye(r)),i.startAfterSet_=!0,i);if(Mi(o),Ri(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Oi(t._repo,t._path,o,t._orderByCalled)},e}(ro);function fo(t,e){return Wr("startAfter","key",e,!0),new lo(t,e)}var ho=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return s(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Oi(t._repo,t._path,(e=t._queryParams,n=this._limit,(r=e.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),t._orderByCalled);var e,n,r},e}(ro);function po(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ho(t)}var vo=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return s(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Oi(t._repo,t._path,(e=t._queryParams,n=this._limit,(r=e.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),t._orderByCalled);var e,n,r},e}(ro);function go(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new vo(t)}var mo=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return s(e,t),e.prototype._apply=function(t){Di(t,"orderByChild");var e=new mt(this._path);if(Ct(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new pe(e),r=Ne(t._queryParams,n);return Ri(r),new Oi(t._repo,t._path,r,!0)},e}(ro);function yo(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Gr("orderByChild","path",t,!1),new mo(t)}var bo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype._apply=function(t){Di(t,"orderByKey");var e=Ne(t._queryParams,Vt);return Ri(e),new Oi(t._repo,t._path,e,!0)},e}(ro);function wo(){return new bo}var _o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype._apply=function(t){Di(t,"orderByPriority");var e=Ne(t._queryParams,re);return Ri(e),new Oi(t._repo,t._path,e,!0)},e}(ro);function Io(){return new _o}var Eo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype._apply=function(t){Di(t,"orderByValue");var e=Ne(t._queryParams,ve);return Ri(e),new Oi(t._repo,t._path,e,!0)},e}(ro);function To(){return new Eo}var So=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return s(e,t),e.prototype._apply=function(t){if(qr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new io(this._value,this._key)._apply(new uo(this._value,this._key)._apply(t))},e}(ro);function Co(t,e){return Wr("equalTo","key",e,!0),new So(t,e)}function ko(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=(0,o.getModularInstance)(t);try{for(var s=c(r),u=s.next();!u.done;u=s.next()){var l=u.value;a=l._apply(a)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a}!function(t){(0,o.assert)(!Ln,"__referenceConstructor has already been defined"),Ln=t}(Li),function(t){(0,o.assert)(!Hn,"__referenceConstructor has already been defined"),Hn=t}(Li);var xo={},Ao=!1;function No(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||P("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),x("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Ci(o,i),u=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=Ci(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new Q(Q.OWNER):new Y(t.name,t.options,e);Yr("Invalid Firebase Database URL",s),Ct(s.path)||P("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(t,e,n,r){var i=xo[e.name];i||(i={},xo[e.name]=i);var o=i[t.toURLString()];return o&&P("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new ri(t,Ao,n,r),i[t.toURLString()]=o,o}(u,t,l,new z(t.name,n));return new Po(f,t)}var Po=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=it(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new De(t.repoInfo_,(function(e,n,r,i){ai(t,e,n,r,i)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((function(){return si(t,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}t.persistentConnection_=new Ft(t.repoInfo_,e,(function(e,n,r,i){ai(t,e,n,r,i)}),(function(e){si(t,e)}),(function(e){!function(t,e){B(e,(function(e,n){ui(t,e,n)}))}(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,i;t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((function(e){t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=(r=function(){return new Be(t.stats_,t.server_)},i=t.repoInfo_.toString(),rt[i]||(rt[i]=r()),rt[i]),t.infoData_=new Re,t.infoSyncTree_=new tr({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e._path);return a.isEmpty()||(o=rr(t.infoSyncTree_,e._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),ui(t,"connected",!1),t.serverSyncTree_=new tr({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);Zr(t.eventQueue_,e._path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Li(this._repo,yt())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return this._checkNotDeleted("delete"),t=this._repo,e=this.app.name,(n=xo[e])&&n[t.key]===t||P("Database "+e+"("+t.repoInfo_+") has already been deleted."),pi(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&P("Cannot call "+t+" on a deleted database.")},t}();function Oo(t){(t=(0,o.getModularInstance)(t))._checkNotDeleted("goOffline"),pi(t._repo)}function Do(t){var e;(t=(0,o.getModularInstance)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(ni)}var Ro={".sv":"timestamp"},Mo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Lo(t,e,n){var r;if(t=(0,o.getModularInstance)(t),zr("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=Ji(t,(function(){}));return function(e,n,r,i,s,u){vi(e,"transaction on "+n);var c={path:n,update:r,onComplete:function(e,n,r){var i=null;e?a.reject(e):(i=new ji(r,new Li(t._repo,t._path),re),a.resolve(new Mo(n,i)))},status:null,order:I(),applyLocally:u,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=mi(e,n,void 0);c.currentInputSnapshot=l;var f=c.update(l.val());if(void 0===f)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Br("transaction failed: Data returned ",f,c.path),c.status=0;var h=Cr(e.transactionQueueTree_,n),d=kr(h)||[];d.push(c),xr(h,d);var p=void 0;"object"==typeof f&&null!==f&&(0,o.contains)(f,".priority")?(p=(0,o.safeGet)(f,".priority"),(0,o.assert)(Ur(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(ar(e.serverSyncTree_,n)||ce.EMPTY_NODE).getPriority().val();var v=oi(e),g=fe(f,p),m=Er(g,l,v);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=m,c.currentWriteId=ci(e);var y=er(e.serverSyncTree_,n,m,c.currentWriteId,c.applyLocally);Zr(e.eventQueue_,n,y),yi(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,s,i),a.promise}var jo=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.remove=function(t){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.set=function(t,e){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},t.prototype.setWithPriority=function(t,e,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},t.prototype.update=function(t,e){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then((function(){return e(null)}),(function(t){return e(t)})),i},t}(),Fo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Uo=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),Gr("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Gr("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(r){return e(new t(n._database,r))}))},t.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Bo(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),qo=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var a,s=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),c=function(t,e){n.call(u.context,new Uo(s.database,t),e)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(e){case"value":return Ji(this._delegate,c,l),n;case"child_added":return $i(this._delegate,c,l),n;case"child_removed":return eo(this._delegate,c,l),n;case"child_changed":return Zi(this._delegate,c,l),n;case"child_moved":return to(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),Kr("Query.off",t,!0),(0,o.validateCallback)("Query.off","callback",e,!0),(0,o.validateContextObject)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,no(this._delegate,t,r)}else no(this._delegate,t)},t.prototype.get=function(){var t=this;return zi(this._delegate).then((function(e){return new Uo(t.database,e)}))},t.prototype.once=function(e,n,r,i){var a=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(t,e){var r=new Uo(a.database,t);n&&n.call(s.context,r,e),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(t){s.cancel&&s.cancel.call(s.context,t),u.reject(t)};switch(e){case"value":Ji(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":$i(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":eo(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":Zi(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":to(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new t(this.database,ko(this._delegate,po(e)))},t.prototype.limitToLast=function(e){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new t(this.database,ko(this._delegate,go(e)))},t.prototype.orderByChild=function(e){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new t(this.database,ko(this._delegate,yo(e)))},t.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new t(this.database,ko(this._delegate,wo()))},t.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new t(this.database,ko(this._delegate,Io()))},t.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new t(this.database,ko(this._delegate,To()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new t(this.database,ko(this._delegate,co(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new t(this.database,ko(this._delegate,fo(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new t(this.database,ko(this._delegate,oo(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new t(this.database,ko(this._delegate,so(e,n)))},t.prototype.equalTo=function(e,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new t(this.database,ko(this._delegate,Co(e,n)))},t.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,(0,o.validateCallback)(t,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,o.errorPrefix)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new Bo(this.database,new Li(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Bo=function(t){function e(e,n){var r=t.call(this,e,new Oi(n._repo,n._path,new ke,!1))||this;return r.database=e,r._delegate=n,r}return s(e,t),e.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,qi(this._delegate,t))},e.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",e,!0);var n=Hi(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.update=function(t,e){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}zr("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",e,!0);var i=Gi(this._delegate,t);return e&&i.then((function(){return e(null)}),(function(t){return e(t)})),i},e.prototype.setWithPriority=function(t,e,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Wi(this._delegate,t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},e.prototype.remove=function(t){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",t,!0);var e=Vi(this._delegate);return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},e.prototype.transaction=function(t,e,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",t,!1),(0,o.validateCallback)("Reference.transaction","onComplete",e,!0),Qr("Reference.transaction","applyLocally",n,!0);var i=Lo(this._delegate,t,{applyLocally:n}).then((function(t){return new Fo(t.committed,new Uo(r.database,t.snapshot))}));return e&&i.then((function(t){return e(null,t.committed,t.snapshot)}),(function(t){return e(t,!1,null)})),i},e.prototype.setPriority=function(t,e){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",e,!0);var n=Ki(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.push=function(t,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=Bi(this._delegate,t),a=i.then((function(t){return new e(r.database,t)}));n&&a.then((function(){return n(null)}),(function(t){return n(t)}));var s=new e(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},e.prototype.onDisconnect=function(){return zr("Reference.onDisconnect",this._delegate._path),new jo(new Pi(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(qo),Vo=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),(t=(0,o.getModularInstance)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&P("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&P('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Q(Q.OWNER);else if(r.mockUserToken){var s=(0,o.createMockUserToken)(r.mockUserToken,t.app.options.projectId);a=new Q(s)}!function(t,e,n,r){t.repoInfo_=new Z(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,e,n,a)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),t instanceof Bo){var e=Ui(this._delegate,t.toString());return new Bo(this,e)}return e=Fi(this._delegate,t),new Bo(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";(0,o.validateArgCount)(e,1,1,arguments.length);var n=Ui(this._delegate,t);return new Bo(this,n)},t.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),Oo(this._delegate)},t.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),Do(this._delegate)},t.ServerValue={TIMESTAMP:Ro,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),Ho=Object.freeze({__proto__:null,forceLongPolling:function(){ft.forceDisallow(),ut.forceAllow()},forceWebSockets:function(){ut.forceDisallow()},isWebSocketsAvailable:function(){return ft.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new qe(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);B(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){var n;t.stats_.incrementCounter(e),n=e,t.statsReporter_.statsToReport_[n]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,o=t.customAuthImpl,a=t.namespace,s=t.nodeAdmin,u=void 0!==s&&s;p(r);var c=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return c.setComponent(new i.Component("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Vo(No(e,c,void 0,n,u),e),namespace:a}}}),Ko=Ft;Ft.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ft.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Wo=dt,Go=Z,zo=Object.freeze({__proto__:null,DataConnection:Ko,RealTimeConnection:Wo,hijackHash:function(t){var e=Ft.prototype.put;return Ft.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Ft.prototype.put=e}},ConnectionTarget:Go,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){Ao=t}(t)}}),Yo=Vo.ServerValue;!function(e){p(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.Component("database",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Vo(No(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Bo,Query:qo,Database:Vo,DataSnapshot:Uo,enableLogging:k,INTERNAL:Ho,ServerValue:Yo,TEST_ACCESS:zo}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.10.1"),(0,o.isNodeSdk)()&&(t.exports=n)}(r.default)},MxOq:function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(e),n.d(e,{LogLevel:function(){return o},Logger:function(){return f},setLogLevel:function(){return h},setUserLogHandler:function(){return d}});var o,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},f=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function h(t){a.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++)n(i[r])}},FXmT:function(t,e,n){"use strict";n.r(e),n.d(e,{CONSTANTS:function(){return o},Deferred:function(){return p},ErrorFactory:function(){return O},FirebaseError:function(){return P},MAX_VALUE_MILLIS:function(){return st},RANDOM_FACTOR:function(){return ut},Sha1:function(){return Q},areCookiesEnabled:function(){return A},assert:function(){return a},assertionError:function(){return s},async:function(){return $},base64:function(){return c},base64Decode:function(){return f},base64Encode:function(){return l},calculateBackoffMillis:function(){return ct},contains:function(){return V},createMockUserToken:function(){return v},createSubscribe:function(){return X},decode:function(){return j},deepCopy:function(){return h},deepExtend:function(){return d},errorPrefix:function(){return et},extractQuerystring:function(){return Y},getGlobal:function(){return N},getModularInstance:function(){return ft},getUA:function(){return g},isAdmin:function(){return B},isBrowser:function(){return b},isBrowserExtension:function(){return w},isElectron:function(){return I},isEmpty:function(){return K},isIE:function(){return E},isIndexedDBAvailable:function(){return k},isMobileCordova:function(){return m},isNode:function(){return y},isNodeSdk:function(){return S},isReactNative:function(){return _},isSafari:function(){return C},isUWP:function(){return T},isValidFormat:function(){return q},isValidTimestamp:function(){return F},issuedAtTime:function(){return U},jsonEval:function(){return M},map:function(){return W},ordinal:function(){return lt},querystring:function(){return G},querystringDecode:function(){return z},safeGet:function(){return H},stringLength:function(){return at},stringToByteArray:function(){return ot},stringify:function(){return L},validateArgCount:function(){return tt},validateCallback:function(){return rt},validateContextObject:function(){return it},validateIndexedDBOpenable:function(){return x},validateNamespace:function(){return nt}});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.create,Object.create;var o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},a=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},u=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(u(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){var e=u(t);return c.encodeByteArray(e,!0)},f=function(t){try{return c.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function h(t){return d(void 0,t)}function d(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=d(t[n],e[n]));return t}var p=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function v(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=i({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[c.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),c.encodeString(JSON.stringify(a),!1),""].join(".")}function g(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function y(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function b(){return"object"==typeof self&&self.self===self}function w(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function _(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function I(){return g().indexOf("Electron/")>=0}function E(){var t=g();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function T(){return g().indexOf("MSAppHost/")>=0}function S(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function C(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k(){return"indexedDB"in self&&null!=indexedDB}function x(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function A(){return!(!navigator||!navigator.cookieEnabled)}function N(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}var P=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,O.prototype.create),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),O=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?D(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new P(i,s,r);return u},t}();function D(t,e){return t.replace(R,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var R=/\{\$([^}]+)}/g;function M(t){return JSON.parse(t)}function L(t){return JSON.stringify(t)}var j=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=M(f(o[0])||""),n=M(f(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}},F=function(t){var e=j(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},U=function(t){var e=j(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},q=function(t){var e=j(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},B=function(t){var e=j(t).claims;return"object"==typeof e&&!0===e.admin};function V(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function H(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function K(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function W(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function G(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}function z(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("="),r=n[0],i=n[1];e[decodeURIComponent(r)]=decodeURIComponent(i)}})),e}function Y(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var Q=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782),i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295,f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function X(t,e){var n=new J(t,e);return n.subscribe.bind(n)}var J=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=Z),void 0===r.error&&(r.error=Z),void 0===r.complete&&(r.complete=Z);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function $(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}}function Z(){}var tt=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function et(t,e){return t+" failed: "+e+" argument "}function nt(t,e,n){if((!n||e)&&"string"!=typeof e)throw new Error(et(t,"namespace")+"must be a valid firebase namespace.")}function rt(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(et(t,e)+"must be a valid function.")}function it(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(et(t,e)+"must be a valid context object.")}var ot=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,a(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},at=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},st=144e5,ut=.5;function ct(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(ut*r*(Math.random()-.5)*2);return Math.min(st,r+i)}function lt(t){return Number.isFinite(t)?t+function(t){var e=(t=Math.abs(t))%100;if(e>=10&&e<=20)return"th";var n=t%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}(t):""+t}function ft(t){return t&&t._delegate?t._delegate:t}},jmUq:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"7P5K":function(t,e,n){var r=n("fT8P");t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},d5e9:function(t,e,n){var r=n("GHf2"),i=n("w/Ji"),o=n("nRc6"),a=r("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},iBt0:function(t){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},gDYM:function(t,e,n){var r=n("fT8P");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},"3PYW":function(t,e,n){"use strict";var r=n("5q7I").forEach,i=n("fK/z")("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},P3h4:function(t,e,n){"use strict";var r=n("a72Q"),i=n("9pAD"),o=n("7YMQ"),a=n("6+ef"),s=n("zrDt"),u=n("ztTQ"),c=n("QYi2");t.exports=function(t){var e,n,l,f,h,d,p=i(t),v="function"==typeof this?this:Array,g=arguments.length,m=g>1?arguments[1]:void 0,y=void 0!==m,b=c(p),w=0;if(y&&(m=r(m,g>2?arguments[2]:void 0,2)),null==b||v==Array&&a(b))for(n=new v(e=s(p.length));e>w;w++)d=y?m(p[w],w):p[w],u(n,w,d);else for(h=(f=b.call(p)).next,n=new v;!(l=h.call(f)).done;w++)d=y?o(f,m,[l.value,w],!0):l.value,u(n,w,d);return n.length=w,n}},kMPr:function(t,e,n){var r=n("M/tt"),i=n("zrDt"),o=n("glsI"),a=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},"5q7I":function(t,e,n){var r=n("a72Q"),i=n("DJGK"),o=n("9pAD"),a=n("zrDt"),s=n("iSxr"),u=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,l=4==t,f=6==t,h=7==t,d=5==t||f;return function(p,v,g,m){for(var y,b,w=o(p),_=i(w),I=r(v,g,3),E=a(_.length),T=0,S=m||s,C=e?S(p,E):n||h?S(p,0):void 0;E>T;T++)if((d||T in _)&&(b=I(y=_[T],T,w),t))if(e)C[T]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return T;case 2:u.call(C,y)}else switch(t){case 4:return!1;case 7:u.call(C,y)}return f?-1:c||l?l:C}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},WCig:function(t,e,n){var r=n("+iL7"),i=n("GHf2"),o=n("G5hJ"),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"fK/z":function(t,e,n){"use strict";var r=n("+iL7");t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},iSxr:function(t,e,n){var r=n("fT8P"),i=n("h/Mk"),o=n("GHf2")("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"7YMQ":function(t,e,n){var r=n("gDYM"),i=n("wnjq");t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){throw i(t),e}}},Ncbx:function(t,e,n){var r=n("GHf2")("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},fSIz:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},fshm:function(t,e,n){var r=n("k2M3"),i=n("fSIz"),o=n("GHf2")("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:a?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},v0JE:function(t,e,n){var r=n("tF07"),i=n("LMdw"),o=n("Fup7"),a=n("nRc6");t.exports=function(t,e){for(var n=i(e),s=a.f,u=o.f,c=0;c<n.length;c++){var l=n[c];r(t,l)||s(t,l,u(e,l))}}},XleP:function(t,e,n){var r=n("+iL7");t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},fM6A:function(t,e,n){"use strict";var r=n("kXs/").IteratorPrototype,i=n("w/Ji"),o=n("VSW8"),a=n("1tiZ"),s=n("q/gS"),u=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,c,!1,!0),s[c]=u,t}},nHIk:function(t,e,n){var r=n("Hvpk"),i=n("nRc6"),o=n("VSW8");t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},VSW8:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},ztTQ:function(t,e,n){"use strict";var r=n("W9fh"),i=n("nRc6"),o=n("VSW8");t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},vtID:function(t,e,n){"use strict";var r=n("JRM0"),i=n("fM6A"),o=n("XOJ6"),a=n("hQLn"),s=n("1tiZ"),u=n("nHIk"),c=n("0K2p"),l=n("GHf2"),f=n("PCqT"),h=n("q/gS"),d=n("kXs/"),p=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,g=l("iterator"),m="keys",y="values",b="entries",w=function(){return this};t.exports=function(t,e,n,l,d,_,I){i(n,e,l);var E,T,S,C=function(t){if(t===d&&P)return P;if(!v&&t in A)return A[t];switch(t){case m:case y:case b:return function(){return new n(this,t)}}return function(){return new n(this)}},k=e+" Iterator",x=!1,A=t.prototype,N=A[g]||A["@@iterator"]||d&&A[d],P=!v&&N||C(d),O="Array"==e&&A.entries||N;if(O&&(E=o(O.call(new t)),p!==Object.prototype&&E.next&&(f||o(E)===p||(a?a(E,p):"function"!=typeof E[g]&&u(E,g,w)),s(E,k,!0,!0),f&&(h[k]=w))),d==y&&N&&N.name!==y&&(x=!0,P=function(){return N.call(this)}),f&&!I||A[g]===P||u(A,g,P),h[e]=P,d)if(T={values:C(y),keys:_?P:C(m),entries:C(b)},I)for(S in T)(v||x||!(S in A))&&c(A,S,T[S]);else r({target:e,proto:!0,forced:v||x},T);return T}},Hvpk:function(t,e,n){var r=n("+iL7");t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},HRgQ:function(t,e,n){var r=n("nEaP"),i=n("fT8P"),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},tPpl:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},VuJW:function(t){t.exports="object"==typeof window},s06e:function(t,e,n){var r=n("rxbk");t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(r)},YxGO:function(t,e,n){var r=n("fSIz"),i=n("nEaP");t.exports="process"==r(i.process)},YZdy:function(t,e,n){var r=n("rxbk");t.exports=/web0s(?!.*chrome)/i.test(r)},rxbk:function(t,e,n){var r=n("UVdV");t.exports=r("navigator","userAgent")||""},G5hJ:function(t,e,n){var r,i,o=n("nEaP"),a=n("rxbk"),s=o.process,u=s&&s.versions,c=u&&u.v8;c?i=(r=c.split("."))[0]<4?1:r[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},"ek/P":function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},JRM0:function(t,e,n){var r=n("nEaP"),i=n("Fup7").f,o=n("nHIk"),a=n("0K2p"),s=n("Ya6V"),u=n("v0JE"),c=n("9nX2");t.exports=function(t,e){var n,l,f,h,d,p=t.target,v=t.global,g=t.stat;if(n=v?r:g?r[p]||s(p,{}):(r[p]||{}).prototype)for(l in e){if(h=e[l],f=t.noTargetGet?(d=i(n,l))&&d.value:n[l],!c(v?l:p+(g?".":"#")+l,t.forced)&&void 0!==f){if(typeof h==typeof f)continue;u(h,f)}(t.sham||f&&f.sham)&&o(h,"sham",!0),a(n,l,h,t)}}},"+iL7":function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},a72Q:function(t,e,n){var r=n("jmUq");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},UVdV:function(t,e,n){var r=n("lUv3"),i=n("nEaP"),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},QYi2:function(t,e,n){var r=n("fshm"),i=n("q/gS"),o=n("GHf2")("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},nEaP:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},tF07:function(t,e,n){var r=n("9pAD"),i={}.hasOwnProperty;t.exports=function(t,e){return i.call(r(t),e)}},s3NK:function(t){t.exports={}},OTtX:function(t,e,n){var r=n("nEaP");t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},R1TW:function(t,e,n){var r=n("UVdV");t.exports=r("document","documentElement")},xwiM:function(t,e,n){var r=n("Hvpk"),i=n("+iL7"),o=n("HRgQ");t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},DJGK:function(t,e,n){var r=n("+iL7"),i=n("fSIz"),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},"/dUa":function(t,e,n){var r=n("MoOl"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},SkE4:function(t,e,n){var r,i,o,a=n("P2u4"),s=n("nEaP"),u=n("fT8P"),c=n("nHIk"),l=n("tF07"),f=n("MoOl"),h=n("3pC9"),d=n("s3NK"),p="Object already initialized",v=s.WeakMap;if(a||f.state){var g=f.state||(f.state=new v),m=g.get,y=g.has,b=g.set;r=function(t,e){if(y.call(g,t))throw new TypeError(p);return e.facade=t,b.call(g,t,e),e},i=function(t){return m.call(g,t)||{}},o=function(t){return y.call(g,t)}}else{var w=h("state");d[w]=!0,r=function(t,e){if(l(t,w))throw new TypeError(p);return e.facade=t,c(t,w,e),e},i=function(t){return l(t,w)?t[w]:{}},o=function(t){return l(t,w)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},"6+ef":function(t,e,n){var r=n("GHf2"),i=n("q/gS"),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},"h/Mk":function(t,e,n){var r=n("fSIz");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"9nX2":function(t,e,n){var r=n("+iL7"),i=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},fT8P:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},PCqT:function(t){t.exports=!1},maYj:function(t,e,n){var r=n("gDYM"),i=n("6+ef"),o=n("zrDt"),a=n("a72Q"),s=n("QYi2"),u=n("wnjq"),c=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var l,f,h,d,p,v,g,m=n&&n.that,y=!(!n||!n.AS_ENTRIES),b=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),_=a(e,m,1+y+w),I=function(t){return l&&u(l),new c(!0,t)},E=function(t){return y?(r(t),w?_(t[0],t[1],I):_(t[0],t[1])):w?_(t,I):_(t)};if(b)l=t;else{if("function"!=typeof(f=s(t)))throw TypeError("Target is not iterable");if(i(f)){for(h=0,d=o(t.length);d>h;h++)if((p=E(t[h]))&&p instanceof c)return p;return new c(!1)}l=f.call(t)}for(v=l.next;!(g=v.call(l)).done;){try{p=E(g.value)}catch(t){throw u(l),t}if("object"==typeof p&&p&&p instanceof c)return p}return new c(!1)}},wnjq:function(t,e,n){var r=n("gDYM");t.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},"kXs/":function(t,e,n){"use strict";var r,i,o,a=n("+iL7"),s=n("XOJ6"),u=n("nHIk"),c=n("tF07"),l=n("GHf2"),f=n("PCqT"),h=l("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(r=i):d=!0);var p=null==r||a((function(){var t={};return r[h].call(t)!==t}));p&&(r={}),f&&!p||c(r,h)||u(r,h,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},"q/gS":function(t){t.exports={}},m1e9:function(t,e,n){var r,i,o,a,s,u,c,l,f=n("nEaP"),h=n("Fup7").f,d=n("4ssk").set,p=n("s06e"),v=n("YZdy"),g=n("YxGO"),m=f.MutationObserver||f.WebKitMutationObserver,y=f.document,b=f.process,w=f.Promise,_=h(f,"queueMicrotask"),I=_&&_.value;I||(r=function(){var t,e;for(g&&(t=b.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},p||g||v||!m||!y?w&&w.resolve?((c=w.resolve(void 0)).constructor=w,l=c.then,a=function(){l.call(c,r)}):a=g?function(){b.nextTick(r)}:function(){d.call(f,r)}:(s=!0,u=y.createTextNode(""),new m(r).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),t.exports=I||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},hXTI:function(t,e,n){var r=n("nEaP");t.exports=r.Promise},clxC:function(t,e,n){var r=n("G5hJ"),i=n("+iL7");t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())||!Symbol.sham&&r&&r<41}))},P2u4:function(t,e,n){var r=n("nEaP"),i=n("/dUa"),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},N1hr:function(t,e,n){"use strict";var r=n("jmUq"),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},"w/Ji":function(t,e,n){var r,i=n("gDYM"),o=n("11ZY"),a=n("ek/P"),s=n("s3NK"),u=n("R1TW"),c=n("HRgQ"),l=n("3pC9")("IE_PROTO"),f=function(){},h=function(t){return"<script>"+t+"<\/script>"},d=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;d=r?function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete d.prototype[a[n]];return d()};s[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=i(t),n=new f,f.prototype=null,n[l]=t):n=d(),void 0===e?n:o(n,e)}},"11ZY":function(t,e,n){var r=n("Hvpk"),i=n("nRc6"),o=n("gDYM"),a=n("ujzH");t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),s=r.length,u=0;s>u;)i.f(t,n=r[u++],e[n]);return t}},nRc6:function(t,e,n){var r=n("Hvpk"),i=n("xwiM"),o=n("gDYM"),a=n("W9fh"),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Fup7:function(t,e,n){var r=n("Hvpk"),i=n("41Zj"),o=n("VSW8"),a=n("M/tt"),s=n("W9fh"),u=n("tF07"),c=n("xwiM"),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=s(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},OVha:function(t,e,n){var r=n("8OJN"),i=n("ek/P").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},rk7W:function(t,e){e.f=Object.getOwnPropertySymbols},XOJ6:function(t,e,n){var r=n("tF07"),i=n("9pAD"),o=n("3pC9"),a=n("XleP"),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},"8OJN":function(t,e,n){var r=n("tF07"),i=n("M/tt"),o=n("kMPr").indexOf,a=n("s3NK");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},ujzH:function(t,e,n){var r=n("8OJN"),i=n("ek/P");t.exports=Object.keys||function(t){return r(t,i)}},"41Zj":function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},hQLn:function(t,e,n){var r=n("gDYM"),i=n("7P5K");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},UpYF:function(t,e,n){"use strict";var r=n("k2M3"),i=n("fshm");t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},LMdw:function(t,e,n){var r=n("UVdV"),i=n("OVha"),o=n("rk7W"),a=n("gDYM");t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},lUv3:function(t,e,n){var r=n("nEaP");t.exports=r},gmtn:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},W2UA:function(t,e,n){var r=n("gDYM"),i=n("fT8P"),o=n("N1hr");t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},xxLW:function(t,e,n){var r=n("0K2p");t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},"0K2p":function(t,e,n){var r=n("nEaP"),i=n("nHIk"),o=n("tF07"),a=n("Ya6V"),s=n("/dUa"),u=n("SkE4"),c=u.get,l=u.enforce,f=String(String).split("String");(t.exports=function(t,e,n,s){var u,c=!!s&&!!s.unsafe,h=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),(u=l(n)).source||(u.source=f.join("string"==typeof e?e:""))),t!==r?(c?!d&&t[e]&&(h=!0):delete t[e],h?t[e]=n:i(t,e,n)):h?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},Qean:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},Ya6V:function(t,e,n){var r=n("nEaP"),i=n("nHIk");t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},V2sW:function(t,e,n){"use strict";var r=n("UVdV"),i=n("nRc6"),o=n("GHf2"),a=n("Hvpk"),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},"1tiZ":function(t,e,n){var r=n("nRc6").f,i=n("tF07"),o=n("GHf2")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},"3pC9":function(t,e,n){var r=n("gIo2"),i=n("nrda"),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},MoOl:function(t,e,n){var r=n("nEaP"),i=n("Ya6V"),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},gIo2:function(t,e,n){var r=n("PCqT"),i=n("MoOl");(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.12.1",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},"6ka5":function(t,e,n){var r=n("gDYM"),i=n("jmUq"),o=n("GHf2")("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},"z+V7":function(t,e,n){var r=n("wTAb"),i=n("Qean"),o=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},UkaN:function(t,e,n){var r=n("+iL7"),i=n("VcRG");t.exports=function(t){return r((function(){return!!i[t]()||""!=""[t]()||i[t].name!==t}))}},H0Ge:function(t,e,n){var r=n("Qean"),i="["+n("VcRG")+"]",o=RegExp("^"+i+i+"*"),a=RegExp(i+i+"*$"),s=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},"4ssk":function(t,e,n){var r,i,o,a=n("nEaP"),s=n("+iL7"),u=n("a72Q"),c=n("R1TW"),l=n("HRgQ"),f=n("s06e"),h=n("YxGO"),d=a.location,p=a.setImmediate,v=a.clearImmediate,g=a.process,m=a.MessageChannel,y=a.Dispatch,b=0,w={},_=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},I=function(t){return function(){_(t)}},E=function(t){_(t.data)},T=function(t){a.postMessage(t+"",d.protocol+"//"+d.host)};p&&v||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(b),b},v=function(t){delete w[t]},h?r=function(t){g.nextTick(I(t))}:y&&y.now?r=function(t){y.now(I(t))}:m&&!f?(o=(i=new m).port2,i.port1.onmessage=E,r=u(o.postMessage,o,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&d&&"file:"!==d.protocol&&!s(T)?(r=T,a.addEventListener("message",E,!1)):r="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),_(t)}}:function(t){setTimeout(I(t),0)}),t.exports={set:p,clear:v}},glsI:function(t,e,n){var r=n("wTAb"),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},"M/tt":function(t,e,n){var r=n("DJGK"),i=n("Qean");t.exports=function(t){return r(i(t))}},wTAb:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},zrDt:function(t,e,n){var r=n("wTAb"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"9pAD":function(t,e,n){var r=n("Qean");t.exports=function(t){return Object(r(t))}},W9fh:function(t,e,n){var r=n("fT8P");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},k2M3:function(t,e,n){var r={};r[n("GHf2")("toStringTag")]="z",t.exports="[object z]"===String(r)},nrda:function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},"B/3V":function(t,e,n){var r=n("clxC");t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},GHf2:function(t,e,n){var r=n("nEaP"),i=n("gIo2"),o=n("tF07"),a=n("nrda"),s=n("clxC"),u=n("B/3V"),c=i("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||a;t.exports=function(t){return o(c,t)&&(s||"string"==typeof c[t])||(s&&o(l,t)?c[t]=l[t]:c[t]=f("Symbol."+t)),c[t]}},VcRG:function(t){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},hi3g:function(t,e,n){"use strict";var r=n("JRM0"),i=n("+iL7"),o=n("h/Mk"),a=n("fT8P"),s=n("9pAD"),u=n("zrDt"),c=n("ztTQ"),l=n("iSxr"),f=n("WCig"),h=n("GHf2"),d=n("G5hJ"),p=h("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",m=d>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),y=f("concat"),b=function(t){if(!a(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,forced:!m||!y},{concat:function(t){var e,n,r,i,o,a=s(this),f=l(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(b(o=-1===e?a:arguments[e])){if(h+(i=u(o.length))>v)throw TypeError(g);for(n=0;n<i;n++,h++)n in o&&c(f,h,o[n])}else{if(h>=v)throw TypeError(g);c(f,h++,o)}return f.length=h,f}})},IlJM:function(t,e,n){"use strict";var r=n("JRM0"),i=n("5q7I").find,o=n("d5e9"),a="find",s=!0;a in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},"4owi":function(t,e,n){var r=n("JRM0"),i=n("P3h4");r({target:"Array",stat:!0,forced:!n("Ncbx")((function(t){Array.from(t)}))},{from:i})},"8cZI":function(t,e,n){"use strict";var r=n("JRM0"),i=n("DJGK"),o=n("M/tt"),a=n("fK/z"),s=[].join,u=i!=Object,c=a("join",",");r({target:"Array",proto:!0,forced:u||!c},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},lmye:function(t,e,n){"use strict";var r=n("JRM0"),i=n("5q7I").map;r({target:"Array",proto:!0,forced:!n("WCig")("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"D/wG":function(t,e,n){var r=n("Hvpk"),i=n("nRc6").f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/,u="name";r&&!(u in o)&&i(o,u,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},JBxO:function(t,e,n){var r=n("k2M3"),i=n("0K2p"),o=n("UpYF");r||i(Object.prototype,"toString",o,{unsafe:!0})},QDHd:function(t,e,n){"use strict";var r=n("JRM0"),i=n("PCqT"),o=n("hXTI"),a=n("+iL7"),s=n("UVdV"),u=n("6ka5"),c=n("W2UA"),l=n("0K2p");if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,s("Promise")),n="function"==typeof t;return this.then(n?function(n){return c(e,t()).then((function(){return n}))}:t,n?function(n){return c(e,t()).then((function(){throw n}))}:t)}}),!i&&"function"==typeof o){var f=s("Promise").prototype.finally;o.prototype.finally!==f&&l(o.prototype,"finally",f,{unsafe:!0})}},FdtR:function(t,e,n){"use strict";var r,i,o,a,s=n("JRM0"),u=n("PCqT"),c=n("nEaP"),l=n("UVdV"),f=n("hXTI"),h=n("0K2p"),d=n("xxLW"),p=n("hQLn"),v=n("1tiZ"),g=n("V2sW"),m=n("fT8P"),y=n("jmUq"),b=n("iBt0"),w=n("/dUa"),_=n("maYj"),I=n("Ncbx"),E=n("6ka5"),T=n("4ssk").set,S=n("m1e9"),C=n("W2UA"),k=n("OTtX"),x=n("N1hr"),A=n("gmtn"),N=n("SkE4"),P=n("9nX2"),O=n("GHf2"),D=n("VuJW"),R=n("YxGO"),M=n("G5hJ"),L=O("species"),j="Promise",F=N.get,U=N.set,q=N.getterFor(j),B=f&&f.prototype,V=f,H=B,K=c.TypeError,W=c.document,G=c.process,z=x.f,Y=z,Q=!!(W&&W.createEvent&&c.dispatchEvent),X="function"==typeof PromiseRejectionEvent,J="unhandledrejection",$=!1,Z=P(j,(function(){var t=w(V)!==String(V);if(!t&&66===M)return!0;if(u&&!H.finally)return!0;if(M>=51&&/native code/.test(V))return!1;var e=new V((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(e.constructor={})[L]=n,!($=e.then((function(){}))instanceof n)||!t&&D&&!X})),tt=Z||!I((function(t){V.all(t).catch((function(){}))})),et=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},nt=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;S((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var a,s,u,c=n[o++],l=i?c.ok:c.fail,f=c.resolve,h=c.reject,d=c.domain;try{l?(i||(2===t.rejection&&at(t),t.rejection=1),!0===l?a=r:(d&&d.enter(),a=l(r),d&&(d.exit(),u=!0)),a===c.promise?h(K("Promise-chain cycle")):(s=et(a))?s.call(a,f,h):f(a)):h(r)}catch(t){d&&!u&&d.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&it(t)}))}},rt=function(t,e,n){var r,i;Q?((r=W.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},!X&&(i=c["on"+t])?i(r):t===J&&k("Unhandled promise rejection",n)},it=function(t){T.call(c,(function(){var e,n=t.facade,r=t.value;if(ot(t)&&(e=A((function(){R?G.emit("unhandledRejection",r,n):rt(J,n,r)})),t.rejection=R||ot(t)?2:1,e.error))throw e.value}))},ot=function(t){return 1!==t.rejection&&!t.parent},at=function(t){T.call(c,(function(){var e=t.facade;R?G.emit("rejectionHandled",e):rt("rejectionhandled",e,t.value)}))},st=function(t,e,n){return function(r){t(e,r,n)}},ut=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,nt(t,!0))},ct=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw K("Promise can't be resolved itself");var r=et(e);r?S((function(){var n={done:!1};try{r.call(e,st(ct,n,t),st(ut,n,t))}catch(e){ut(n,e,t)}})):(t.value=e,t.state=1,nt(t,!1))}catch(e){ut({done:!1},e,t)}}};if(Z&&(H=(V=function(t){b(this,V,j),y(t),r.call(this);var e=F(this);try{t(st(ct,e),st(ut,e))}catch(t){ut(e,t)}}).prototype,(r=function(t){U(this,{type:j,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(H,{then:function(t,e){var n=q(this),r=z(E(this,V));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=R?G.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&nt(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=F(t);this.promise=t,this.resolve=st(ct,e),this.reject=st(ut,e)},x.f=z=function(t){return t===V||t===o?new i(t):Y(t)},!u&&"function"==typeof f&&B!==Object.prototype)){a=B.then,$||(h(B,"then",(function(t,e){var n=this;return new V((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),h(B,"catch",H.catch,{unsafe:!0}));try{delete B.constructor}catch(t){}p&&p(B,H)}s({global:!0,wrap:!0,forced:Z},{Promise:V}),v(V,j,!1,!0),g(j),o=l(j),s({target:j,stat:!0,forced:Z},{reject:function(t){var e=z(this);return e.reject.call(void 0,t),e.promise}}),s({target:j,stat:!0,forced:u||Z},{resolve:function(t){return C(u&&this===o?V:this,t)}}),s({target:j,stat:!0,forced:tt},{all:function(t){var e=this,n=z(e),r=n.resolve,i=n.reject,o=A((function(){var n=y(e.resolve),o=[],a=0,s=1;_(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,o[u]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=z(e),r=n.reject,i=A((function(){var i=y(e.resolve);_(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},WoWj:function(t,e,n){"use strict";var r=n("z+V7").charAt,i=n("SkE4"),o=n("vtID"),a="String Iterator",s=i.set,u=i.getterFor(a);o(String,"String",(function(t){s(this,{type:a,string:String(t),index:0})}),(function(){var t,e=u(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},SgDD:function(t,e,n){"use strict";var r=n("JRM0"),i=n("H0Ge").trim;r({target:"String",proto:!0,forced:n("UkaN")("trim")},{trim:function(){return i(this)}})},"3dw1":function(t,e,n){var r=n("nEaP"),i=n("tPpl"),o=n("3PYW"),a=n("nHIk");for(var s in i){var u=r[s],c=u&&u.prototype;if(c&&c.forEach!==o)try{a(c,"forEach",o)}catch(t){c.forEach=o}}},"7VSQ":function(t,e,n){"use strict";var r;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(o){var a,s,u,c=arguments,l=(a=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,s=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,u=/[^-+\dA-Z]/g,function(t,e,n,r){if(1!==c.length||"string"!==v(t)||/\d/.test(t)||(e=t,t=void 0),(t=t||0===t?t:new Date)instanceof Date||(t=new Date(t)),isNaN(t))throw TypeError("Invalid date");var i=(e=String(l.masks[e]||e||l.masks.default)).slice(0,4);"UTC:"!==i&&"GMT:"!==i||(e=e.slice(4),n=!0,"GMT:"===i&&(r=!0));var o=function(){return n?"getUTC":"get"},g=function(){return t[o()+"Date"]()},m=function(){return t[o()+"Day"]()},y=function(){return t[o()+"Month"]()},b=function(){return t[o()+"FullYear"]()},w=function(){return t[o()+"Hours"]()},_=function(){return t[o()+"Minutes"]()},I=function(){return t[o()+"Seconds"]()},E=function(){return t[o()+"Milliseconds"]()},T=function(){return n?0:t.getTimezoneOffset()},S=function(){return d(t)},C={d:function(){return g()},dd:function(){return f(g())},ddd:function(){return l.i18n.dayNames[m()]},DDD:function(){return h({y:b(),m:y(),d:g(),_:o(),dayName:l.i18n.dayNames[m()],short:!0})},dddd:function(){return l.i18n.dayNames[m()+7]},DDDD:function(){return h({y:b(),m:y(),d:g(),_:o(),dayName:l.i18n.dayNames[m()+7]})},m:function(){return y()+1},mm:function(){return f(y()+1)},mmm:function(){return l.i18n.monthNames[y()]},mmmm:function(){return l.i18n.monthNames[y()+12]},yy:function(){return String(b()).slice(2)},yyyy:function(){return f(b(),4)},h:function(){return w()%12||12},hh:function(){return f(w()%12||12)},H:function(){return w()},HH:function(){return f(w())},M:function(){return _()},MM:function(){return f(_())},s:function(){return I()},ss:function(){return f(I())},l:function(){return f(E(),3)},L:function(){return f(Math.floor(E()/10))},t:function(){return w()<12?l.i18n.timeNames[0]:l.i18n.timeNames[1]},tt:function(){return w()<12?l.i18n.timeNames[2]:l.i18n.timeNames[3]},T:function(){return w()<12?l.i18n.timeNames[4]:l.i18n.timeNames[5]},TT:function(){return w()<12?l.i18n.timeNames[6]:l.i18n.timeNames[7]},Z:function(){return r?"GMT":n?"UTC":(String(t).match(s)||[""]).pop().replace(u,"").replace(/GMT\+0000/g,"UTC")},o:function(){return(T()>0?"-":"+")+f(100*Math.floor(Math.abs(T())/60)+Math.abs(T())%60,4)},p:function(){return(T()>0?"-":"+")+f(Math.floor(Math.abs(T())/60),2)+":"+f(Math.floor(Math.abs(T())%60),2)},S:function(){return["th","st","nd","rd"][g()%10>3?0:(g()%100-g()%10!=10)*g()%10]},W:function(){return S()},WW:function(){return f(S())},N:function(){return p(t)}};return e.replace(a,(function(t){return t in C?C[t]():t.slice(1,t.length-1)}))});l.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},l.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};var f=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t},h=function(t){var e=t.y,n=t.m,r=t.d,i=t._,o=t.dayName,a=t.short,s=void 0!==a&&a,u=new Date,c=new Date;c.setDate(c[i+"Date"]()-1);var l=new Date;return l.setDate(l[i+"Date"]()+1),u[i+"FullYear"]()===e&&u[i+"Month"]()===n&&u[i+"Date"]()===r?s?"Tdy":"Today":c[i+"FullYear"]()===e&&c[i+"Month"]()===n&&c[i+"Date"]()===r?s?"Ysd":"Yesterday":l[i+"FullYear"]()===e&&l[i+"Month"]()===n&&l[i+"Date"]()===r?s?"Tmw":"Tomorrow":o},d=function(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);var n=new Date(e.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=e.getTimezoneOffset()-n.getTimezoneOffset();e.setHours(e.getHours()-r);var i=(e-n)/6048e5;return 1+Math.floor(i)},p=function(t){var e=t.getDay();return 0===e&&(e=7),e},v=function(t){return null===t?"null":void 0===t?"undefined":"object"!==i(t)?i(t):Array.isArray(t)?"array":{}.toString.call(t).slice(8,-1).toLowerCase()};void 0===(r=function(){return l}.call(e,n,e,t))||(t.exports=r)}(void 0)},"2TwZ":function(t,e,n){var r;!function(){var i=window.CustomEvent;function o(t){for(;t;){if("dialog"===t.localName)return t;t=t.parentElement}return null}function a(t){t&&t.blur&&t!==document.body&&t.blur()}function s(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1}function u(t){return!(!t||!t.hasAttribute("method"))&&"dialog"===t.getAttribute("method").toLowerCase()}function c(t){if(this.dialog_=t,this.replacedStyleTop_=!1,this.openAsModal_=!1,t.hasAttribute("role")||t.setAttribute("role","dialog"),t.show=this.show.bind(this),t.showModal=this.showModal.bind(this),t.close=this.close.bind(this),"returnValue"in t||(t.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(t,{attributes:!0,attributeFilter:["open"]});else{var e,n=!1,r=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),i=function(i){if(i.target===t){var o="DOMNodeRemoved";n|=i.type.substr(0,o.length)===o,window.clearTimeout(e),e=window.setTimeout(r,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(e){t.addEventListener(e,i)}))}Object.defineProperty(t,"open",{set:this.setOpen.bind(this),get:t.hasAttribute.bind(t,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}i&&"object"!=typeof i||((i=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail||null),n}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(t){t?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(t){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var e=document.createElement("div");this.dialog_.insertBefore(e,this.dialog_.firstChild),e.tabIndex=-1,e.focus(),this.dialog_.removeChild(e)}var n=document.createEvent("MouseEvents");n.initMouseEvent(t.type,t.bubbles,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),this.dialog_.dispatchEvent(n),t.stopPropagation()},focus_:function(){var t=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!t&&this.dialog_.tabIndex>=0&&(t=this.dialog_),!t){var e=["button","input","keygen","select","textarea"].map((function(t){return t+":not([disabled])"}));e.push('[tabindex]:not([disabled]):not([tabindex=""])'),t=this.dialog_.querySelector(e.join(", "))}a(document.activeElement),t&&t.focus()},updateZIndex:function(t,e){if(t<e)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=t,this.backdrop_.style.zIndex=e},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(t){for(;t&&t!==document.body;){var e=window.getComputedStyle(t),n=function(t,n){return!(void 0===e[t]||e[t]===n)};if(e.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===e.isolation||"fixed"===e.position||"touch"===e.webkitOverflowScrolling)return!0;t=t.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(t){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var e=new i("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(e)}};var l={reposition:function(t){var e=document.body.scrollTop||document.documentElement.scrollTop,n=e+(window.innerHeight-t.offsetHeight)/2;t.style.top=Math.max(e,n)+"px"},isInlinePositionSetByStylesheet:function(t){for(var e=0;e<document.styleSheets.length;++e){var n=document.styleSheets[e],r=null;try{r=n.cssRules}catch(t){}if(r)for(var i=0;i<r.length;++i){var o=r[i],a=null;try{a=document.querySelectorAll(o.selectorText)}catch(t){}if(a&&s(a,t)){var u=o.style.getPropertyValue("top"),c=o.style.getPropertyValue("bottom");if(u&&"auto"!==u||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(t){return!("absolute"!==window.getComputedStyle(t).position||"auto"!==t.style.top&&""!==t.style.top||"auto"!==t.style.bottom&&""!==t.style.bottom||l.isInlinePositionSetByStylesheet(t))},forceRegisterDialog:function(t){if((window.HTMLDialogElement||t.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",t),"dialog"!==t.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(t)},registerDialog:function(t){t.showModal||l.forceRegisterDialog(t)},DialogManager:function(){this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(e){this.forwardTab_=void 0,e.stopPropagation(),t([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(e){var n=[];e.forEach((function(t){for(var e,r=0;e=t.removedNodes[r];++r)e instanceof Element&&("dialog"===e.localName&&n.push(e),n=n.concat(e.querySelectorAll("dialog")))})),n.length&&t(n)})))}};if(l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var t,e=this.zIndexHigh_,n=0;t=this.pendingDialogStack[n];++n)t.updateZIndex(--e,--e),0===n&&(this.overlay.style.zIndex=--e);var r=this.pendingDialogStack[0];r?(r.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(t){for(;t=o(t);){for(var e,n=0;e=this.pendingDialogStack[n];++n)if(e.dialog===t)return 0===n;t=t.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(t){if(!this.containedByTopDialog_(t.target)&&(t.preventDefault(),t.stopPropagation(),a(t.target),void 0!==this.forwardTab_)){var e=this.pendingDialogStack[0];return e.dialog.compareDocumentPosition(t.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?e.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(t){if(this.forwardTab_=void 0,27===t.keyCode){t.preventDefault(),t.stopPropagation();var e=new i("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(e)&&n.dialog.close()}else 9===t.keyCode&&(this.forwardTab_=!t.shiftKey)},l.DialogManager.prototype.checkDOM_=function(t){this.pendingDialogStack.slice().forEach((function(e){-1!==t.indexOf(e.dialog)?e.downgradeModal():e.maybeHideModal()}))},l.DialogManager.prototype.pushDialog=function(t){var e=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=e||(1===this.pendingDialogStack.unshift(t)&&this.blockDocument(),this.updateStacking(),0))},l.DialogManager.prototype.removeDialog=function(t){var e=this.pendingDialogStack.indexOf(t);-1!==e&&(this.pendingDialogStack.splice(e,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,void 0===window.HTMLDialogElement){var f=document.createElement("form");if(f.setAttribute("method","dialog"),"dialog"!==f.method){var h=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(h){var d=h.get;h.get=function(){return u(this)?"dialog":d.call(this)};var p=h.set;h.set=function(t){return"string"==typeof t&&"dialog"===t.toLowerCase()?this.setAttribute("method",t):p.call(this,t)},Object.defineProperty(HTMLFormElement.prototype,"method",h)}}document.addEventListener("click",(function(t){if(l.formSubmitter=null,l.useValue=null,!t.defaultPrevented){var e=t.target;if(e&&u(e.form)){if(!("submit"===e.type&&["button","input"].indexOf(e.localName)>-1)){if("input"!==e.localName||"image"!==e.type)return;l.useValue=t.offsetX+","+t.offsetY}o(e)&&(l.formSubmitter=e)}}}),!1);var v=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!u(this))return v.call(this);var t=o(this);t&&t.close()},document.addEventListener("submit",(function(t){var e=t.target;if(u(e)){t.preventDefault();var n=o(e);if(n){var r=l.formSubmitter;r&&r.form===e?n.close(l.useValue||r.value):n.close(),l.formSubmitter=null}}}),!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,"amd"in n.amdD?void 0===(r=function(){return l}.call(e,n,e,t))||(t.exports=r):"object"==typeof t.exports?t.exports=l:window.dialogPolyfill=l}()},VwVG:function(t,e,n){"use strict";n("abW9")},SHTW:function(t,e,n){"use strict";n("2SmR")},ZqQ3:function(t,e,n){"use strict";n.d(e,{Z:function(){return r.default}});var r=n("nJIM"),i=(n("abW9"),n("2SmR"),n("FXmT")),o=n("MxOq"),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var u,c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},l=l||{},f=c||self;function h(){}function d(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function _(){return Date.now()}function I(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function E(){this.j=this.j,this.i=this.i}E.prototype.j=!1,E.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++g)}(this)},E.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var T=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},S=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function C(t){return Array.prototype.concat.apply([],arguments)}function k(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function x(t){return/^[\s\xa0]*$/.test(t)}var A,N=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function P(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var D=f.navigator;if(D){var R=D.userAgent;if(R){A=R;break t}}A=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function L(t){var e={};for(var n in t)e[n]=t[n];return e}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<j.length;o++)n=j[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function U(t){return U[" "](t),t}U[" "]=h;var q,B,V=P(A,"Opera"),H=P(A,"Trident")||P(A,"MSIE"),K=P(A,"Edge"),W=K||H,G=P(A,"Gecko")&&!(P(A.toLowerCase(),"webkit")&&!P(A,"Edge"))&&!(P(A,"Trident")||P(A,"MSIE"))&&!P(A,"Edge"),z=P(A.toLowerCase(),"webkit")&&!P(A,"Edge");function Y(){var t=f.document;return t?t.documentMode:void 0}t:{var Q="",X=(B=A,G?/rv:([^\);]+)(\)|;)/.exec(B):K?/Edge\/([\d\.]+)/.exec(B):H?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):z?/WebKit\/(\S+)/.exec(B):V?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(X&&(Q=X?X[1]:""),H){var J=Y();if(null!=J&&J>parseFloat(Q)){q=String(J);break t}}q=Q}var $,Z={};function tt(t){return function(t,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=N(String(q)).split("."),r=N(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=O(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||O(0==a[2].length,0==s[2].length)||O(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}f.document&&H?$=Y()||parseInt(q,10)||void 0:$=void 0;var et=$,nt=!H||9<=Number(et),rt=H&&!tt("9"),it=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",h,e),f.removeEventListener("test",h,e)}catch(t){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function at(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(G){t:{try{U(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:st[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.defaultPrevented=!0},I(at,ot);var st={2:"touch",3:"pen",4:"mouse"};at.prototype.b=function(){at.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var ut="closure_listenable_"+(1e6*Math.random()|0),ct=0;function lt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ct,this.Y=this.Z=!1}function ft(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ht(t){this.src=t,this.a={},this.b=0}function dt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=T(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ft(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function pt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ht.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=pt(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new lt(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var vt="closure_lm_"+(1e6*Math.random()|0),gt={};function mt(t,e,n,r,i){if(r&&r.once)return bt(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)mt(t,e[o],n,r,i);return null}return n=kt(n),t&&t[ut]?t.va(e,n,p(r)?!!r.capture:!!r,i):yt(t,e,n,!1,r,i)}function yt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i;if(a&&!nt)return null;var s=St(t);if(s||(t[vt]=s=new ht(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Tt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(It(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function bt(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)bt(t,e[o],n,r,i);return null}return n=kt(n),t&&t[ut]?t.wa(e,n,p(r)?!!r.capture:!!r,i):yt(t,e,n,!0,r,i)}function wt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)wt(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=kt(n),t&&t[ut]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=pt(o=t.a[e],n,r,i))&&(ft(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=St(t))&&(e=t.a[e.toString()],t=-1,e&&(t=pt(e,n,r,i)),(n=-1<t?e[t]:null)&&_t(n))}function _t(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ut])dt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(It(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=St(e))?(dt(n,t),0==n.b&&(n.src=null,e[vt]=null)):ft(t)}}}function It(t){return t in gt?gt[t]:gt[t]="on"+t}function Et(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&_t(t),n.call(r,e)}function Tt(t,e){if(t.Y)return!0;if(!nt){if(!e)t:{e=["window","event"];for(var n=f,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Et(t,e=new at(e,this))}return Et(t,new at(e,this))}function St(t){return(t=t[vt])instanceof ht?t:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function kt(t){return"function"==typeof t?t:(t[Ct]||(t[Ct]=function(e){return t.handleEvent(e)}),t[Ct])}function xt(){E.call(this),this.c=new ht(this),this.J=this,this.C=null}function At(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ot(e,t);else if(e instanceof ot)e.target=e.target||t;else{var i=e;F(e=new ot(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Nt(a,r,!0,e)&&i}if(i=Nt(a=e.a=t,r,!0,e)&&i,i=Nt(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Nt(a=e.a=n[o],r,!1,e)&&i}function Nt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&dt(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}I(xt,E),xt.prototype[ut]=!0,(u=xt.prototype).addEventListener=function(t,e,n,r){mt(this,t,e,n,r)},u.removeEventListener=function(t,e,n,r){wt(this,t,e,n,r)},u.G=function(){if(xt.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ft(n[r]);delete e.a[t],e.b--}}this.C=null},u.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},u.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Pt=f.JSON.stringify;function Ot(){this.b=this.a=null}var Dt,Rt=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Lt}),(function(t){t.reset()}));function Mt(){var t=qt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Lt(){this.next=this.b=this.a=null}function jt(t){f.setTimeout((function(){throw t}),0)}function Ft(t,e){Dt||function(){var t=f.Promise.resolve(void 0);Dt=function(){t.then(Bt)}}(),Ut||(Dt(),Ut=!0),qt.add(t,e)}Ot.prototype.add=function(t,e){var n=Rt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Lt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Lt.prototype.reset=function(){this.next=this.b=this.a=null};var Ut=!1,qt=new Ot;function Bt(){for(var t;t=Mt();){try{t.a.call(t.b)}catch(t){jt(t)}var e=Rt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ut=!1}function Vt(t,e){xt.call(this),this.b=t||1,this.a=e||f,this.f=b(this.Za,this),this.g=_()}function Ht(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Kt(t,e,n){if("function"==typeof t)n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:f.setTimeout(t,e||0)}function Wt(t){t.a=Kt((function(){t.a=null,t.c&&(t.c=!1,Wt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}I(Vt,xt),(u=Vt.prototype).aa=!1,u.M=null,u.Za=function(){if(this.aa){var t=_()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),At(this,"tick"),this.aa&&(Ht(this),this.start()))}},u.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=_())},u.G=function(){Vt.X.G.call(this),Ht(this),delete this.a};var Gt=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Wt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(f.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(E);function zt(t){E.call(this),this.b=t,this.a={}}I(zt,E);var Yt=[];function Qt(t,e,n,r){Array.isArray(n)||(n&&(Yt[0]=n.toString()),n=Yt);for(var i=0;i<n.length;i++){var o=mt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Xt(t){M(t.a,(function(t,e){this.a.hasOwnProperty(e)&&_t(t)}),t),t.a={}}function Jt(){this.a=!0}function $t(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Pt(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}zt.prototype.G=function(){zt.X.G.call(this),Xt(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jt.prototype.info=function(){};var Zt={},te=null;function ee(){return te=te||new xt}function ne(t){ot.call(this,Zt.Fa,t)}function re(t){var e=ee();At(e,new ne(e,t))}function ie(t,e){ot.call(this,Zt.STAT_EVENT,t),this.stat=e}function oe(t){var e=ee();At(e,new ie(e,t))}function ae(t){ot.call(this,Zt.Ga,t)}function se(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return f.setTimeout((function(){t()}),e)}Zt.Fa="serverreachability",I(ne,ot),Zt.STAT_EVENT="statevent",I(ie,ot),Zt.Ga="timingevent",I(ae,ot);var ue={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},ce={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function le(){}function fe(t){var e;return(e=t.a)||(e=t.a={}),e}function he(){}le.prototype.a=null;var de,pe={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ve(){ot.call(this,"d")}function ge(){ot.call(this,"c")}function me(){}function ye(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new zt(this),this.P=be,t=W?125:void 0,this.R=new Vt(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}I(ve,ot),I(ge,ot),I(me,le),de=new me;var be=45e3,we={},_e={};function Ie(t,e,n){t.H=1,t.i=Ke(Fe(e)),t.j=n,t.I=!0,Ee(t,null)}function Ee(t,e){t.u=_(),Ce(t),t.l=Fe(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),rn(n.b,"t",r),t.D=0,t.a=$n(t.g,t.g.C?e:null),0<t.O&&(t.F=new Gt(b(t.Ca,t,t.a),t.O)),Qt(t.J,t.a,"readystatechange",t.Xa),e=t.B?L(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),re(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Te(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Se(t,n);if(i==_e){4==e&&(t.h=4,oe(14),r=!1),$t(t.c,t.f,null,"[Incomplete Response]");break}if(i==we){t.h=4,oe(15),$t(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}$t(t.c,t.f,i,null),Pe(t,i)}4==e&&0==n.length&&(t.h=1,oe(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kn(e),e.F=!0,oe(11))):($t(t.c,t.f,n,"[Invalid Chunked Response]"),Ne(t),Ae(t))}function Se(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?_e:(n=Number(e.substring(n,r)),isNaN(n)?we:(r+=1)+n>e.length?_e:(e=e.substr(r,n),t.D=r+n,e))}function Ce(t){t.T=_()+t.P,ke(t,t.P)}function ke(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=se(b(t.Va,t),e)}function xe(t){t.o&&(f.clearTimeout(t.o),t.o=null)}function Ae(t){0==t.g.v||t.A||zn(t.g,t)}function Ne(t){xe(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ht(t.R),Xt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Pe(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||fn(n.b,t)))if(n.I=t.N,!t.C&&fn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Gn(n),Mn(n)}Hn(n),oe(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=se(b(n.Sa,n),6e3));if(1>=ln(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else Qn(n,11)}else if((t.C||n.a==t)&&Gn(n),!x(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=u.b;!f.a&&(P(l,"spdy")||P(l,"quic")||P(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(hn(f,f.b),f.b=null))}if(u.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(u.na=h,He(u.B,u.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=_()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Jn(u,u.C?u.ga:null,u.fa),d.C){dn(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(xe(p),Ce(p)),u.a=d}else Vn(u);0<n.g.length&&Fn(n)}else"stop"!=i[0]&&"close"!=i[0]||Qn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Qn(n,7):Rn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);re(4)}catch(t){}}function Oe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)S(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(d(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function De(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof De)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Re(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Me(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Me(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Me(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(u=ye.prototype).setTimeout=function(t){this.P=t},u.Xa=function(t){t=t.target;var e=this.F;e&&3==Nn(t)?e.f():this.Ca(t)},u.Ca=function(t){try{if(t==this.a)t:{var e=Nn(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!W&&!this.a.$())){this.A||4!=e||7==n||re(8==n||0>=r?3:2),xe(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,oe(12),Ne(this),Ae(this);break t}$t(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Pe(this,u)}this.I?(Te(this,e,o),W&&this.b&&3==e&&(Qt(this.J,this.R,"tick",this.Wa),this.R.start())):($t(this.c,this.f,o,null),Pe(this,o)),4==e&&Ne(this),this.b&&!this.A&&(4==e?zn(this.g,this):(this.b=!1,Ce(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,oe(12)):(this.h=0,oe(13)),Ne(this),Ae(this)}}}catch(t){}},u.Wa=function(){if(this.a){var t=Nn(this.a),e=this.a.$();this.D<e.length&&(xe(this),Te(this,t,e),this.b&&4!=t&&Ce(this))}},u.cancel=function(){this.A=!0,Ne(this)},u.Va=function(){this.o=null;var t=_();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(re(3),oe(17)),Ne(this),this.h=2,Ae(this)):ke(this,this.T-t)},(u=De.prototype).K=function(){Re(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},u.L=function(){return Re(this),this.a.concat()},u.get=function(t,e){return Me(this.b,t)?this.b[t]:e},u.set=function(t,e){Me(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},u.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Le=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function je(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof je){this.a=void 0!==e?e:t.a,Ue(this,t.f),this.j=t.j,qe(this,t.c),Be(this,t.h),this.g=t.g,e=t.b;var n=new Ze;n.c=e.c,e.a&&(n.a=new De(e.a),n.b=e.b),Ve(this,n),this.i=t.i}else t&&(n=String(t).match(Le))?(this.a=!!e,Ue(this,n[1]||"",!0),this.j=We(n[2]||""),qe(this,n[3]||"",!0),Be(this,n[4]),this.g=We(n[5]||"",!0),Ve(this,n[6]||"",!0),this.i=We(n[7]||"")):(this.a=!!e,this.b=new Ze(null,this.a))}function Fe(t){return new je(t)}function Ue(t,e,n){t.f=n?We(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function qe(t,e,n){t.c=n?We(e,!0):e}function Be(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ve(t,e,n){e instanceof Ze?(t.b=e,function(t,e){e&&!t.f&&(tn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(en(this,e),rn(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ge(e,Je)),t.b=new Ze(e,t.a))}function He(t,e,n){t.b.set(e,n)}function Ke(t){return He(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),t}function We(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ge(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}je.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ge(e,Ye,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ge(e,Ye,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ge(n,"/"==n.charAt(0)?Xe:Qe,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ge(n,$e)),t.join("")};var Ye=/[#\/\?@]/g,Qe=/[#\?:]/g,Xe=/[#\?]/g,Je=/[#\?@]/g,$e=/#/g;function Ze(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function tn(t){t.a||(t.a=new De,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function en(t,e){tn(t),e=on(t,e),Me(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Me((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Re(t)))}function nn(t,e){return tn(t),e=on(t,e),Me(t.a.b,e)}function rn(t,e,n){en(t,e),0<n.length&&(t.c=null,t.a.set(on(t,e),k(n)),t.b+=n.length)}function on(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(u=Ze.prototype).add=function(t,e){tn(this),this.c=null,t=on(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},u.forEach=function(t,e){tn(this),this.a.forEach((function(n,r){S(n,(function(n){t.call(e,n,r,this)}),this)}),this)},u.L=function(){tn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},u.K=function(t){tn(this);var e=[];if("string"==typeof t)nn(this,t)&&(e=C(e,this.a.get(on(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=C(e,t[n])}return e},u.set=function(t,e){return tn(this),this.c=null,nn(this,t=on(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},u.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},u.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var an=function(t,e){this.b=t,this.a=e};function sn(t){this.g=t||un,t=f.PerformanceNavigationTiming?0<(t=f.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(f.ia&&f.ia.ya&&f.ia.ya()&&f.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var un=10;function cn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function ln(t){return t.b?1:t.a?t.a.size:0}function fn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function hn(t,e){t.a?t.a.add(e):t.b=e}function dn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function pn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=s(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return k(t.c)}function vn(){}function gn(){this.a=new vn}function mn(t,e,n){var r=n||"";try{Oe(t,(function(t,n){var i=t;p(t)&&(i=Pt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function yn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}sn.prototype.cancel=function(){var t,e;if(this.c=pn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=s(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},vn.prototype.stringify=function(t){return f.JSON.stringify(t,void 0)},vn.prototype.parse=function(t){return f.JSON.parse(t,void 0)};var bn=f.JSON.parse;function wn(t){xt.call(this),this.headers=new De,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=_n,this.D=this.F=!1}I(wn,xt);var _n="",In=/^https?$/i,En=["POST","PUT"];function Tn(t){return"content-type"==t.toLowerCase()}function Sn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Cn(t),xn(t)}function Cn(t){t.u||(t.u=!0,At(t,"complete"),At(t,"error"))}function kn(t){if(t.b&&void 0!==l&&(!t.s[1]||4!=Nn(t)||2!=t.W()))if(t.l&&4==Nn(t))Kt(t.za,0,t);else if(At(t,"readystatechange"),4==Nn(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Le)[1]||null;if(!o&&f.self&&f.self.location){var a=f.self.location.protocol;o=a.substr(0,a.length-1)}i=!In.test(o?o.toLowerCase():"")}e=i}if(e)At(t,"complete"),At(t,"success");else{t.h=6;try{var s=2<Nn(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",Cn(t)}}finally{xn(t)}}}function xn(t,e){if(t.a){An(t);var n=t.a,r=t.s[0]?h:null;t.a=null,t.s=null,e||At(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function An(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(f.clearTimeout(t.m),t.m=null)}function Nn(t){return t.a?t.a.readyState:0}function Pn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return M(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):He(t,e,n))}function On(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Dn(t){this.pa=0,this.g=[],this.c=new Jt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=On("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=On("baseRetryDelayMs",5e3,t),this.Ra=On("retryDelaySeedMs",1e4,t),this.Ma=On("forwardChannelMaxRetries",2,t),this.ma=On("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new sn(t&&t.concurrentRequestLimit),this.ka=new gn,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Rn(t){if(Ln(t),3==t.v){var e=t.R++,n=Fe(t.B);He(n,"SID",t.J),He(n,"RID",e),He(n,"TYPE","terminate"),qn(t,n),(e=new ye(t,t.c,e,void 0)).H=2,e.i=Ke(Fe(n)),n=!1,f.navigator&&f.navigator.sendBeacon&&(n=f.navigator.sendBeacon(e.i.toString(),"")),!n&&f.Image&&((new Image).src=e.i,n=!0),n||(e.a=$n(e.g,null),e.a.ba(e.i)),e.u=_(),Ce(e)}Xn(t)}function Mn(t){t.a&&(Kn(t),t.a.cancel(),t.a=null)}function Ln(t){Mn(t),t.j&&(f.clearTimeout(t.j),t.j=null),Gn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&f.clearTimeout(t.h),t.h=null)}function jn(t,e){t.g.push(new an(t.Oa++,e)),3==t.v&&Fn(t)}function Fn(t){cn(t.b)||t.h||(t.h=!0,Ft(t.Ba,t),t.u=0)}function Un(t,e){var n;n=e?e.f:t.R++;var r=Fe(t.B);He(r,"SID",t.J),He(r,"RID",n),He(r,"AID",t.P),qn(t,r),t.i&&t.l&&Pn(r,t.i,t.l),n=new ye(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Bn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),hn(t.b,n),Ie(n,r,e)}function qn(t,e){t.f&&Oe({},(function(t,n){He(e,n,t)}))}function Bn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?b(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{mn(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Vn(t){t.a||t.j||(t.T=1,Ft(t.Aa,t),t.o=0)}function Hn(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=se(b(t.Aa,t),Yn(t,t.o)),t.o++,0))}function Kn(t){null!=t.s&&(f.clearTimeout(t.s),t.s=null)}function Wn(t){t.a=new ye(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Fe(t.la);He(e,"RID","rpc"),He(e,"SID",t.J),He(e,"CI",t.H?"0":"1"),He(e,"AID",t.P),qn(t,e),He(e,"TYPE","xmlhttp"),t.i&&t.l&&Pn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ke(Fe(e)),n.j=null,n.I=!0,Ee(n,t)}function Gn(t){null!=t.m&&(f.clearTimeout(t.m),t.m=null)}function zn(t,e){var n=null;if(t.a==e){Gn(t),Kn(t),t.a=null;var r=2}else{if(!fn(t.b,e))return;n=e.s,dn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=_()-e.u;var i=t.u;At(r=ee(),new ae(r,n,e,i)),Fn(t)}else Vn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ln(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=se(b(t.Ba,t,e),Yn(t,t.u)),t.u++,0)))}(t,e)||2==r&&Hn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Qn(t,5);break;case 4:Qn(t,10);break;case 3:Qn(t,6);break;default:Qn(t,2)}}function Yn(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Qn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=b(t.Ya,t);n||(n=new je("//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||Ue(n,"https"),Ke(n)),function(t,e){var n=new Jt;if(f.Image){var r=new Image;r.onload=w(yn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=w(yn,n,r,"TestLoadImage: error",!1,e),r.onabort=w(yn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=w(yn,n,r,"TestLoadImage: timeout",!1,e),f.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else oe(2);t.v=0,t.f&&t.f.ra(e),Xn(t),Ln(t)}function Xn(t){t.v=0,t.I=-1,t.f&&(0==pn(t.b).length&&0==t.g.length||(t.b.c.length=0,k(t.g),t.g.length=0),t.f.qa())}function Jn(t,e,n){var r=function(t){return t instanceof je?Fe(t):new je(t,void 0)}(n);if(""!=r.c)e&&qe(r,e+"."+r.c),Be(r,r.h);else{var i=f.location;r=function(t,e,n,r){var i=new je(null,void 0);return t&&Ue(i,t),e&&qe(i,e),n&&Be(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&M(t.V,(function(t,e){He(r,e,t)})),e=t.A,n=t.na,e&&n&&He(r,e,n),He(r,"VER",t.ha),qn(t,r),r}function $n(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wn(t.Na)).F=t.C,e}function Zn(){}function tr(){if(H&&!(10<=Number(et)))throw Error("Environmental error: no available transport.")}function er(t,e){xt.call(this),this.a=new Dn(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!x(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ir(this)}function nr(t){ve.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function rr(){ge.call(this),this.status=1}function ir(t){this.a=t}(u=wn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?fe(this.H):fe(de),this.a.onreadystatechange=b(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Sn(this,t)}t=n||"";var i=new De(this.headers);r&&Oe(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Tn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=f.FormData&&t instanceof f.FormData,!(0<=T(En,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{An(this),0<this.o&&((this.D=function(t){return H&&tt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.xa,this)):this.m=Kt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Sn(this,t)}},u.xa=function(){void 0!==l&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,At(this,"timeout"),this.abort(8))},u.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,At(this,"complete"),At(this,"abort"),xn(this))},u.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),xn(this,!0)),wn.X.G.call(this)},u.za=function(){this.j||(this.A||this.l||this.g?kn(this):this.Ua())},u.Ua=function(){kn(this)},u.W=function(){try{return 2<Nn(this)?this.a.status:-1}catch(t){return-1}},u.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},u.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),bn(e)}},u.ua=function(){return this.h},u.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(u=Dn.prototype).ha=8,u.v=1,u.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ye(this,this.c,t,void 0),r=this.l;if(this.O&&(r?F(r=L(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Bn(this,n,e),He(i=Fe(this.B),"RID",t),He(i,"CVER",22),this.A&&He(i,"X-HTTP-Session-Id",this.A),qn(this,i),this.i&&r&&Pn(i,this.i,r),hn(this.b,n),this.Ia&&He(i,"TYPE","init"),this.da?(He(i,"$req",e),He(i,"SID","null"),n.U=!0,Ie(n,i,null)):Ie(n,i,e),this.v=2}}else 3==this.v&&(t?Un(this,t):0==this.g.length||cn(this.b)||Un(this))},u.Aa=function(){if(this.j=null,Wn(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=se(b(this.Ta,this),t)}},u.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,oe(10),Mn(this),Wn(this))},u.Sa=function(){null!=this.m&&(this.m=null,Mn(this),Hn(this),oe(19))},u.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),oe(2)):(this.c.info("Failed to ping google.com"),oe(1))},(u=Zn.prototype).ta=function(){},u.sa=function(){},u.ra=function(){},u.qa=function(){},u.Ja=function(){},tr.prototype.a=function(t,e){return new er(t,e)},I(er,xt),er.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;oe(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Jn(t,null,t.fa),Fn(t)},er.prototype.close=function(){Rn(this.a)},er.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,jn(this.a,e)}else this.l?((e={}).__data__=Pt(t),jn(this.a,e)):jn(this.a,t)},er.prototype.G=function(){this.a.f=null,delete this.f,Rn(this.a),delete this.a,er.X.G.call(this)},I(nr,ve),I(rr,ge),I(ir,Zn),ir.prototype.ta=function(){At(this.a,"a")},ir.prototype.sa=function(t){At(this.a,new nr(t))},ir.prototype.ra=function(t){At(this.a,new rr(t))},ir.prototype.qa=function(){At(this.a,"b")},tr.prototype.createWebChannel=tr.prototype.a,er.prototype.send=er.prototype.h,er.prototype.open=er.prototype.g,er.prototype.close=er.prototype.close,ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,ce.COMPLETE="complete",he.EventType=pe,pe.OPEN="a",pe.CLOSE="b",pe.ERROR="c",pe.MESSAGE="d",xt.prototype.listen=xt.prototype.va,wn.prototype.listenOnce=wn.prototype.wa,wn.prototype.getLastError=wn.prototype.Qa,wn.prototype.getLastErrorCode=wn.prototype.ua,wn.prototype.getStatus=wn.prototype.W,wn.prototype.getResponseJson=wn.prototype.Pa,wn.prototype.getResponseText=wn.prototype.$,wn.prototype.send=wn.prototype.ba;var or=ue,ar=ce,sr=Zt,ur=10,cr=11,lr=he,fr=wn,hr=function(t,e){return(hr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function dr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}hr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function pr(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function vr(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function gr(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}Object.create,Object.create;var mr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();mr.o=-1;var yr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},br=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return dr(e,t),e}(Error),wr=new o.Logger("@firebase/firestore");function _r(){return wr.logLevel}function Ir(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wr.logLevel<=o.LogLevel.DEBUG){var r=e.map(Sr);wr.debug.apply(wr,gr(["Firestore (8.6.2): "+t],r))}}function Er(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wr.logLevel<=o.LogLevel.ERROR){var r=e.map(Sr);wr.error.apply(wr,gr(["Firestore (8.6.2): "+t],r))}}function Tr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wr.logLevel<=o.LogLevel.WARN){var r=e.map(Sr);wr.warn.apply(wr,gr(["Firestore (8.6.2): "+t],r))}}function Sr(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Cr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.2) INTERNAL ASSERTION FAILED: "+t;throw Er(e),new Error(e)}function kr(t,e){t||Cr()}function xr(t,e){return t}function Ar(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Nr=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ar(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Pr(t,e){return t<e?-1:t>e?1:0}function Or(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Dr(t){return t+"\0"}var Rr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new br(yr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new br(yr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new br(yr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new br(yr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Pr(this.nanoseconds,t.nanoseconds):Pr(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Mr=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Rr(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Lr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Fr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ur=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Cr(),void 0===n?n=t.length-e:n>t.length-e&&Cr(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),qr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dr(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new br(yr.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Ur),Br=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dr(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Br.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new br(yr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new br(yr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new br(yr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new br(yr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Ur),Hr=function(){function t(t){this.fields=t,t.sort(Vr.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Or(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Kr=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Pr(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Kr.EMPTY_BYTE_STRING=new Kr("");var Wr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(t){if(kr(!!t),"string"==typeof t){var e=0,n=Wr.exec(t);if(kr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zr(t.seconds),nanos:zr(t.nanos)}}function zr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Yr(t){return"string"==typeof t?Kr.fromBase64String(t):Kr.fromUint8Array(t)}function Qr(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Xr(t){var e=t.mapValue.fields.__previous_value__;return Qr(e)?Xr(e):e}function Jr(t){var e=Gr(t.mapValue.fields.__local_write_time__.timestampValue);return new Rr(e.seconds,e.nanos)}function $r(t){return null==t}function Zr(t){return 0===t&&1/t==-1/0}function ti(t){return"number"==typeof t&&Number.isInteger(t)&&!Zr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ei=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(qr.fromString(e))},t.fromName=function(e){return new t(qr.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===qr.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return qr.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new qr(e.slice()))},t}();function ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qr(t)?4:10:Cr()}function ri(t,e){var n=ni(t);if(n!==ni(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jr(t).isEqual(Jr(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Gr(t.timestampValue),r=Gr(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Yr(t.bytesValue).isEqual(Yr(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return zr(t.geoPointValue.latitude)===zr(e.geoPointValue.latitude)&&zr(t.geoPointValue.longitude)===zr(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return zr(t.integerValue)===zr(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=zr(t.doubleValue),r=zr(e.doubleValue);return n===r?Zr(n)===Zr(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Or(t.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Lr(n)!==Lr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ri(n[i],r[i])))return!1;return!0}(t,e);default:return Cr()}}function ii(t,e){return void 0!==(t.values||[]).find((function(t){return ri(t,e)}))}function oi(t,e){var n=ni(t),r=ni(e);if(n!==r)return Pr(n,r);switch(n){case 0:return 0;case 1:return Pr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=zr(t.integerValue||t.doubleValue),r=zr(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ai(t.timestampValue,e.timestampValue);case 4:return ai(Jr(t),Jr(e));case 5:return Pr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Yr(t),r=Yr(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Pr(n[i],r[i]);if(0!==o)return o}return Pr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Pr(zr(t.latitude),zr(e.latitude));return 0!==n?n:Pr(zr(t.longitude),zr(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=oi(n[i],r[i]);if(o)return o}return Pr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Pr(r[a],o[a]);if(0!==s)return s;var u=oi(n[r[a]],i[o[a]]);if(0!==u)return u}return Pr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Cr()}}function ai(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Pr(t,e);var n=Gr(t),r=Gr(e),i=Pr(n.seconds,r.seconds);return 0!==i?i:Pr(n.nanos,r.nanos)}function si(t){return ui(t)}function ui(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Gr(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Yr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ei.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ui(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+ui(t.fields[o])}return e+"}"}(t.mapValue):Cr();var e,n}function ci(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function li(t){return!!t&&"integerValue"in t}function fi(t){return!!t&&"arrayValue"in t}function hi(t){return!!t&&"nullValue"in t}function di(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pi(t){return!!t&&"mapValue"in t}var vi=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Vr.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return ri(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===ni(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),a=pi(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(a[n]=o,i=!0)}else null!==t?(a[n]=t,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Vr.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!pi(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function gi(t){var e=[];return jr(t.fields||{},(function(t,n){var r=new Vr([t]);if(pi(n)){var i=gi(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new Hr(e)}var mi=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Mr.min(),vi.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,vi.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,vi.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=vi.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=vi.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),yi=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function bi(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new yi(t,e,n,r,i,o,a)}function wi(t){var e=xr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+si(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),$r(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Di(e.startAt)),e.endAt&&(n+="|ub:",n+=Di(e.endAt)),e.h=n}return e.h}function _i(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Mi(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!ri(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ji(t.startAt,e.startAt)&&ji(t.endAt,e.endAt)}function Ii(t){return ei.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ei=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return dr(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ti(t,n,r):"array-contains"===n?new xi(t,r):"in"===n?new Ai(t,r):"not-in"===n?new Ni(t,r):"array-contains-any"===n?new Pi(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Si(t,n):new Ci(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(oi(e,this.value)):null!==e&&ni(this.value)===ni(e)&&this.m(oi(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Cr()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Ti=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ei.fromName(r.referenceValue),i}return dr(e,t),e.prototype.matches=function(t){var e=ei.comparator(t.key,this.key);return this.m(e)},e}(Ei),Si=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ki(0,n),r}return dr(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ei),Ci=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ki(0,n),r}return dr(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ei);function ki(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return ei.fromName(t.referenceValue)}))}var xi=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return dr(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return fi(e)&&ii(e.arrayValue,this.value)},e}(Ei),Ai=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return dr(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&ii(this.value.arrayValue,e)},e}(Ei),Ni=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return dr(e,t),e.prototype.matches=function(t){if(ii(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!ii(this.value.arrayValue,e)},e}(Ei),Pi=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return dr(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!fi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ii(e.value.arrayValue,t)}))},e}(Ei),Oi=function(t,e){this.position=t,this.before=e};function Di(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return si(t)})).join(",")}var Ri=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Mi(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Li(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?ei.comparator(ei.fromName(a.referenceValue),n.key):oi(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ji(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ri(t.position[n],e.position[n]))return!1;return!0}var Fi=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Ui(t,e,n,r,i,o,a,s){return new Fi(t,e,n,r,i,o,a,s)}function qi(t){return new Fi(t)}function Bi(t){return!$r(t.limit)&&"F"===t.limitType}function Vi(t){return!$r(t.limit)&&"L"===t.limitType}function Hi(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ki(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Wi(t){return null!==t.collectionGroup}function Gi(t){var e=xr(t);if(null===e.p){e.p=[];var n=Ki(e),r=Hi(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Ri(n)),e.p.push(new Ri(Vr.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Ri(Vr.keyField(),u))}}}return e.p}function zi(t){var e=xr(t);if(!e.T)if("F"===e.limitType)e.T=bi(e.path,e.collectionGroup,Gi(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Gi(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Ri(o.field,a))}var s=e.endAt?new Oi(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Oi(e.startAt.position,!e.startAt.before):null;e.T=bi(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function Yi(t,e,n){return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qi(t,e){return _i(zi(t),zi(e))&&t.limitType===e.limitType}function Xi(t){return wi(zi(t))+"|lt:"+t.limitType}function Ji(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+si(e.value);var e})).join(", ")+"]"),$r(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Di(t.startAt)),t.endAt&&(e+=", endAt: "+Di(t.endAt)),"Target("+e+")"}(zi(t))+"; limitType="+t.limitType+")"}function $i(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ei.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Li(t.startAt,Gi(t),e)||t.endAt&&Li(t.endAt,Gi(t),e))}(t,e)}function Zi(t){return function(e,n){for(var r=!1,i=0,o=Gi(t);i<o.length;i++){var a=o[i],s=to(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function to(t,e,n){var r=t.field.isKeyField()?ei.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?oi(r,i):Cr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Cr()}}function eo(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zr(e)?"-0":e}}function no(t){return{integerValue:""+t}}function ro(t,e){return ti(e)?no(e):eo(t,e)}var io=function(){this._=void 0};function oo(t,e,n){return t instanceof uo?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof co?lo(t,e):t instanceof fo?ho(t,e):function(t,e){var n=so(t,e),r=vo(n)+vo(t.A);return li(n)&&li(t.A)?no(r):eo(t.R,r)}(t,e)}function ao(t,e,n){return t instanceof co?lo(t,e):t instanceof fo?ho(t,e):n}function so(t,e){return t instanceof po?li(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var uo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dr(e,t),e}(io),co=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return dr(e,t),e}(io);function lo(t,e){for(var n=go(e),r=function(t){n.some((function(e){return ri(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var fo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return dr(e,t),e}(io);function ho(t,e){for(var n=go(e),r=function(t){n=n.filter((function(e){return!ri(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var po=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return dr(e,t),e}(io);function vo(t){return zr(t.integerValue||t.doubleValue)}function go(t){return fi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var mo=function(t,e){this.field=t,this.transform=e},yo=function(t,e){this.version=t,this.transformResults=e},bo=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function wo(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var _o=function(){};function Io(t,e,n){t instanceof ko?function(t,e,n){var r=t.value.clone(),i=No(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof xo?function(t,e,n){if(wo(t.precondition,e)){var r=No(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Ao(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Eo(t,e,n){t instanceof ko?function(t,e,n){if(wo(t.precondition,e)){var r=t.value.clone(),i=Po(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Co(e),r).setHasLocalMutations()}}(t,e,n):t instanceof xo?function(t,e,n){if(wo(t.precondition,e)){var r=Po(t.fieldTransforms,n,e),i=e.data;i.setAll(Ao(t)),i.setAll(r),e.convertToFoundDocument(Co(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){wo(t.precondition,e)&&e.convertToNoDocument(Mr.min())}(t,e)}function To(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=so(o.transform,a||null);null!=s&&(null==n&&(n=vi.empty()),n.set(o.field,s))}return n||null}function So(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Or(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof co&&e instanceof co||t instanceof fo&&e instanceof fo?Or(t.elements,e.elements,ri):t instanceof po&&e instanceof po?ri(t.A,e.A):t instanceof uo&&e instanceof uo}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Co(t){return t.isFoundDocument()?t.version:Mr.min()}var ko=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return dr(e,t),e}(_o),xo=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return dr(e,t),e}(_o);function Ao(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function No(t,e,n){var r=new Map;kr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,ao(a,s,n[i]))}return r}function Po(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,oo(s,u,e))}return r}var Oo,Do,Ro=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return dr(e,t),e}(_o),Mo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return dr(e,t),e}(_o),Lo=function(t){this.count=t};function jo(t){switch(t){case yr.OK:return Cr();case yr.CANCELLED:case yr.UNKNOWN:case yr.DEADLINE_EXCEEDED:case yr.RESOURCE_EXHAUSTED:case yr.INTERNAL:case yr.UNAVAILABLE:case yr.UNAUTHENTICATED:return!1;case yr.INVALID_ARGUMENT:case yr.NOT_FOUND:case yr.ALREADY_EXISTS:case yr.PERMISSION_DENIED:case yr.FAILED_PRECONDITION:case yr.ABORTED:case yr.OUT_OF_RANGE:case yr.UNIMPLEMENTED:case yr.DATA_LOSS:return!0;default:return Cr()}}function Fo(t){if(void 0===t)return Er("GRPC error has no .code"),yr.UNKNOWN;switch(t){case Oo.OK:return yr.OK;case Oo.CANCELLED:return yr.CANCELLED;case Oo.UNKNOWN:return yr.UNKNOWN;case Oo.DEADLINE_EXCEEDED:return yr.DEADLINE_EXCEEDED;case Oo.RESOURCE_EXHAUSTED:return yr.RESOURCE_EXHAUSTED;case Oo.INTERNAL:return yr.INTERNAL;case Oo.UNAVAILABLE:return yr.UNAVAILABLE;case Oo.UNAUTHENTICATED:return yr.UNAUTHENTICATED;case Oo.INVALID_ARGUMENT:return yr.INVALID_ARGUMENT;case Oo.NOT_FOUND:return yr.NOT_FOUND;case Oo.ALREADY_EXISTS:return yr.ALREADY_EXISTS;case Oo.PERMISSION_DENIED:return yr.PERMISSION_DENIED;case Oo.FAILED_PRECONDITION:return yr.FAILED_PRECONDITION;case Oo.ABORTED:return yr.ABORTED;case Oo.OUT_OF_RANGE:return yr.OUT_OF_RANGE;case Oo.UNIMPLEMENTED:return yr.UNIMPLEMENTED;case Oo.DATA_LOSS:return yr.DATA_LOSS;default:return Cr()}}(Do=Oo||(Oo={}))[Do.OK=0]="OK",Do[Do.CANCELLED=1]="CANCELLED",Do[Do.UNKNOWN=2]="UNKNOWN",Do[Do.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Do[Do.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Do[Do.NOT_FOUND=5]="NOT_FOUND",Do[Do.ALREADY_EXISTS=6]="ALREADY_EXISTS",Do[Do.PERMISSION_DENIED=7]="PERMISSION_DENIED",Do[Do.UNAUTHENTICATED=16]="UNAUTHENTICATED",Do[Do.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Do[Do.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Do[Do.ABORTED=10]="ABORTED",Do[Do.OUT_OF_RANGE=11]="OUT_OF_RANGE",Do[Do.UNIMPLEMENTED=12]="UNIMPLEMENTED",Do[Do.INTERNAL=13]="INTERNAL",Do[Do.UNAVAILABLE=14]="UNAVAILABLE",Do[Do.DATA_LOSS=15]="DATA_LOSS";var Uo=function(){function t(t,e){this.comparator=t,this.root=e||Bo.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bo.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bo.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new qo(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new qo(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new qo(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new qo(this.root,t,this.comparator,!0)},t}(),qo=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Bo=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Cr();if(this.right.isRed())throw Cr();var t=this.left.check();if(t!==this.right.check())throw Cr();return t+(this.isRed()?0:1)},t}();Bo.EMPTY=null,Bo.RED=!0,Bo.BLACK=!1,Bo.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Cr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Cr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Cr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Cr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Cr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Bo(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Vo=function(){function t(t){this.comparator=t,this.data=new Uo(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Ho(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Ho(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Ho=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Ko=new Uo(ei.comparator);function Wo(){return Ko}var Go=new Uo(ei.comparator);function zo(){return Go}var Yo=new Uo(ei.comparator);function Qo(){return Yo}var Xo=new Vo(ei.comparator);function Jo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Xo,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var $o=new Vo(Pr);function Zo(){return $o}var ta=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,ea.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Mr.min(),r,Zo(),Wo(),Jo())},t}(),ea=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Kr.EMPTY_BYTE_STRING,n,Jo(),Jo(),Jo())},t}(),na=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},ra=function(t,e){this.targetId=t,this.V=e},ia=function(t,e,n,r){void 0===n&&(n=Kr.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},oa=function(){function t(){this.S=0,this.D=ua(),this.C=Kr.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Jo(),e=Jo(),n=Jo();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Cr()}})),new ea(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=ua()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),aa=function(){function t(t){this.W=t,this.G=new Map,this.H=Wo(),this.J=sa(),this.Y=new Vo(Pr)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Cr()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Ii(i))if(0===n){var o=new ei(i.path);this.tt(e,o,mi.newNoDocument(o,Mr.min()))}else kr(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.at=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Ii(o.target)){var a=new ei(o.target.path);null!==e.H.get(a)||e.ut(i,a)||e.tt(i,a,mi.newNoDocument(a,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=Jo();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ta(t,n,this.Y,this.H,r);return this.H=Wo(),this.J=sa(),this.Y=new Vo(Pr),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.ut(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.ut(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new oa,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Vo(Pr),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Ir("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new oa),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.ut=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function sa(){return new Uo(ei.comparator)}function ua(){return new Uo(ei.comparator)}var ca={asc:"ASCENDING",desc:"DESCENDING"},la={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fa=function(t,e){this.databaseId=t,this.I=e};function ha(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function da(t,e){return t.I?e.toBase64():e.toUint8Array()}function pa(t,e){return ha(t,e.toTimestamp())}function va(t){return kr(!!t),Mr.fromTimestamp(function(t){var e=Gr(t);return new Rr(e.seconds,e.nanos)}(t))}function ga(t,e){return function(t){return new qr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function ma(t){var e=qr.fromString(t);return kr(Ba(e)),e}function ya(t,e){return ga(t.databaseId,e.path)}function ba(t,e){var n=ma(e);if(n.get(1)!==t.databaseId.projectId)throw new br(yr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new br(yr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ei(Ea(n))}function wa(t,e){return ga(t.databaseId,e)}function _a(t){var e=ma(t);return 4===e.length?qr.emptyPath():Ea(e)}function Ia(t){return new qr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ea(t){return kr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ta(t,e,n){return{name:ya(t,e),fields:n.toProto().mapValue.fields}}function Sa(t,e,n){var r=ba(t,e.name),i=va(e.updateTime),o=new vi({mapValue:{fields:e.fields}}),a=mi.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ca(t,e){var n;if(e instanceof ko)n={update:Ta(t,e.key,e.value)};else if(e instanceof Ro)n={delete:ya(t,e.key)};else if(e instanceof xo)n={update:Ta(t,e.key,e.data),updateMask:qa(e.fieldMask)};else{if(!(e instanceof Mo))return Cr();n={verify:ya(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof uo)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof co)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fo)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof po)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Cr()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:pa(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Cr()}(t,e.precondition)),n}function ka(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?bo.updateTime(va(t.updateTime)):void 0!==t.exists?bo.exists(t.exists):bo.none()}(e.currentDocument):bo.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)kr("REQUEST_TIME"===e.setToServerValue),n=new uo;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new co(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new fo(i)}else"increment"in e?n=new po(t,e.increment):Cr();var o=Vr.fromServerFormat(e.fieldPath);return new mo(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=ba(t,e.update.name),o=new vi({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new Hr(e.map((function(t){return Vr.fromServerFormat(t)})))}(e.updateMask);return new xo(i,o,a,n,r)}return new ko(i,o,n,r)}if(e.delete){var s=ba(t,e.delete);return new Ro(s,n)}if(e.verify){var u=ba(t,e.verify);return new Mo(u,n)}return Cr()}function xa(t,e){return{documents:[wa(t,e.path)]}}function Aa(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=wa(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wa(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(di(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NAN"}};if(hi(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(di(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NOT_NAN"}};if(hi(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(t.field),op:Ma(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:La(t.field),direction:Ra(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||$r(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Oa(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Oa(e.endAt)),n}function Na(t){var e=_a(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){kr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Pa(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Ri(ja(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return $r(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Da(n.startAt));var l=null;return n.endAt&&(l=Da(n.endAt)),Ui(e,i,s,a,u,"F",c,l)}function Pa(t){return t?void 0!==t.unaryFilter?[Ua(t)]:void 0!==t.fieldFilter?[Fa(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Pa(t)})).reduce((function(t,e){return t.concat(e)})):Cr():[]}function Oa(t){return{before:t.before,values:t.position}}function Da(t){var e=!!t.before,n=t.values||[];return new Oi(n,e)}function Ra(t){return ca[t]}function Ma(t){return la[t]}function La(t){return{fieldPath:t.canonicalString()}}function ja(t){return Vr.fromServerFormat(t.fieldPath)}function Fa(t){return Ei.create(ja(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Cr()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ua(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ja(t.unaryFilter.field);return Ei.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ja(t.unaryFilter.field);return Ei.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ja(t.unaryFilter.field);return Ei.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ja(t.unaryFilter.field);return Ei.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Cr()}}function qa(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Ba(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Va(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ka(e)),e=Ha(t.get(n),e);return Ka(e)}function Ha(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Ka(t){return t+""}function Wa(t){var e=t.length;if(kr(e>=2),2===e)return kr(""===t.charAt(0)&&""===t.charAt(1)),qr.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&Cr(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:Cr()}o=a+2}return new qr(r)}var Ga=function(t,e){this.seconds=t,this.nanoseconds=e},za=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};za.store="owner",za.key="owner";var Ya=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ya.store="mutationQueues",Ya.keyPath="userId";var Qa=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Qa.store="mutations",Qa.keyPath="batchId",Qa.userMutationsIndex="userMutationsIndex",Qa.userMutationsKeyPath=["userId","batchId"];var Xa=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Va(e)]},t.key=function(t,e,n){return[t,Va(e),n]},t}();Xa.store="documentMutations",Xa.PLACEHOLDER=new Xa;var Ja=function(t,e){this.path=t,this.readTime=e},$a=function(t,e){this.path=t,this.version=e},Za=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Za.store="remoteDocuments",Za.readTimeIndex="readTimeIndex",Za.readTimeIndexPath="readTime",Za.collectionReadTimeIndex="collectionReadTimeIndex",Za.collectionReadTimeIndexPath=["parentPath","readTime"];var ts=function(t){this.byteSize=t};ts.store="remoteDocumentGlobal",ts.key="remoteDocumentGlobalKey";var es=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};es.store="targets",es.keyPath="targetId",es.queryTargetsIndexName="queryTargetsIndex",es.queryTargetsKeyPath=["canonicalId","targetId"];var ns=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ns.store="targetDocuments",ns.keyPath=["targetId","path"],ns.documentTargetsIndex="documentTargetsIndex",ns.documentTargetsKeyPath=["path","targetId"];var rs=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};rs.key="targetGlobalKey",rs.store="targetGlobal";var is=function(t,e){this.collectionId=t,this.parent=e};is.store="collectionParents",is.keyPath=["collectionId","parent"];var os=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};os.store="clientMetadata",os.keyPath="clientId";var as=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};as.store="bundles",as.keyPath="bundleId";var ss=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ss.store="namedQueries",ss.keyPath="name";var us=gr(gr([],gr(gr([],gr(gr([],gr(gr([],[Ya.store,Qa.store,Xa.store,Za.store,es.store,za.store,rs.store,ns.store]),[os.store])),[ts.store])),[is.store])),[as.store,ss.store]),cs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ls=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),fs=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},hs=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Cr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),ds=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new fs,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new gs(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=_s(e.target.error);n.ft.reject(new gs(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new gs(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Ir("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ys(e)},t}(),ps=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,i.getUA)())&&Er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ir("SimpleDb","Removing database:",t),bs(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,i.getUA)(),n=t._t(e),r=0<n&&n<10,o=t.Et(e),a=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return pr(this,void 0,void 0,(function(){var e,n=this;return vr(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Ir("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new gs(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new br(yr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new gs(t,n))},i.onupgradeneeded=function(t){Ir("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){Ir("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return pr(this,void 0,void 0,(function(){var i,o,a,s,u;return vr(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return vr(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=f.sent(),e=ds.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),hs.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,Ir("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),vs=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return bs(this.Pt.delete())},t}(),gs=function(t){function e(e,n){var r=this;return(r=t.call(this,yr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return dr(e,t),e}(br);function ms(t){return"IndexedDbTransactionError"===t.name}var ys=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ir("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ir("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),bs(n)},t.prototype.add=function(t){return Ir("SimpleDb","ADD",this.store.name,t,t),bs(this.store.add(t))},t.prototype.get=function(t){var e=this;return bs(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Ir("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Ir("SimpleDb","DELETE",this.store.name,t),bs(this.store.delete(t))},t.prototype.count=function(){return Ir("SimpleDb","COUNT",this.store.name),bs(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){Ir("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new hs((function(n,r){e.onerror=function(t){var e=_s(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new hs((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new vs(i),a=e(i.primaryKey,i.value,o);if(a instanceof hs){var s=a.catch((function(t){return o.done(),hs.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return hs.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function bs(t){return new hs((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=_s(t.target.error);n(e)}}))}var ws=!1;function _s(t){var e=ps._t((0,i.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new br("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ws||(ws=!0,setTimeout((function(){throw r}),0)),r}}return t}var Is=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return dr(e,t),e}(ls);function Es(t,e){var n=xr(t);return ps.It(n.Mt,e)}var Ts=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Io(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Eo(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Eo(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Mr.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Jo())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Or(this.mutations,t.mutations,(function(t,e){return So(t,e)}))&&Or(this.baseMutations,t.baseMutations,(function(t,e){return So(t,e)}))},t}(),Ss=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){kr(e.mutations.length===r.length);for(var i=Qo(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Cs=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Mr.min()),void 0===o&&(o=Mr.min()),void 0===a&&(a=Kr.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),ks=function(t){this.Lt=t};function xs(t,e){if(e.document)return Sa(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ei.fromSegments(e.noDocument.path),r=Ds(e.noDocument.readTime),i=mi.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=ei.fromSegments(e.unknownDocument.path);return r=Ds(e.unknownDocument.version),mi.newUnknownDocument(o,r)}return Cr()}function As(t,e,n){var r=Ns(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:ya(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:ha(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Za(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=Os(e.version);return a=e.hasCommittedMutations,new Za(null,new Ja(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Os(e.version);return new Za(new $a(c,l),null,null,!0,r,i)}return Cr()}function Ns(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ps(t){var e=new Rr(t[0],t[1]);return Mr.fromTimestamp(e)}function Os(t){var e=t.toTimestamp();return new Ga(e.seconds,e.nanoseconds)}function Ds(t){var e=new Rr(t.seconds,t.nanoseconds);return Mr.fromTimestamp(e)}function Rs(t,e){for(var n=(e.baseMutations||[]).map((function(e){return ka(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return ka(t.Lt,e)})),s=Rr.fromMillis(e.localWriteTimeMs);return new Ts(e.batchId,s,n,a)}function Ms(t){var e,n,r=Ds(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ds(t.lastLimboFreeSnapshotVersion):Mr.min();return void 0!==t.query.documents?(kr(1===(n=t.query).documents.length),e=zi(qi(_a(n.documents[0])))):e=function(t){return zi(Na(t))}(t.query),new Cs(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Kr.fromBase64String(t.resumeToken))}function Ls(t,e){var n,r=Os(e.snapshotVersion),i=Os(e.lastLimboFreeSnapshotVersion);n=Ii(e.target)?xa(t.Lt,e.target):Aa(t.Lt,e.target);var o=e.resumeToken.toBase64();return new es(e.targetId,wi(e.target),r,o,e.sequenceNumber,i,n)}function js(t){var e=Na({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Yi(e,e.limit,"L"):e}var Fs=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Us(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Ds(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Us(t).put({bundleId:(n=e).id,createTime:Os(va(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return qs(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:js(e.bundledQuery),readTime:Ds(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return qs(t).put(function(t){return{name:t.name,readTime:Os(va(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Us(t){return Es(t,as.store)}function qs(t){return Es(t,ss.store)}var Bs=function(){function t(){this.Bt=new Vs}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),hs.resolve()},t.prototype.getCollectionParents=function(t,e){return hs.resolve(this.Bt.getEntries(e))},t}(),Vs=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Vo(qr.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Vo(qr.comparator)).toArray()},t}(),Hs=function(){function t(){this.qt=new Vs}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Va(i)};return Ks(t).put(o)}return hs.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Dr(e),""],!1,!0);return Ks(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Wa(o.parent))}return n}))},t}();function Ks(t){return Es(t,is.store)}var Ws={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gs=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function zs(t,e,n){var r=t.store(Qa.store),i=t.store(Xa.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){kr(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Xa.key(e,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return hs.waitFor(o).next((function(){return c}))}function Ys(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Cr();e=t.noDocument}return JSON.stringify(e).length}Gs.DEFAULT_COLLECTION_PERCENTILE=10,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gs.DEFAULT=new Gs(41943040,Gs.DEFAULT_COLLECTION_PERCENTILE,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gs.DISABLED=new Gs(-1,0,0);var Qs=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return kr(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Js(t).Ot({index:Qa.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=$s(t),a=Js(t);return a.add({}).next((function(s){kr("number"==typeof s);for(var u=new Ts(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Ca(t.Lt,e)})),i=n.mutations.map((function(e){return Ca(t.Lt,e)}));return new Qa(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new Vo((function(t,e){return Pr(t.canonicalString(),e.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=Xa.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Xa.PLACEHOLDER))}return f.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),hs.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Js(t).get(e).next((function(t){return t?(kr(t.userId===n.userId),Rs(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?hs.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Js(t).Ot({index:Qa.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(kr(e.batchId>=r),o=Rs(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Js(t).Ot({index:Qa.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Js(t).Nt(Qa.userMutationsIndex,n).next((function(t){return t.map((function(t){return Rs(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Xa.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return $s(t).Ot({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Wa(u);if(s===n.userId&&e.path.isEqual(l))return Js(t).get(c).next((function(t){if(!t)throw Cr();kr(t.userId===n.userId),o.push(Rs(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Vo(Pr),i=[];return e.forEach((function(e){var o=Xa.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=$s(t).Ot({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=Wa(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),hs.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Xa.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Vo(Pr);return $s(t).Ot({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=Wa(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Js(t).get(e).next((function(t){if(null===t)throw Cr();kr(t.userId===n.userId),r.push(Rs(n.R,t))})))})),hs.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return zs(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),hs.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return hs.resolve();var r=IDBKeyRange.lowerBound(Xa.prefixForUser(e.userId)),i=[];return $s(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Wa(t[1]);i.push(o)}else r.done()})).next((function(){kr(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Xs(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Zs(t).get(this.userId).next((function(t){return t||new Ya(e.userId,-1,"")}))},t}();function Xs(t,e,n){var r=Xa.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return $s(t).Ot({range:o,kt:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Js(t){return Es(t,Qa.store)}function $s(t){return Es(t,Xa.store)}function Zs(t){return Es(t,Ya.store)}var tu=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),eu=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new tu(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Mr.fromTimestamp(new Rr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return nu(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return kr(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return nu(t).Ot((function(a,s){var u=Ms(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return hs.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return nu(t).Ot((function(t,n){var r=Ms(n);e(r)}))},t.prototype.Xt=function(t){return ru(t).get(rs.key).next((function(t){return kr(null!==t),t}))},t.prototype.Zt=function(t,e){return ru(t).put(rs.key,e)},t.prototype.te=function(t,e){return nu(t).put(Ls(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=wi(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return nu(t).Ot({range:r,index:es.queryTargetsIndexName},(function(t,n,r){var o=Ms(n);_i(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=iu(t);return e.forEach((function(e){var a=Va(e.path);i.push(o.put(new ns(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),hs.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=iu(t);return hs.forEach(e,(function(e){var o=Va(e.path);return hs.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=iu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=iu(t),i=Jo();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=Wa(t[1]),o=new ei(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Va(e.path),r=IDBKeyRange.bound([n],[Dr(n)],!1,!0),i=0;return iu(t).Ot({index:ns.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return nu(t).get(e).next((function(t){return t?Ms(t):null}))},t}();function nu(t){return Es(t,es.store)}function ru(t){return Es(t,rs.store)}function iu(t){return Es(t,ns.store)}function ou(t){return pr(this,void 0,void 0,(function(){return vr(this,(function(e){if(t.code!==yr.FAILED_PRECONDITION||t.message!==cs)throw t;return Ir("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function au(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Pr(n,i);return 0===a?Pr(r,o):a}var su=function(){function t(t){this.ne=t,this.buffer=new Vo(au),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();au(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),uu=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ae(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ae=function(t){var e=this,n=this.oe?3e5:6e4;Ir("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return pr(e,void 0,void 0,(function(){var e;return vr(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ms(e=n.sent())?(Ir("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ou(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ae(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),cu=function(){function t(t,e){this.ue=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ue.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return hs.resolve(mr.o);var r=new su(e);return this.ue.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ue.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ue.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ue.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ir("LruGarbageCollector","Garbage collection skipped; disabled"),hs.resolve(Ws)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ir("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ws):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ue.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,a,s,u,c,l=this,f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>l.params.maximumSequenceNumbersToCollect?(Ir("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,a=Date.now(),l.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),l.removeTargets(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.removeOrphanedDocuments(t,n)})).next((function(t){return c=Date.now(),_r()<=o.LogLevel.DEBUG&&Ir("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-f)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-f)+"ms"),hs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),lu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new cu(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return fu(t,n)},t.prototype.removeReference=function(t,e,n){return fu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return fu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Zs(t).$t((function(r){return Xs(t,r,e).next((function(t){return t&&(n=!0),hs.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),iu(t).delete([0,Va(a.path)])}))}));i.push(u)}})).next((function(){return hs.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return fu(t,e)},t.prototype.we=function(t,e){var n,r=iu(t),i=mr.o;return r.Ot({index:ns.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==mr.o&&e(new ei(Wa(n)),i),i=s,n=a):i=mr.o})).next((function(){i!==mr.o&&e(new ei(Wa(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function fu(t,e){return iu(t).put(function(t,e){return new ns(0,Va(t.path),e)}(e,t.currentSequenceNumber))}var hu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){jr(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return Fr(this.inner)},t}(),du=function(){function t(){this.changes=new hu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Mr.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:mi.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?hs.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),pu=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return mu(t).put(yu(e),n)},t.prototype.removeEntry=function(t,e){var n=mu(t),r=yu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return mu(t).get(yu(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return mu(t).get(yu(e)).next((function(t){return{document:n.ye(e,t),size:Ys(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Wo();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Wo(),i=new Uo(ei.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Ys(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return hs.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return mu(t).Ot({range:r},(function(t,e,r){for(var a=ei.fromSegments(t);o&&ei.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Wo(),o=e.path.length+1,a={};if(n.isEqual(Mr.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=Ns(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Za.collectionReadTimeIndex}return mu(t).Ot(a,(function(t,n,a){if(t.length===o){var s=xs(r.R,n);e.path.isPrefixOf(s.key.path)?$i(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new vu(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return gu(t).get(ts.key).next((function(t){return kr(!!t),t}))},t.prototype.me=function(t,e){return gu(t).put(ts.key,e)},t.prototype.ye=function(t,e){if(e){var n=xs(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Mr.min()))return n}return mi.newInvalidDocument(t)},t}(),vu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new hu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return dr(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Vo((function(t,e){return Pr(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=As(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Ys(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=As(e.Ie.R,mi.newNoDocument(o,Mr.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),hs.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(du);function gu(t){return Es(t,ts.store)}function mu(t){return Es(t,Za.store)}function yu(t){return t.path.toArray()}var bu=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;kr(n<r&&n>=0&&r<=11);var o=new ds("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(za.store)}(t),function(t){t.createObjectStore(Ya.store,{keyPath:Ya.keyPath}),t.createObjectStore(Qa.store,{keyPath:Qa.keyPath,autoIncrement:!0}).createIndex(Qa.userMutationsIndex,Qa.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Xa.store)}(t),wu(t),function(t){t.createObjectStore(Za.store)}(t));var a=hs.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ns.store),t.deleteObjectStore(es.store),t.deleteObjectStore(rs.store)}(t),wu(t)),a=a.next((function(){return function(t){var e=t.store(rs.store),n=new rs(0,0,Mr.min().toTimestamp(),0);return e.put(rs.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Qa.store).Nt().next((function(n){t.deleteObjectStore(Qa.store),t.createObjectStore(Qa.store,{keyPath:Qa.keyPath,autoIncrement:!0}).createIndex(Qa.userMutationsIndex,Qa.userMutationsKeyPath,{unique:!0});var r=e.store(Qa.store),i=n.map((function(t){return r.put(t)}));return hs.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(os.store,{keyPath:os.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(ts.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Za.store);e.createIndex(Za.readTimeIndex,Za.readTimeIndexPath,{unique:!1}),e.createIndex(Za.collectionReadTimeIndex,Za.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(as.store,{keyPath:as.keyPath})}(t),function(t){t.createObjectStore(ss.store,{keyPath:ss.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(Za.store).Ot((function(t,n){e+=Ys(n)})).next((function(){var n=new ts(e);return t.store(ts.store).put(ts.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Ya.store),r=t.store(Qa.store);return n.Nt().next((function(n){return hs.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Qa.userMutationsIndex,i).next((function(r){return hs.forEach(r,(function(r){kr(r.userId===n.userId);var i=Rs(e.R,r);return zs(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(ns.store),n=t.store(Za.store);return t.store(rs.store).get(rs.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new qr(n),a=function(t){return[0,Va(t)]}(o);r.push(e.get(a).next((function(n){return n?hs.resolve():function(n){return e.put(new ns(0,Va(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return hs.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(is.store,{keyPath:is.keyPath});var n=e.store(is.store),r=new Vs,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Va(i)})}};return e.store(Za.store).Ot({kt:!0},(function(t,e){var n=new qr(t);return i(n.popLast())})).next((function(){return e.store(Xa.store).Ot({kt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Wa(n));return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(es.store);return n.Ot((function(t,r){var i=Ms(r),o=Ls(e.R,i);return n.put(o)}))},t}();function wu(t){t.createObjectStore(ns.store,{keyPath:ns.keyPath}).createIndex(ns.documentTargetsIndex,ns.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(es.store,{keyPath:es.keyPath}).createIndex(es.queryTargetsIndexName,es.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(rs.store)}var _u="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Iu=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new br(yr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lu(this,i),this.Le=n+"main",this.R=new ks(u),this.Be=new ps(this.Le,11,new bu(this.R)),this.qe=new eu(this.referenceDelegate,this.R),this.Ut=new Hs,this.Ue=function(t,e){return new pu(t,e)}(this.R,this.Ut),this.Qe=new Fs,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new br(yr.FAILED_PRECONDITION,_u);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new mr(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return pr(e,void 0,void 0,(function(){return vr(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return pr(e,void 0,void 0,(function(){return vr(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return pr(e,void 0,void 0,(function(){return vr(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Tu(e).put(new os(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(ms(e))return Ir("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ir("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Eu(t).get(za.key).next((function(t){return hs.resolve(e.tn(t))}))},t.prototype.en=function(t){return Tu(t).delete(this.clientId)},t.prototype.nn=function(){return pr(this,void 0,void 0,(function(){var t,e,n,r,i=this;return vr(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Es(t,os.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return hs.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?hs.resolve(!0):Eu(t).get(za.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new br(yr.FAILED_PRECONDITION,_u);return!1}}return!(!e.networkEnabled||!e.inForeground)||Tu(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Ir("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return pr(this,void 0,void 0,(function(){var t=this;return vr(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.an(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.un(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[za.store,os.store],(function(e){var n=new Is(e,mr.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Tu(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Qs.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Ir("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,us,(function(o){return i=new Is(o,r.Ne?r.Ne.next():mr.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw Er("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new br(yr.FAILED_PRECONDITION,cs);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Eu(t).get(za.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new br(yr.FAILED_PRECONDITION,_u)}))},t.prototype.Ze=function(t){var e=new za(this.clientId,this.allowTabSynchronization,Date.now());return Eu(t).put(za.key,e)},t.yt=function(){return ps.yt()},t.prototype.Xe=function(t){var e=this,n=Eu(t);return n.get(za.key).next((function(t){return e.tn(t)?(Ir("IndexedDbPersistence","Releasing primary lease."),n.delete(za.key)):hs.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Er("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.un=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.an(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Ir("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Er("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.an=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Er("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Eu(t){return Es(t,za.store)}function Tu(t){return Es(t,os.store)}function Su(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Cu=function(t,e){this.progress=t,this.wn=e},ku=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ei.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Wi(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ei(e)).next((function(t){var e=zo();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=zo();return this.Ut.getCollectionParents(t,i).next((function(a){return hs.forEach(a,(function(a){var s=function(t,e){return new Fi(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=mi.newInvalidDocument(c),r=r.insert(c,l)),Eo(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){$i(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Jo(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof xo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),xu=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Jo(),i=Jo(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Au=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Mr.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(a){var s=i.Cn(e,a);return(Bi(e)||Vi(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(_r()<=o.LogLevel.DEBUG&&Ir("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ji(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Vo(Zi(t));return e.forEach((function(e,r){$i(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return _r()<=o.LogLevel.DEBUG&&Ir("QueryEngine","Using full collection scan to execute query:",Ji(e)),this.Sn.getDocumentsMatchingQuery(t,e,Mr.min())},t}(),Nu=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Uo(Pr),this.kn=new hu((function(t){return wi(t)}),_i),this.On=Mr.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new ku(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();function Pu(t,e,n,r){return new Nu(t,e,n,r)}function Ou(t,e){return pr(this,void 0,void 0,(function(){var n,r,i,o;return vr(this,(function(a){switch(a.label){case 0:return n=xr(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new ku(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=Jo(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=e;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];a=a.add(y.key)}}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Du(t,e){var n=xr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=hs.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);kr(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function Ru(t){var e=xr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Mu(t,e){var n=xr(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return kr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}}));var s=Wo();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(Lu(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(Mr.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return hs.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.Fn=i,t}))}function Lu(t,e,n,r,i){var o=Jo();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Wo();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Mr.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Ir("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function ju(t,e){var n=xr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Fu(t,e){var n=xr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,hs.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new Cs(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function Uu(t,e,n){return pr(this,void 0,void 0,(function(){var r,i,o,a;return vr(this,(function(s){switch(s.label){case 0:r=xr(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!ms(a=s.sent()))throw a;return Ir("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function qu(t,e,n){var r=xr(t),i=Mr.min(),o=Jo();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=xr(t),i=r.kn.get(n);return void 0!==i?hs.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,zi(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Mr.min(),n?o:Jo())})).next((function(t){return{documents:t,Bn:o}}))}))}function Bu(t,e){var n=xr(t),r=xr(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Vu(t){var e=xr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=xr(t),i=Wo(),o=Ns(n),a=mu(e),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:Za.readTimeIndex,range:s},(function(t,e){var n=xs(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Ps(o)}}))}(e.$n,t,e.On)})).then((function(t){var n=t.wn,r=t.readTime;return e.On=r,n}))}function Hu(t){return pr(this,void 0,void 0,(function(){var e;return vr(this,(function(n){return[2,(e=xr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=mu(t),n=Mr.min();return e.Ot({index:Za.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Ps(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.On=t}))]}))}))}function Ku(t,e,n,r){return pr(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,h,d;return vr(this,(function(p){switch(p.label){case 0:for(i=xr(t),o=Jo(),a=Wo(),s=Qo(),u=0,c=n;u<c.length;u++)l=c[u],f=e.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,e.Un(l)),s=s.insert(f,e.Qn(l.metadata.readTime));return h=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Fu(i,function(t){return zi(qi(qr.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Lu(t,h,a,Mr.min(),s).next((function(e){return h.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.qe.addMatchingKeys(t,o,d.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Wu(t,e,n){return void 0===n&&(n=Jo()),pr(this,void 0,void 0,(function(){var r,i;return vr(this,(function(o){switch(o.label){case 0:return[4,Fu(t,zi(js(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=xr(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=va(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var a=r.withResumeToken(Kr.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(t,e)}))}))]}}))}))}var Gu=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return hs.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:va(n.createTime)}),hs.resolve()},t.prototype.getNamedQuery=function(t,e){return hs.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:js(t.bundledQuery),readTime:va(t.readTime)}}(e)),hs.resolve()},t}(),zu=function(){function t(){this.Wn=new Vo(Yu.Gn),this.zn=new Vo(Yu.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Yu(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Yu(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new ei(new qr([])),r=new Yu(n,t),i=new Yu(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ei(new qr([])),n=new Yu(e,t),r=new Yu(e,t+1),i=Jo();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Yu(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Yu=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ei.comparator(t.key,e.key)||Pr(t.ns,e.ns)},t.Hn=function(t,e){return Pr(t.ns,e.ns)||ei.comparator(t.key,e.key)},t}(),Qu=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Vo(Yu.Gn)}return t.prototype.checkEmpty=function(t){return hs.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Ts(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Yu(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return hs.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return hs.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return hs.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return hs.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return hs.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Yu(e,0),i=new Yu(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),hs.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Vo(Pr);return e.forEach((function(t){var e=new Yu(t,0),i=new Yu(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),hs.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ei.isDocumentKey(i)||(i=i.child(""));var o=new Yu(new ei(i),0),a=new Vo(Pr);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),hs.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;kr(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return hs.forEach(e.mutations,(function(i){var o=new Yu(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Yu(e,0),r=this.rs.firstAfterOrEqual(n);return hs.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,hs.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Xu=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Uo(ei.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return hs.resolve(n?n.document.clone():mi.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Wo();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():mi.newInvalidDocument(t))})),hs.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Wo(),i=new ei(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||$i(e,c)&&(r=r.insert(c.key,c.clone()))}return hs.resolve(r)},t.prototype.fs=function(t,e){return hs.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Ju(this)},t.prototype.getSize=function(t){return hs.resolve(this.size)},t}(),Ju=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return dr(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),hs.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(du),$u=function(){function t(t){this.persistence=t,this.ds=new hu((function(t){return wi(t)}),_i),this.lastRemoteSnapshotVersion=Mr.min(),this.highestTargetId=0,this.ws=0,this._s=new zu,this.targetCount=0,this.ys=tu.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),hs.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return hs.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return hs.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),hs.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),hs.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new tu(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,hs.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),hs.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,hs.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),hs.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return hs.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return hs.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),hs.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),hs.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),hs.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return hs.resolve(n)},t.prototype.containsKey=function(t,e){return hs.resolve(this._s.containsKey(e))},t}(),Zu=function(){function t(t,e){var n=this;this.gs={},this.Ne=new mr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new $u(this),this.Ut=new Bs,this.Ue=function(t,e){return new Xu(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new ks(e),this.Qe=new Gu(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Qu(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Ir("MemoryPersistence","Starting transaction:",t);var i=new tc(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return hs.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),tc=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return dr(e,t),e}(ls),ec=function(){function t(t){this.persistence=t,this.As=new zu,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Cr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),hs.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),hs.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),hs.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hs.forEach(this.vs,(function(r){var i=ei.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return hs.or([function(){return hs.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),nc=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function rc(t,e){return"firestore_clients_"+t+"_"+e}function ic(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function oc(t,e){return"firestore_targets_"+t+"_"+e}nc.UNAUTHENTICATED=new nc(null),nc.GOOGLE_CREDENTIALS=new nc("google-credentials-uid"),nc.FIRST_PARTY=new nc("first-party-uid");var ac=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new br(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Er("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),sc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new br(i.error.code,i.error.message)),o?new t(e,i.state,r):(Er("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),uc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Zo(),a=0;i&&a<r.activeTargetIds.length;++a)i=ti(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Er("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),cc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Er("SharedClientState","Failed to parse online state: "+e),null)},t}(),lc=function(){function t(){this.activeTargetIds=Zo()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),fc=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Uo(Pr),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=rc(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new lc),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return pr(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l,f=this;return vr(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(rc(this.persistenceKey,r)))&&(o=uc.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)l=c[u],this.Fs(l);return this.Os=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(oc(this.persistenceKey,t));if(n){var r=sc.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(oc(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ir("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ir("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ir("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ir("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return pr(e,void 0,void 0,(function(){var t,e,r,i,o,a;return vr(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=mr.o;if(null!=t)try{var n=JSON.parse(t);kr("number"==typeof n),e=n}catch(t){Er("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==mr.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new ac(this.currentUser,t,e,n),i=ic(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=ic(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=oc(this.persistenceKey,t),i=new sc(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return uc.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ac.Vs(new nc(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return sc.Vs(r,e)},t.prototype.js=function(t){return cc.Vs(t)},t.prototype.ii=function(t){return pr(this,void 0,void 0,(function(){return vr(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ai(t.batchId,t.state,t.error)]:(Ir("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ui(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Zo();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),hc=function(){function t(){this.li=new lc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new lc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),dc=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),pc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Ir("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Ir("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),vc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},gc=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),mc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return dr(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var a=new fr;a.listenOnce(ar.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case or.NO_ERROR:var e=a.getResponseJson();Ir("Connection","XHR received:",JSON.stringify(e)),i(e);break;case or.TIMEOUT:Ir("Connection",'RPC "'+t+'" timed out'),o(new br(yr.DEADLINE_EXCEEDED,"Request time out"));break;case or.HTTP_ERROR:var n=a.getStatus();if(Ir("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(yr).indexOf(e)>=0?e:yr.UNKNOWN}(r.status);o(new br(s,r.message))}else o(new br(yr.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new br(yr.UNAVAILABLE,"Connection failed."));break;default:Cr()}}finally{Ir("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new tr,o=ee(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(a.initMessageHeaders,e),(0,i.isMobileCordova)()||(0,i.isReactNative)()||(0,i.isElectron)()||(0,i.isIE)()||(0,i.isUWP)()||(0,i.isBrowserExtension)()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Ir("Connection","Creating WebChannel: "+s,a);var u=r.createWebChannel(s,a),c=!1,l=!1,f=new gc({Ei:function(t){l?Ir("Connection","Not sending because WebChannel is closed:",t):(c||(Ir("Connection","Opening WebChannel transport."),u.open(),c=!0),Ir("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(u,lr.EventType.OPEN,(function(){l||Ir("Connection","WebChannel transport opened.")})),h(u,lr.EventType.CLOSE,(function(){l||(l=!0,Ir("Connection","WebChannel transport closed"),f.Vi())})),h(u,lr.EventType.ERROR,(function(t){l||(l=!0,Tr("Connection","WebChannel transport errored:",t),f.Vi(new br(yr.UNAVAILABLE,"The operation could not be completed")))})),h(u,lr.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];kr(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Ir("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=Oo[t];if(void 0!==e)return Fo(e)}(o),s=i.message;void 0===a&&(a=yr.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,f.Vi(new br(a,s)),u.close()}else Ir("Connection","WebChannel received:",n),f.Si(n)}})),h(o,sr.STAT_EVENT,(function(t){t.stat===ur?Ir("Connection","Detected buffering proxy"):t.stat===cr&&Ir("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Pi()}),0),f},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Ir("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return Ir("RestConnection","Received: ",t),t}),(function(e){throw Tr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=vc[t];return this.Di+"/v1/"+e+":"+n},t}());function yc(){return"undefined"!=typeof window?window:null}function bc(){return"undefined"!=typeof document?document:null}function wc(t){return new fa(t,!0)}var _c=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Ir("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Ic=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new _c(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return pr(this,void 0,void 0,(function(){return vr(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ar(),this.stream.send(t)},t.prototype.rr=function(){return pr(this,void 0,void 0,(function(){return vr(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ar=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return pr(this,void 0,void 0,(function(){return vr(this,(function(n){switch(n.label){case 0:return this.ar(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===yr.RESOURCE_EXHAUSTED?(Er(e.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===yr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ur(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ur=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new br(yr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return pr(t,void 0,void 0,(function(){return vr(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Ir("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Ir("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Ec=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return dr(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Cr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(kr(void 0===e||"string"==typeof e),Kr.fromBase64String(e||"")):(kr(void 0===e||e instanceof Uint8Array),Kr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?yr.UNKNOWN:Fo(t.code);return new br(e,t.message||"")}(s);n=new ia(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=ba(t,r.document.name),o=va(r.document.updateTime);var s=new vi({mapValue:{fields:r.document.fields}}),u=(a=mi.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new na(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=ba(t,r.document),o=r.readTime?va(r.readTime):Mr.min(),s=mi.newNoDocument(i,o),a=r.removedTargetIds||[],n=new na([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=ba(t,r.document),o=r.removedTargetIds||[],n=new na([],o,i,null);else{if(!("filter"in e))return Cr();e.filter;var l=e.filter;l.targetId,r=l.count||0,i=new Lo(r),o=l.targetId,n=new ra(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Mr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Mr.min():e.readTime?va(e.readTime):Mr.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Ia(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Ii(r)?{documents:xa(t,r)}:{query:Aa(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=da(t,e.resumeToken):e.snapshotVersion.compareTo(Mr.min())>0&&(n.readTime=ha(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Cr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Ia(this.R),e.removeTarget=t,this.cr(e)},e}(Ic),Tc=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return dr(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ur=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(kr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(kr(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?va(t.updateTime):va(e);return n.isEqual(Mr.min())&&(n=va(e)),new yo(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=va(t.commitTime);return this.listener.Tr(n,e)}return kr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Ia(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Ca(e.R,t)}))};this.cr(n)},e}(Ic),Sc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return dr(e,t),e.prototype.br=function(){if(this.Rr)throw new br(yr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===yr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new br(yr.UNKNOWN,t.toString())}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===yr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new br(yr.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Cc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Er(e),this.Vr=!1):Ir("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),kc=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return pr(o,void 0,void 0,(function(){return vr(this,(function(t){switch(t.label){case 0:return Lc(this)?(Ir("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return pr(this,void 0,void 0,(function(){var e;return vr(this,(function(n){switch(n.label){case 0:return(e=xr(t)).$r.add(4),[4,Ac(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,xc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Cc(n,r)};function xc(t){return pr(this,void 0,void 0,(function(){var e,n;return vr(this,(function(r){switch(r.label){case 0:if(!Lc(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Ac(t){return pr(this,void 0,void 0,(function(){var e,n;return vr(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Nc(t,e){var n=xr(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Mc(n)?Rc(n):Jc(n).er()&&Oc(n,e))}function Pc(t,e){var n=xr(t),r=Jc(n);n.Or.delete(e),r.er()&&Dc(n,e),0===n.Or.size&&(r.er()?r.ir():Lc(n)&&n.Br.set("Unknown"))}function Oc(t,e){t.qr.U(e.targetId),Jc(t).mr(e)}function Dc(t,e){t.qr.U(e),Jc(t).yr(e)}function Rc(t){t.qr=new aa({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Jc(t).start(),t.Br.Sr()}function Mc(t){return Lc(t)&&!Jc(t).tr()&&t.Or.size>0}function Lc(t){return 0===xr(t).$r.size}function jc(t){t.qr=void 0}function Fc(t){return pr(this,void 0,void 0,(function(){return vr(this,(function(e){return t.Or.forEach((function(e,n){Oc(t,e)})),[2]}))}))}function Uc(t,e){return pr(this,void 0,void 0,(function(){return vr(this,(function(n){return jc(t),Mc(t)?(t.Br.Nr(e),Rc(t)):t.Br.set("Unknown"),[2]}))}))}function qc(t,e,n){return pr(this,void 0,void 0,(function(){var r,i,o;return vr(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof ia&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return pr(this,void 0,void 0,(function(){var n,r,i,o;return vr(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Or.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Or.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Ir("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Bc(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof na?t.qr.X(e):e instanceof ra?t.qr.rt(e):t.qr.et(e),n.isEqual(Mr.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Ru(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.at(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Kr.EMPTY_BYTE_STRING,n.snapshotVersion)),Dc(t,e);var r=new Cs(n.target,e,1,n.sequenceNumber);Oc(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Ir("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Bc(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Bc(t,e,n){return pr(this,void 0,void 0,(function(){var r=this;return vr(this,(function(i){switch(i.label){case 0:if(!ms(e))throw e;return t.$r.add(1),[4,Ac(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Ru(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return pr(r,void 0,void 0,(function(){return vr(this,(function(e){switch(e.label){case 0:return Ir("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,xc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Vc(t,e){return e().catch((function(n){return Bc(t,n,e)}))}function Hc(t){return pr(this,void 0,void 0,(function(){var e,n,r,i,o;return vr(this,(function(a){switch(a.label){case 0:e=xr(t),n=$c(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Lc(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,ju(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=$c(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Bc(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Kc(e)&&Wc(e),[2]}}))}))}function Kc(t){return Lc(t)&&!$c(t).tr()&&t.kr.length>0}function Wc(t){$c(t).start()}function Gc(t){return pr(this,void 0,void 0,(function(){return vr(this,(function(e){return $c(t).Ar(),[2]}))}))}function zc(t){return pr(this,void 0,void 0,(function(){var e,n,r,i;return vr(this,(function(o){for(e=$c(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function Yc(t,e,n){return pr(this,void 0,void 0,(function(){var r,i;return vr(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Ss.from(r,e,n),[4,Vc(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Hc(t)];case 2:return o.sent(),[2]}}))}))}function Qc(t,e){return pr(this,void 0,void 0,(function(){return vr(this,(function(n){switch(n.label){case 0:return e&&$c(t).pr?[4,function(t,e){return pr(this,void 0,void 0,(function(){var n,r;return vr(this,(function(i){switch(i.label){case 0:return jo(r=e.code)&&r!==yr.ABORTED?(n=t.kr.shift(),$c(t).sr(),[4,Vc(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Hc(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Kc(t)&&Wc(t),[2]}}))}))}function Xc(t,e){return pr(this,void 0,void 0,(function(){var n;return vr(this,(function(r){switch(r.label){case 0:return n=xr(t),e?(n.$r.delete(2),[4,xc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Ac(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Jc(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=xr(t);return r.br(),new Ec(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Fc.bind(null,t),Ri:Uc.bind(null,t),_r:qc.bind(null,t)}),t.Mr.push((function(n){return pr(e,void 0,void 0,(function(){return vr(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Mc(t)?Rc(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),jc(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function $c(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=xr(t);return r.br(),new Tc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Gc.bind(null,t),Ri:Qc.bind(null,t),Ir:zc.bind(null,t),Tr:Yc.bind(null,t)}),t.Mr.push((function(n){return pr(e,void 0,void 0,(function(){return vr(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Hc(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Ir("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr}var Zc=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new br(yr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function tl(t,e){if(Er("AsyncQueue",e+": "+t),ms(t))return new br(yr.UNAVAILABLE,e+": "+t);throw t}var el=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ei.comparator(e.key,n.key)}:function(t,e){return ei.comparator(t.key,e.key)},this.keyedMap=zo(),this.sortedSet=new Uo(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),nl=function(){function t(){this.Kr=new Uo(ei.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Cr():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),rl=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,el.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qi(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),il=function(){this.Wr=void 0,this.listeners=[]},ol=function(){this.queries=new hu((function(t){return Xi(t)}),Qi),this.onlineState="Unknown",this.Gr=new Set};function al(t,e){return pr(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return vr(this,(function(c){switch(c.label){case 0:if(n=xr(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new il),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=tl(s,"Initialization of query '"+Ji(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&ll(n),[2]}}))}))}function sl(t,e){return pr(this,void 0,void 0,(function(){var n,r,i,o,a;return vr(this,(function(s){return n=xr(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function ul(t,e){for(var n=xr(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&ll(n)}function cl(t,e,n){var r=xr(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function ll(t){t.Gr.forEach((function(t){t.next()}))}var fl=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new rl(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=rl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),hl=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),dl=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return ba(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Sa(this.R,t.document,!1):mi.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return va(t)},t}(),pl=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=vl(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new dl(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||Jo()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return pr(this,void 0,void 0,(function(){var t,e,n,r,i;return vr(this,(function(o){switch(o.label){case 0:return[4,Ku(this.localStore,new dl(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Wu(this.localStore,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Cu(Object.assign({},this.progress),t))]}}))}))},t}();function vl(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var gl=function(t){this.key=t},ml=function(t){this.key=t},yl=function(){function t(t,e){this.query=t,this.ao=e,this.uo=null,this.current=!1,this.ho=Jo(),this.mutatedKeys=Jo(),this.lo=Zi(t),this.fo=new el(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.ao},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new nl,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Bi(this.query)&&i.size===this.query.limit?i.last():null,c=Vi(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),f=$i(n.query,e)?e:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Bi(this.query)||Vi(this.query))for(;a.size>this.query.limit;){var l=Bi(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Cr()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.uo;return this.uo=s,0!==o.length||u?{snapshot:new rl(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new nl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.ao.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.ao=e.ao.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.ao=e.ao.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Jo(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new ml(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new gl(t))})),n},t.prototype.Ao=function(t){this.ao=t.Bn,this.ho=Jo();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return rl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.uo)},t}(),bl=function(t,e,n){this.query=t,this.targetId=e,this.view=n},wl=function(t){this.key=t,this.bo=!1},_l=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new hu((function(t){return Xi(t)}),Qi),this.Vo=new Map,this.So=new Set,this.Do=new Uo(ei.comparator),this.Co=new Map,this.No=new zu,this.xo={},this.Fo=new Map,this.ko=tu.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function Il(t,e){return pr(this,void 0,void 0,(function(){var n,r,i,o,a,s;return vr(this,(function(u){switch(u.label){case 0:return n=Jl(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Fu(n.localStore,zi(e))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,El(n,e,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Nc(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function El(t,e,n,r){return pr(this,void 0,void 0,(function(){var i,o,a,s,u,c;return vr(this,(function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return pr(this,void 0,void 0,(function(){var i,o,a;return vr(this,(function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,qu(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Ll(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,qu(t.localStore,e,!0)];case 1:return i=l.sent(),o=new yl(e,i.Bn),a=o._o(i.documents),s=ea.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),Ll(t,n,u.To),c=new bl(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Tl(t,e){return pr(this,void 0,void 0,(function(){var n,r,i;return vr(this,(function(o){switch(o.label){case 0:return n=xr(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!Qi(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Uu(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Pc(n.remoteStore,r.targetId),Rl(n,r.targetId)})).catch(ou)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Rl(n,r.targetId),[4,Uu(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Sl(t,e,n){return pr(this,void 0,void 0,(function(){var r,i,o,a;return vr(this,(function(s){switch(s.label){case 0:r=$l(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=xr(t),i=Rr.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Jo());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=To(c,n.get(c.key));null!=l&&a.push(new xo(c.key,l,gi(l.toProto().mapValue),bo.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Uo(Pr)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ul(r,i.changes)];case 3:return s.sent(),[4,Hc(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=tl(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Cl(t,e){return pr(this,void 0,void 0,(function(){var n,r;return vr(this,(function(i){switch(i.label){case 0:n=xr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Mu(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(kr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?kr(r.bo):t.removedDocuments.size>0&&(kr(r.bo),r.bo=!1))})),[4,Ul(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ou(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function kl(t,e,n){var r=xr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=xr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&ll(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function xl(t,e,n){return pr(this,void 0,void 0,(function(){var r,i,o,a,s,u;return vr(this,(function(c){switch(c.label){case 0:return(r=xr(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new Uo(ei.comparator)).insert(o,mi.newNoDocument(o,Mr.min())),s=Jo().add(o),u=new ta(Mr.min(),new Map,new Vo(Pr),a,s),[4,Cl(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Fl(r),[3,4];case 2:return[4,Uu(r.localStore,e,!1).then((function(){return Rl(r,e,n)})).catch(ou)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Al(t,e){return pr(this,void 0,void 0,(function(){var n,r,i;return vr(this,(function(o){switch(o.label){case 0:n=xr(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Du(n.localStore,e)];case 2:return i=o.sent(),Dl(n,r,null),Ol(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ul(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ou(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Nl(t,e,n){return pr(this,void 0,void 0,(function(){var r,i;return vr(this,(function(o){switch(o.label){case 0:r=xr(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=xr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return kr(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Dl(r,e,n),Ol(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Ul(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ou(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Pl(t,e){return pr(this,void 0,void 0,(function(){var n,r,i,o,a;return vr(this,(function(s){switch(s.label){case 0:Lc((n=xr(t)).remoteStore)||Ir("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=xr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=tl(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function Ol(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function Dl(t,e,n){var r=xr(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Rl(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Ml(t,e)}))}function Ml(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Pc(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Fl(t))}function Ll(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof gl?(t.No.addReference(o.key,e),jl(t,o)):o instanceof ml?(Ir("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Ml(t,o.key)):Cr()}}function jl(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Ir("SyncEngine","New document in limbo: "+n),t.So.add(r),Fl(t))}function Fl(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ei(qr.fromString(e)),r=t.ko.next();t.Co.set(r,new wl(n)),t.Do=t.Do.insert(n,r),Nc(t.remoteStore,new Cs(zi(qi(n.path)),r,2,mr.o))}}function Ul(t,e,n){return pr(this,void 0,void 0,(function(){var r,i,o,a;return vr(this,(function(s){switch(s.label){case 0:return r=xr(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,s){a.push(r.$o(s,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=xu.Pn(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return pr(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return vr(this,(function(f){switch(f.label){case 0:n=xr(t),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return hs.forEach(e,(function(e){return hs.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return hs.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!ms(r=f.sent()))throw r;return Ir("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function ql(t,e){return pr(this,void 0,void 0,(function(){var n,r;return vr(this,(function(i){switch(i.label){case 0:return(n=xr(t)).currentUser.isEqual(e)?[3,3]:(Ir("SyncEngine","User change. New user:",e.toKey()),[4,Ou(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new br(yr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Ul(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Bl(t,e){var n=xr(t),r=n.Co.get(e);if(r&&r.bo)return Jo().add(r.key);var i=Jo(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Vl(t,e){return pr(this,void 0,void 0,(function(){var n,r,i;return vr(this,(function(o){switch(o.label){case 0:return[4,qu((n=xr(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Ll(n,e.targetId,i.To),i)]}}))}))}function Hl(t){return pr(this,void 0,void 0,(function(){var e;return vr(this,(function(n){return[2,Vu((e=xr(t)).localStore).then((function(t){return Ul(e,t)}))]}))}))}function Kl(t,e,n,r){return pr(this,void 0,void 0,(function(){var i,o;return vr(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=xr(t),r=xr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):hs.resolve(null)}))}))}((i=xr(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Hc(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Dl(i,e,r||null),Ol(i,e),function(t,e){xr(xr(t)._n).Gt(e)}(i.localStore,e)):Cr(),a.label=4;case 4:return[4,Ul(i,o)];case 5:return a.sent(),[3,7];case 6:Ir("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function Wl(t,e){return pr(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return vr(this,(function(l){switch(l.label){case 0:return Jl(n=xr(t)),$l(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Gl(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,Xc(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Nc(n.remoteStore,s);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return Rl(n,e),Uu(n.localStore,e,!0)})),Pc(n.remoteStore,e)})),[4,c]);case 4:return l.sent(),[4,Gl(n,u)];case 5:return l.sent(),function(t){var e=xr(t);e.Co.forEach((function(t,n){Pc(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Uo(ei.comparator)}(n),n.Oo=!1,[4,Xc(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Gl(t,e,n){return pr(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p,v;return vr(this,(function(g){switch(g.label){case 0:n=xr(t),r=[],i=[],o=0,a=e,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Fu(n.localStore,zi(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,f=c,g.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,Vl(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Bu(n.localStore,s)];case 8:return v=g.sent(),[4,Fu(n.localStore,v)];case 9:return u=g.sent(),[4,El(n,zl(v),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function zl(t){return Ui(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Yl(t){var e=xr(t);return xr(xr(e.localStore).persistence).fn()}function Ql(t,e,n,r){return pr(this,void 0,void 0,(function(){var i,o,a;return vr(this,(function(s){switch(s.label){case 0:return(i=xr(t)).Oo?(Ir("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Vu(i.localStore)];case 3:return o=s.sent(),a=ta.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ul(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Uu(i.localStore,e,!0)];case 6:return s.sent(),Rl(i,e,r),[3,8];case 7:Cr(),s.label=8;case 8:return[2]}}))}))}function Xl(t,e,n){return pr(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h;return vr(this,(function(d){switch(d.label){case 0:if(!(r=Jl(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Ir("SyncEngine","Adding an already active target "+a),[3,5]):[4,Bu(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Fu(r.localStore,s)];case 3:return u=d.sent(),[4,El(r,zl(s),u.targetId,!1)];case 4:d.sent(),Nc(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return vr(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Uu(r.localStore,t,!1).then((function(){Pc(r.remoteStore,t),Rl(r,t)})).catch(ou)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Jl(t){var e=xr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bl.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xl.bind(null,e),e.vo._r=ul.bind(null,e.eventManager),e.vo.Mo=cl.bind(null,e.eventManager),e}function $l(t){var e=xr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Al.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nl.bind(null,e),e}function Zl(t,e,n){var r=xr(t);(function(t,e,n){return pr(this,void 0,void 0,(function(){var r,i,o,a,s,u;return vr(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=c.sent(),[4,function(t,e){var n=xr(t),r=va(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(t){return n.Qe.getBundleMetadata(t,e.id)})).then((function(t){return!!t&&t.createTime.compareTo(r)>=0}))}(t.localStore,r)];case 2:return c.sent()?[4,e.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n._updateProgress(vl(r)),i=new pl(r,t.localStore,e.R),[4,e.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,e.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,Ul(t,s.wn,void 0)];case 12:return c.sent(),[4,function(t,e){var n=xr(t);return n.persistence.runTransaction("Save bundle","readwrite",(function(t){return n.Qe.saveBundleMetadata(t,e)}))}(t.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return Tr("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))})(r,e,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var tf=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return pr(this,void 0,void 0,(function(){return vr(this,(function(e){switch(e.label){case 0:return this.R=wc(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Pu(this.persistence,new Au,t.initialUser,this.R)},t.prototype.qo=function(t){return new Zu(ec.bs,this.R)},t.prototype.Bo=function(t){return new hc},t.prototype.terminate=function(){return pr(this,void 0,void 0,(function(){return vr(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),ef=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return dr(e,t),e.prototype.initialize=function(e){return pr(this,void 0,void 0,(function(){return vr(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Hu(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,$l(this.Ko.syncEngine)];case 4:return n.sent(),[4,Hc(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return Pu(this.persistence,new Au,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new uu(e,t.asyncQueue)},e.prototype.qo=function(t){var e=Su(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Gs.withCacheSize(this.cacheSizeBytes):Gs.DEFAULT;return new Iu(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,yc(),bc(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new hc},e}(tf),nf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return dr(e,t),e.prototype.initialize=function(e){return pr(this,void 0,void 0,(function(){var n,r=this;return vr(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof fc?(this.sharedClientState.syncEngine={ai:Kl.bind(null,n),ui:Ql.bind(null,n),hi:Xl.bind(null,n),fn:Yl.bind(null,n),ci:Hl.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return pr(r,void 0,void 0,(function(){return vr(this,(function(e){switch(e.label){case 0:return[4,Wl(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=yc();if(!fc.yt(e))throw new br(yr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Su(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new fc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(ef),rf=function(){function t(){}return t.prototype.initialize=function(t,e){return pr(this,void 0,void 0,(function(){var n=this;return vr(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return kl(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ql.bind(null,this.syncEngine),[4,Xc(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new ol},t.prototype.createDatastore=function(t){var e,n=wc(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new mc(e));return function(t,e,n){return new Sc(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return kl(a.syncEngine,t,0)},o=pc.yt()?new pc:new dc,new kc(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new _l(t,e,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return pr(this,void 0,void 0,(function(){var e;return vr(this,(function(n){switch(n.label){case 0:return e=xr(t),Ir("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Ac(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();function of(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return pr(this,void 0,void 0,(function(){var r;return vr(this,(function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]}))}))},cancel:function(){return pr(this,void 0,void 0,(function(){return vr(this,(function(t){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var af=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),sf=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new fs,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return pr(this,void 0,void 0,(function(){return vr(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return pr(this,void 0,void 0,(function(){return vr(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return pr(this,void 0,void 0,(function(){var t,e,n,r;return vr(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new hl(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return pr(this,void 0,void 0,(function(){var t,e;return vr(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return pr(this,void 0,void 0,(function(){var e;return vr(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return pr(this,void 0,void 0,(function(){var t,e;return vr(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))},t}(),uf=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return pr(this,void 0,void 0,(function(){var e,n=this;return vr(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new br(yr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return pr(this,void 0,void 0,(function(){var n,r,i,o,a,s;return vr(this,(function(u){switch(u.label){case 0:return n=xr(t),r=Ia(n.R)+"/documents",i={documents:e.map((function(t){return ya(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){kr(!!e.found),e.found.name,e.found.updateTime;var n=ba(t,e.found.name),r=va(e.found.updateTime),i=new vi({mapValue:{fields:e.found.fields}});return mi.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){kr(!!e.missing),kr(!!e.readTime);var n=ba(t,e.missing),r=va(e.readTime);return mi.newNoDocument(n,r)}(t,e):Cr()}(n.R,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());kr(!!e),s.push(e)})),s)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ro(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return pr(this,void 0,void 0,(function(){var t,e=this;return vr(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=ei.fromPath(n);e.mutations.push(new Mo(r,e.precondition(r)))})),[4,function(t,e){return pr(this,void 0,void 0,(function(){var n,r,i;return vr(this,(function(o){switch(o.label){case 0:return n=xr(t),r=Ia(n.R)+"/documents",i={writes:e.map((function(t){return Ca(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Cr();e=Mr.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new br(yr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?bo.updateTime(e):bo.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Mr.min()))throw new br(yr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bo.updateTime(e)}return bo.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),cf=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new _c(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return pr(t,void 0,void 0,(function(){var t,e,n=this;return vr(this,(function(r){return t=new uf(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!$r(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!jo(e)}return!1},t}(),lf=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=nc.UNAUTHENTICATED,this.clientId=Nr.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return pr(r,void 0,void 0,(function(){return vr(this,(function(e){switch(e.label){case 0:return Ir("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return pr(this,void 0,void 0,(function(){return vr(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new br(yr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return pr(t,void 0,void 0,(function(){var t,n;return vr(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=tl(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function ff(t,e){return pr(this,void 0,void 0,(function(){var n,r,i=this;return vr(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ir("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return pr(i,void 0,void 0,(function(){return vr(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Ou(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function hf(t,e){return pr(this,void 0,void 0,(function(){var n,r;return vr(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,df(t)];case 1:return n=i.sent(),Ir("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return pr(this,void 0,void 0,(function(){var n,r;return vr(this,(function(i){switch(i.label){case 0:return(n=xr(t)).asyncQueue.verifyOperationInProgress(),Ir("RemoteStore","RemoteStore received new credentials"),r=Lc(n),n.$r.add(3),[4,Ac(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,xc(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function df(t){return pr(this,void 0,void 0,(function(){return vr(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Ir("FirestoreClient","Using default OfflineComponentProvider"),[4,ff(t,new tf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function pf(t){return pr(this,void 0,void 0,(function(){return vr(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Ir("FirestoreClient","Using default OnlineComponentProvider"),[4,hf(t,new rf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function vf(t){return df(t).then((function(t){return t.persistence}))}function gf(t){return df(t).then((function(t){return t.localStore}))}function mf(t){return pf(t).then((function(t){return t.remoteStore}))}function yf(t){return pf(t).then((function(t){return t.syncEngine}))}function bf(t){return pr(this,void 0,void 0,(function(){var e,n;return vr(this,(function(r){switch(r.label){case 0:return[4,pf(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Il.bind(null,e.syncEngine),n.onUnlisten=Tl.bind(null,e.syncEngine),n)]}}))}))}function wf(t,e,n){var r=this;void 0===n&&(n={});var i=new fs;return t.asyncQueue.enqueueAndForget((function(){return pr(r,void 0,void 0,(function(){var r;return vr(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new af({next:function(o){e.enqueueAndForget((function(){return sl(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new br(yr.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new br(yr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new fl(qi(n.path),o,{includeMetadataChanges:!0,so:!0});return al(t,a)},[4,bf(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function _f(t,e,n){var r=this;void 0===n&&(n={});var i=new fs;return t.asyncQueue.enqueueAndForget((function(){return pr(r,void 0,void 0,(function(){var r;return vr(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new af({next:function(n){e.enqueueAndForget((function(){return sl(t,a)})),n.fromCache&&"server"===r.source?i.reject(new br(yr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new fl(n,o,{includeMetadataChanges:!0,so:!0});return al(t,a)},[4,bf(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var If=function(t,e,n,r,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},Ef=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Tf=new Map,Sf=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Cf=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(nc.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),kf=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),xf=function(){function t(t){var e=this;this.currentUser=nc.UNAUTHENTICATED,this.oc=new fs,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.ac=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.ac&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Ir("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):e.ac&&(Ir("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)})))}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Ir("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(kr("string"==typeof n.accessToken),new Sf(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){this.ac=!0,this.asyncQueue=t,this.changeListener=e},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return kr(null===t||"string"==typeof t),new nc(t)},t.prototype.lc=function(){var t=this;this.ac&&(this.ac=!1,this.asyncQueue.enqueueRetryable((function(){return pr(t,void 0,void 0,(function(){return vr(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.ac=!0,[2]}}))}))})))},t}(),Af=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=nc.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),t}(),Nf=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n}return t.prototype.getToken=function(){return Promise.resolve(new Af(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(nc.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Pf(t,e,n){if(!n)throw new br(yr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Of(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new br(yr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Df(t,e,n,r){if(!0===e&&!0===r)throw new br(yr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Rf(t){if(!ei.isDocumentKey(t))throw new br(yr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Mf(t){if(ei.isDocumentKey(t))throw new br(yr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Lf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Cr()}function jf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new br(yr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Lf(t);throw new br(yr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Ff(t,e){if(e<=0)throw new br(yr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Uf=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new br(yr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new br(yr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Df("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),qf=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uf({}),this._settingsFrozen=!1,t instanceof Ef?(this._databaseId=t,this._credentials=new Cf):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new br(yr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ef(t.options.projectId)}(t),this._credentials=new xf(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new br(yr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new br(yr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uf(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Cf;switch(t.type){case"gapi":var e=t.client;return kr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Nf(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new br(yr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Tf.get(this))&&(Ir("ComponentProvider","Removing Datastore"),Tf.delete(this),t.terminate()),Promise.resolve();var t},t}(),Bf=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Hf(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Vf=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Hf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,qi(r))||this)._path=r,i.type="collection",i}return dr(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Bf(this.firestore,null,new ei(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Vf);function Kf(t,e){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(t=(0,i.getModularInstance)(t),Pf("collection","path",e),t instanceof qf)return Mf(n=qr.fromString.apply(qr,gr([e],r))),new Hf(t,null,n);if(!(t instanceof Bf||t instanceof Hf))throw new br(yr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Mf(n=qr.fromString.apply(qr,gr([t.path],r)).child(qr.fromString(e))),new Hf(t.firestore,null,n)}function Wf(t,e){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(t=(0,i.getModularInstance)(t),1===arguments.length&&(e=Nr.u()),Pf("doc","path",e),t instanceof qf)return Rf(n=qr.fromString.apply(qr,gr([e],r))),new Bf(t,null,new ei(n));if(!(t instanceof Bf||t instanceof Hf))throw new br(yr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Rf(n=t._path.child(qr.fromString.apply(qr,gr([e],r)))),new Bf(t.firestore,t instanceof Hf?t.converter:null,new ei(n))}function Gf(t,e){return t=(0,i.getModularInstance)(t),e=(0,i.getModularInstance)(e),(t instanceof Bf||t instanceof Hf)&&(e instanceof Bf||e instanceof Hf)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function zf(t,e){return t=(0,i.getModularInstance)(t),e=(0,i.getModularInstance)(e),t instanceof Vf&&e instanceof Vf&&t.firestore===e.firestore&&Qi(t._query,e._query)&&t.converter===e.converter}var Yf=function(){function t(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new _c(this,"async_queue_retry"),this.Ac=function(){var e=bc();e&&Ir("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=bc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var t=bc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise((function(t){})):this.bc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.mc.push(t),e.vc()}))},t.prototype.vc=function(){return pr(this,void 0,void 0,(function(){var t,e=this;return vr(this,(function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!ms(t=n.sent()))throw t;return Ir("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.mc.length>0&&this.Zi.ji((function(){return e.vc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.bc=function(t){var e=this,n=this._c.then((function(){return e.Tc=!0,t().catch((function(t){throw e.Ec=t,e.Tc=!1,Er("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Tc=!1,t}))}));return this._c=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),this.Ic.indexOf(t)>-1&&(e=0);var i=Zc.createAndSchedule(this,t,e,n,(function(t){return r.Pc(t)}));return this.gc.push(i),i},t.prototype.Rc=function(){this.Ec&&Cr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return pr(this,void 0,void 0,(function(){var t;return vr(this,(function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Dc=function(t){var e=this;return this.Vc().then((function(){e.gc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()}))},t.prototype.Cc=function(t){this.Ic.push(t)},t.prototype.Pc=function(t){var e=this.gc.indexOf(t);this.gc.splice(e,1)},t}();function Qf(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Xf=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new fs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),Jf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Yf,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return dr(e,t),e.prototype._terminate=function(){return this._firestoreClient||Zf(this),this._firestoreClient.terminate()},e}(qf);function $f(t){return t._firestoreClient||Zf(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Zf(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new If(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new lf(t._credentials,t._queue,r)}function th(t,e,n){var r=this,i=new fs;return t.asyncQueue.enqueue((function(){return pr(r,void 0,void 0,(function(){var r;return vr(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ff(t,n)];case 1:return o.sent(),[4,hf(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===yr.FAILED_PRECONDITION||t.code===yr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function eh(t){if(t._initialized||t._terminated)throw new br(yr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var nh=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new br(yr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),rh=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Kr.fromBase64String(e))}catch(e){throw new br(yr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Kr.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),ih=function(t){this._methodName=t},oh=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new br(yr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new br(yr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Pr(this._lat,t._lat)||Pr(this._long,t._long)},t}(),ah=/^__.*__$/,sh=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new xo(t,this.data,this.fieldMask,e,this.fieldTransforms):new ko(t,this.data,e,this.fieldTransforms)},t}(),uh=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new xo(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function ch(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Cr()}}var lh=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,Oc:!1});return r.$c(t),r},t.prototype.Mc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,Oc:!1});return r.Nc(),r},t.prototype.Lc=function(t){return this.Fc({path:void 0,Oc:!0})},t.prototype.Bc=function(t){return Nh(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(ch(this.xc)&&ah.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),fh=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||wc(t)}return t.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new lh({xc:t,methodName:e,Uc:n,path:Vr.emptyPath(),Oc:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function hh(t){var e=t._freezeSettings(),n=wc(t._databaseId);return new fh(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dh(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);Ch("Data must be an object, but it was:",a,r);var s,u,c=Th(r,a);if(o.merge)s=new Hr(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=kh(e,h[f],n);if(!a.contains(d))throw new br(yr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Ph(l,d)||l.push(d)}s=new Hr(l),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new sh(new vi(c),s,u)}var ph=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dr(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.xc)throw 1===t.xc?t.Bc(this._methodName+"() can only appear at the top level of your update data"):t.Bc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ih);function vh(t,e,n){return new lh({xc:3,Uc:e.settings.Uc,methodName:t._methodName,Oc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var gh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dr(e,t),e.prototype._toFieldTransform=function(t){return new mo(t.path,new uo)},e.prototype.isEqual=function(t){return t instanceof e},e}(ih),mh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return dr(e,t),e.prototype._toFieldTransform=function(t){var e=vh(this,t,!0),n=this.Kc.map((function(t){return Eh(t,e)})),r=new co(n);return new mo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ih),yh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return dr(e,t),e.prototype._toFieldTransform=function(t){var e=vh(this,t,!0),n=this.Kc.map((function(t){return Eh(t,e)})),r=new fo(n);return new mo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ih),bh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return dr(e,t),e.prototype._toFieldTransform=function(t){var e=new po(t.R,ro(t.R,this.jc));return new mo(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ih);function wh(t,e,n,r){var o=t.Qc(1,e,n);Ch("Data must be an object, but it was:",o,r);var a=[],s=vi.empty();jr(r,(function(t,r){var u=Ah(e,t,n);r=(0,i.getModularInstance)(r);var c=o.Mc(u);if(r instanceof ph)a.push(u);else{var l=Eh(r,c);null!=l&&(a.push(u),s.set(u,l))}}));var u=new Hr(a);return new uh(s,u,o.fieldTransforms)}function _h(t,e,n,r,o,a){var s=t.Qc(1,e,n),u=[kh(e,r,n)],c=[o];if(a.length%2!=0)throw new br(yr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<a.length;l+=2)u.push(kh(e,a[l])),c.push(a[l+1]);for(var f=[],h=vi.empty(),d=u.length-1;d>=0;--d)if(!Ph(f,u[d])){var p=u[d],v=c[d];v=(0,i.getModularInstance)(v);var g=s.Mc(p);if(v instanceof ph)f.push(p);else{var m=Eh(v,g);null!=m&&(f.push(p),h.set(p,m))}}var y=new Hr(f);return new uh(h,y,s.fieldTransforms)}function Ih(t,e,n,r){return void 0===r&&(r=!1),Eh(n,t.Qc(r?4:3,e))}function Eh(t,e){if(Sh(t=(0,i.getModularInstance)(t)))return Ch("Unsupported field value:",e,t),Th(t,e);if(t instanceof ih)return function(t,e){if(!ch(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oc&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Eh(o[i],e.Lc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,i.getModularInstance)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ro(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Rr.fromDate(t);return{timestampValue:ha(e.R,n)}}if(t instanceof Rr)return n=new Rr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:ha(e.R,n)};if(t instanceof oh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rh)return{bytesValue:da(e.R,t._byteString)};if(t instanceof Bf){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ga(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+Lf(t))}(t,e)}function Th(t,e){var n={};return Fr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jr(t,(function(t,r){var i=Eh(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Sh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Rr||t instanceof oh||t instanceof rh||t instanceof Bf||t instanceof ih)}function Ch(t,e,n){if(!Sh(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Lf(n);throw"an object"===r?e.Bc(t+" a custom object"):e.Bc(t+" "+r)}}function kh(t,e,n){if((e=(0,i.getModularInstance)(e))instanceof nh)return e._internalPath;if("string"==typeof e)return Ah(t,e);throw Nh("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var xh=new RegExp("[~\\*/\\[\\]]");function Ah(t,e,n){if(e.search(xh)>=0)throw Nh("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(nh.bind.apply(nh,gr([void 0],e.split(".")))))._internalPath}catch(r){throw Nh("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Nh(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new br(yr.INVALID_ARGUMENT,(s+=". ")+t+u)}function Ph(t,e){return t.some((function(t){return t.isEqual(e)}))}var Oh=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Bf(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Dh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Rh("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Dh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dr(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Oh);function Rh(t,e){return"string"==typeof e?Ah(t,e):e instanceof nh?e._internalPath:e._delegate._internalPath}var Mh=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Lh=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return dr(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Rh("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Oh),jh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dr(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Lh),Fh=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Mh(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new jh(n._firestore,n._userDataWriter,r.key,r,new Mh(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new br(yr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new jh(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Mh(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new jh(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Mh(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Uh(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Uh(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Cr()}}function qh(t,e){return t instanceof Lh&&e instanceof Lh?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Fh&&e instanceof Fh&&t._firestore===e._firestore&&zf(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Bh(t){if(Vi(t)&&0===t.explicitOrderBy.length)throw new br(yr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vh=function(){};function Hh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Kh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wc=e,i.Gc=n,i.zc=r,i.type="where",i}return dr(e,t),e.prototype._apply=function(t){var e=hh(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new br(yr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Jh(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(Xh(r,t,f))}s={arrayValue:{values:u}}}else s=Xh(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Jh(a,o),s=Ih(n,"where",a,"in"===o||"not-in"===o);var h=Ei.create(i,o,s);return function(t,e){if(e.g()){var n=Ki(t);if(null!==n&&!n.isEqual(e.field))throw new br(yr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Hi(t);null!==r&&$h(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new br(yr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new br(yr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new Vf(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Vh),Wh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wc=e,r.Hc=n,r.type="orderBy",r}return dr(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new br(yr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new br(yr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ri(e,n);return function(t,e){if(null===Hi(t)){var n=Ki(t);null!==n&&$h(0,n,e.field)}}(t,r),r}(t._query,this.Wc,this.Hc);return new Vf(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Fi(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Vh),Gh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return dr(e,t),e.prototype._apply=function(t){return new Vf(t.firestore,t.converter,Yi(t._query,this.Jc,this.Yc))},e}(Vh),zh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return dr(e,t),e.prototype._apply=function(t){var e=Qh(t,this.type,this.Xc,this.Zc);return new Vf(t.firestore,t.converter,function(t,e){return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Vh),Yh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return dr(e,t),e.prototype._apply=function(t){var e=Qh(t,this.type,this.Xc,this.Zc);return new Vf(t.firestore,t.converter,function(t,e){return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Vh);function Qh(t,e,n,r){if(n[0]=(0,i.getModularInstance)(n[0]),n[0]instanceof Oh)return function(t,e,n,r,i){if(!r)throw new br(yr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Gi(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(ci(e,r.key));else{var c=r.data.field(u.field);if(Qr(c))throw new br(yr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new br(yr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Oi(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var o=hh(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new br(yr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new br(yr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Wi(t)&&-1!==c.indexOf("/"))throw new br(yr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(qr.fromString(c));if(!ei.isDocumentKey(l))throw new br(yr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new ei(l);s.push(ci(e,f))}else{var h=Ih(n,r,c);s.push(h)}}return new Oi(s,o)}(t._query,t.firestore._databaseId,o,e,n,r)}function Xh(t,e,n){if("string"==typeof(n=(0,i.getModularInstance)(n))){if(""===n)throw new br(yr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wi(e)&&-1!==n.indexOf("/"))throw new br(yr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(qr.fromString(n));if(!ei.isDocumentKey(r))throw new br(yr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ci(t,new ei(r))}if(n instanceof Bf)return ci(t,n._key);throw new br(yr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Lf(n)+".")}function Jh(t,e){if(!Array.isArray(t)||0===t.length)throw new br(yr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new br(yr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function $h(t,e,n){if(!n.isEqual(e))throw new br(yr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Zh=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ni(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Cr()}},t.prototype.convertObject=function(t,e){var n=this,r={};return jr(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new oh(zr(t.latitude),zr(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Xr(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Jr(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Gr(t);return new Rr(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=qr.fromString(t);kr(Ba(n));var r=new Ef(n.get(1),n.get(3)),i=new ei(n.popFirst(5));return r.isEqual(e)||Er("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function td(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var ed=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return dr(e,t),e.prototype.convertBytes=function(t){return new rh(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Bf(this.firestore,null,e)},e}(Zh),nd=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=hh(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=rd(t,this._firestore),i=td(r.converter,e,n),o=dh(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,bo.none())),this},t.prototype.update=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this._verifyNotCommitted();var a,s=rd(t,this._firestore);return a="string"==typeof(e=(0,i.getModularInstance)(e))||e instanceof nh?_h(this._dataReader,"WriteBatch.update",s._key,e,n,r):wh(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(a.toMutation(s._key,bo.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=rd(t,this._firestore);return this._mutations=this._mutations.concat(new Ro(e._key,bo.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new br(yr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function rd(t,e){if((t=(0,i.getModularInstance)(t)).firestore!==e)throw new br(yr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var id=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return dr(e,t),e.prototype.convertBytes=function(t){return new rh(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Bf(this.firestore,null,e)},e}(Zh);function od(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];t=jf(t,Bf);var a=jf(t.firestore,Jf),s=hh(a);return sd(a,[("string"==typeof(e=(0,i.getModularInstance)(e))||e instanceof nh?_h(s,"updateDoc",t._key,e,n,r):wh(s,"updateDoc",t._key,e)).toMutation(t._key,bo.exists(!0))])}function ad(t){for(var e,n,r,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];t=(0,i.getModularInstance)(t);var s={includeMetadataChanges:!1},u=0;"object"!=typeof o[u]||Qf(o[u])||(s=o[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Qf(o[u])){var d=o[u];o[u]=null===(e=d.next)||void 0===e?void 0:e.bind(d),o[u+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),o[u+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Bf)l=jf(t.firestore,Jf),f=qi(t._key.path),c={next:function(e){o[u]&&o[u](ud(l,t,e))},error:o[u+1],complete:o[u+2]};else{var p=jf(t,Vf);l=jf(p.firestore,Jf),f=p._query;var v=new id(l);c={next:function(t){o[u]&&o[u](new Fh(l,v,p,t))},error:o[u+1],complete:o[u+2]},Bh(t._query)}return function(t,e,n,r){var i=this,o=new af(r),a=new fl(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return pr(i,void 0,void 0,(function(){var e;return vr(this,(function(n){switch(n.label){case 0:return e=al,[4,bf(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return pr(i,void 0,void 0,(function(){var e;return vr(this,(function(n){switch(n.label){case 0:return e=sl,[4,bf(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}($f(l),f,h,c)}function sd(t,e){return function(t,e){var n=this,r=new fs;return t.asyncQueue.enqueueAndForget((function(){return pr(n,void 0,void 0,(function(){var n;return vr(this,(function(i){switch(i.label){case 0:return n=Sl,[4,yf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}($f(t),e)}function ud(t,e,n){var r=n.docs.get(e._key),i=new id(t);return new Lh(t,i,e._key,r,new Mh(n.hasPendingWrites,n.fromCache),e.converter)}var cd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return dr(e,t),e.prototype.get=function(e){var n=this,r=rd(e,this._firestore),i=new id(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Lh(n._firestore,i,r._key,t._document,new Mh(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=hh(t)}return t.prototype.get=function(t){var e=this,n=rd(t,this._firestore),r=new ed(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Cr();var i=t[0];if(i.isFoundDocument())return new Oh(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Oh(e._firestore,r,n._key,null,n.converter);throw Cr()}))},t.prototype.set=function(t,e,n){var r=rd(t,this._firestore),i=td(r.converter,e,n),o=dh(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var a,s=rd(t,this._firestore);return a="string"==typeof(e=(0,i.getModularInstance)(e))||e instanceof nh?_h(this._dataReader,"Transaction.update",s._key,e,n,r):wh(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,a),this},t.prototype.delete=function(t){var e=rd(t,this._firestore);return this._transaction.delete(e._key),this},t}());function ld(){if("undefined"==typeof Uint8Array)throw new br(yr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function fd(){if("undefined"==typeof atob)throw new br(yr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var hd=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return fd(),new t(rh.fromBase64String(e))},t.fromUint8Array=function(e){return ld(),new t(rh.fromUint8Array(e))},t.prototype.toBase64=function(){return fd(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return ld(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),dd=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){eh(t=jf(t,Jf));var n=$f(t),r=t._freezeSettings(),i=new rf;return th(n,i,new ef(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){eh(t=jf(t,Jf));var e=$f(t),n=t._freezeSettings(),r=new rf;return th(e,r,new nf(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new br(yr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new fs;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return pr(e,void 0,void 0,(function(){var e;return vr(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return pr(this,void 0,void 0,(function(){var e;return vr(this,(function(n){switch(n.label){case 0:return ps.yt()?(e=t+"main",[4,ps.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Su(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),pd=function(){function t(t,e,n){var r=this;this._delegate=e,this.ta=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Ef||(this.ea=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var o=(t=jf(t,qf))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Tr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var a=(0,i.createMockUserToken)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new br(yr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new kf(new Sf(a,new nc(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return pr(e,void 0,void 0,(function(){var e,n;return vr(this,(function(r){switch(r.label){case 0:return[4,vf(t)];case 1:return e=r.sent(),[4,mf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=xr(t);return e.$r.delete(0),xc(e)}(n))]}}))}))}))}($f(jf(this._delegate,Jf)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return pr(e,void 0,void 0,(function(){var e,n;return vr(this,(function(r){switch(r.label){case 0:return[4,vf(t)];case 1:return e=r.sent(),[4,mf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return pr(this,void 0,void 0,(function(){var e;return vr(this,(function(n){switch(n.label){case 0:return(e=xr(t)).$r.add(0),[4,Ac(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}($f(jf(this._delegate,Jf)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Df("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.ta.enableMultiTabIndexedDbPersistence(this):this.ta.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.ta.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.ea&&(this.ea._removeServiceInstance("firestore"),this.ea._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new fs;return t.asyncQueue.enqueueAndForget((function(){return pr(e,void 0,void 0,(function(){var e;return vr(this,(function(r){switch(r.label){case 0:return e=Pl,[4,yf(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}($f(jf(this._delegate,Jf)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new af(e);return t.asyncQueue.enqueueAndForget((function(){return pr(n,void 0,void 0,(function(){var e;return vr(this,(function(n){switch(n.label){case 0:return e=function(t,e){xr(t).Gr.add(e),e.next()},[4,bf(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return pr(n,void 0,void 0,(function(){var e;return vr(this,(function(n){switch(n.label){case 0:return e=function(t,e){xr(t).Gr.delete(e)},[4,bf(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}($f(t=jf(t,Jf)),Qf(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ea)throw new br(yr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ea},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new xd(this,Kf(this._delegate,t))}catch(t){throw wd(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new bd(this,Wf(this._delegate,t))}catch(t){throw wd(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Sd(this,function(t,e){if(t=jf(t,qf),Pf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new br(yr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Vf(t,null,function(t){return new Fi(qr.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw wd(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new fs;return t.asyncQueue.enqueueAndForget((function(){return pr(n,void 0,void 0,(function(){var n;return vr(this,(function(i){switch(i.label){case 0:return[4,function(t){return pf(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new cf(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}($f(t),(function(n){return e(new cd(t,n))}))}(this._delegate,(function(n){return t(new gd(e,n))}))},t.prototype.batch=function(){var t=this;return $f(this._delegate),new md(new nd(this._delegate,(function(e){return sd(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new br(yr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new br(yr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),vd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return dr(e,t),e.prototype.convertBytes=function(t){return new hd(new rh(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return bd.na(e,this.firestore,null)},e}(Zh),gd=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new vd(t)}return t.prototype.get=function(t){var e=this,n=Ad(t);return this._delegate.get(n).then((function(t){return new Ed(e._firestore,new Lh(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Ad(t);return n?(Of("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Ad(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,gr([a,e,n],i)),this},t.prototype.delete=function(t){var e=Ad(t);return this._delegate.delete(e),this},t}(),md=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Ad(t);return n?(Of("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Ad(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,gr([a,e,n],i)),this},t.prototype.delete=function(t){var e=Ad(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),yd=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new jh(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Td(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.sa=function(e,n){var r=t.ia,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new vd(e),n),i.set(n,o)),o},t}();yd.ia=new WeakMap;var bd=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new vd(t)}return t.ra=function(e,n,r){if(e.length%2!=0)throw new br(yr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Bf(n._delegate,r,new ei(e)))},t.na=function(e,n,r){return new t(n,new Bf(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new xd(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new xd(this.firestore,Kf(this._delegate,t))}catch(t){throw wd(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,i.getModularInstance)(t))instanceof Bf&&Gf(this._delegate,t)},t.prototype.set=function(t,e){e=Of("DocumentReference.set",e);try{return function(t,e,n){t=jf(t,Bf);var r=jf(t.firestore,Jf),i=td(t.converter,e,n);return sd(r,[dh(hh(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,bo.none())])}(this._delegate,t,e)}catch(t){throw wd(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?od(this._delegate,t):od.apply(void 0,gr([this._delegate,t,e],n))}catch(t){throw wd(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return sd(jf((t=this._delegate).firestore,Jf),[new Ro(t._key,bo.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=_d(e),i=Id(e,(function(e){return new Ed(t.firestore,new Lh(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return ad(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=jf(t,Bf);var e=jf(t.firestore,Jf),n=$f(e),r=new id(e);return function(t,e){var n=this,r=new fs;return t.asyncQueue.enqueueAndForget((function(){return pr(n,void 0,void 0,(function(){var n;return vr(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return pr(this,void 0,void 0,(function(){var r,i;return vr(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=xr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new br(yr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=tl(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,gf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Lh(e,r,t._key,n,new Mh(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=jf(t,Bf);var e=jf(t.firestore,Jf);return wf($f(e),t._key,{source:"server"}).then((function(n){return ud(e,t,n)}))}(this._delegate):function(t){t=jf(t,Bf);var e=jf(t.firestore,Jf);return wf($f(e),t._key).then((function(n){return ud(e,t,n)}))}(this._delegate)).then((function(t){return new Ed(e.firestore,new Lh(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(yd.sa(this.firestore,e)):this._delegate.withConverter(null))},t}();function wd(t,e,n){return t.message=t.message.replace(e,n),t}function _d(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Qf(r))return r}return{}}function Id(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Qf(t[0])?t[0]:Qf(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ed=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new bd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return qh(this._delegate,t._delegate)},t}(),Td=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dr(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Ed),Sd=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new vd(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Hh(this._delegate,function(t,e,n){var r=e,i=Rh("where",t);return new Kh(i,r,n)}(e,n,r)))}catch(e){throw wd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Hh(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Rh("orderBy",t);return new Wh(r,n)}(e,n)))}catch(e){throw wd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Hh(this._delegate,function(t){return Ff("limit",t),new Gh("limit",t,"F")}(e)))}catch(e){throw wd(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Hh(this._delegate,function(t){return Ff("limitToLast",t),new Gh("limitToLast",t,"L")}(e)))}catch(e){throw wd(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hh(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zh("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw wd(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hh(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zh("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw wd(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hh(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yh("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw wd(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hh(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yh("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw wd(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return zf(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=jf(t,Vf);var e=jf(t.firestore,Jf),n=$f(e),r=new id(e);return function(t,e){var n=this,r=new fs;return t.asyncQueue.enqueueAndForget((function(){return pr(n,void 0,void 0,(function(){var n;return vr(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return pr(this,void 0,void 0,(function(){var r,i,o,a,s;return vr(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,qu(t,e,!0)];case 1:return s=u.sent(),r=new yl(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=tl(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,gf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Fh(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=jf(t,Vf);var e=jf(t.firestore,Jf),n=$f(e),r=new id(e);return _f(n,t._query,{source:"server"}).then((function(n){return new Fh(e,r,t,n)}))}(this._delegate):function(t){t=jf(t,Vf);var e=jf(t.firestore,Jf),n=$f(e),r=new id(e);return Bh(t._query),_f(n,t._query).then((function(n){return new Fh(e,r,t,n)}))}(this._delegate)).then((function(t){return new kd(e.firestore,new Fh(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=_d(e),i=Id(e,(function(e){return new kd(t.firestore,new Fh(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return ad(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(yd.sa(this.firestore,e)):this._delegate.withConverter(null))},t}(),Cd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Td(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),kd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Sd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Td(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Cd(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Td(n._firestore,r))}))},t.prototype.isEqual=function(t){return qh(this._delegate,t._delegate)},t}(),xd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return dr(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new bd(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new bd(this.firestore,void 0===t?Wf(this._delegate):Wf(this._delegate,t))}catch(t){throw wd(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=jf(t.firestore,Jf),r=Wf(t),i=td(t.converter,e);return sd(n,[dh(hh(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,bo.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new bd(e.firestore,t)}))},e.prototype.isEqual=function(t){return Gf(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(yd.sa(this.firestore,t)):this._delegate.withConverter(null))},e}(Sd);function Ad(t){return jf(t,Bf)}var Nd=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(nh.bind.apply(nh,gr([void 0],t)))}return t.documentId=function(){return new t(Vr.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,i.getModularInstance)(t))instanceof nh&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Pd=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new gh("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new ph("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mh("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yh("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new bh("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}();var Od,Dd,Rd=n("qaro"),Md={Firestore:pd,GeoPoint:oh,Timestamp:Rr,Blob:hd,Transaction:gd,WriteBatch:md,DocumentReference:bd,DocumentSnapshot:Ed,Query:Sd,QueryDocumentSnapshot:Td,QuerySnapshot:kd,CollectionReference:xd,FieldPath:Nd,FieldValue:Pd,setLogLevel:function(t){var e;e=t,wr.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Rd.Component("firestore",(function(t){return function(t,e){return new pd(t,new Jf(t,e),new dd)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Md)))})(Od=r.default),Od.registerVersion("@firebase/firestore","2.3.1"),(Dd=pd).prototype.loadBundle=function(t){return function(t,e){var n=$f(t=jf(t,Jf)),r=new Xf;return function(t,e,n,r){var i=this,o=function(t,e){return function(t,e){return new sf(t,e)}(function(t,e){if(t instanceof Uint8Array)return of(t,e);if(t instanceof ArrayBuffer)return of(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,wc(e));t.asyncQueue.enqueueAndForget((function(){return pr(i,void 0,void 0,(function(){var e;return vr(this,(function(n){switch(n.label){case 0:return e=Zl,[4,yf(t)];case 1:return e.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,t._databaseId,e,r),r}(this._delegate,t)},Dd.prototype.namedQuery=function(t){var e,n,r=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue((function(){return pr(n,void 0,void 0,(function(){var n;return vr(this,(function(r){switch(r.label){case 0:return n=function(t,e){var n=xr(t);return n.persistence.runTransaction("Get named query","readonly",(function(t){return n.Qe.getNamedQuery(t,e)}))},[4,gf(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}}))}))}))}($f(e=jf(e,Jf)),n).then((function(t){return t?new Vf(e,null,t.query):null}))).then((function(t){return t?new Sd(r,t):null}))};var Ld=function(t,e){return(Ld=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function jd(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Fd(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create,Object.create;var Ud={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qd=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ld(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),Bd=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return jd(this,void 0,void 0,(function(){var t;return Fd(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return jd(this,void 0,void 0,(function(){return Fd(this,(function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getContext=function(){return jd(this,void 0,void 0,(function(){var t,e;return Fd(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function Vd(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var Hd,Kd,Wd,Gd=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return Vd(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?Vd(t,(function(t){return e.decode(t)})):t},t}(),zd=function(){function t(t,e,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new Gd,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new Bd(e,n),this.cancelAllRequests=new Promise((function(t){a.deleteService=function(){return t()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return jd(this,void 0,void 0,(function(){var r,i,o;return Fd(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},t.prototype.getAppCheckToken=function(){return jd(this,void 0,void 0,(function(){var t;return Fd(this,(function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype.call=function(t,e,n){return jd(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h,d;return Fd(this,(function(p){switch(p.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new qd("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([Yd(c,this.postJSON(r,i,o)),l,Yd(c,this.cancelAllRequests)])];case 2:if(!(f=p.sent()))throw new qd("cancelled","Firebase Functions instance was deleted.");if(h=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"==typeof s){if(!Ud[s])return new qd("internal","internal");r=Ud[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new qd(r,i,o)}(f.status,f.json,this.serializer))throw h;if(!f.json)throw new qd("internal","Response is not valid JSON object.");if(void 0===(d=f.json.data)&&(d=f.json.result),void 0===d)throw new qd("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},t}();function Yd(t,e){return jd(this,void 0,void 0,(function(){var n;return Fd(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}Hd=r.default,Kd=fetch.bind(self),Wd={Functions:zd},Hd.INTERNAL.registerComponent(new Rd.Component("functions",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),a=t.getProvider("messaging");return new zd(r,i,a,o,n,Kd)}),"PUBLIC").setServiceProps(Wd).setMultipleInstances(!0)),r.default.registerVersion("@firebase/functions","0.6.9");var Qd=function(){return(Qd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Xd(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Jd(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function $d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create,Object.create;var Zd,tp=n("CWFz"),ep="w:0.4.26",np=((Zd={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Zd["not-registered"]="Firebase Installation is not registered.",Zd["installation-not-found"]="Firebase Installation not found.",Zd["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Zd["app-offline"]="Could not process request. Application offline.",Zd["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Zd),rp=new i.ErrorFactory("installations","Installations",np);function ip(t){return t instanceof i.FirebaseError&&t.code.includes("request-failed")}function op(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function ap(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function sp(t,e){return Xd(this,void 0,void 0,(function(){var n,r;return Jd(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,rp.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function up(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function cp(t,e){var n=e.refreshToken,r=up(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function lp(t){return Xd(this,void 0,void 0,(function(){var e;return Jd(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function fp(t,e){var n=e.fid;return Xd(this,void 0,void 0,(function(){var e,r,i,o,a,s;return Jd(this,(function(u){switch(u.label){case 0:return e=op(t),r=up(t),i={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:ep},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,lp((function(){return fetch(e,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,{fid:(s=u.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:ap(s.authToken)}];case 3:return[4,sp("Create Installation",a)];case 4:throw u.sent()}}))}))}function hp(t){return new Promise((function(e){setTimeout(e,t)}))}var dp=/^[cdef][\w-]{21}$/;function pp(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}([],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return dp.test(e)?e:""}catch(t){return""}}function vp(t){return t.appName+"!"+t.appId}var gp=new Map;function mp(t,e){var n=vp(t);yp(n,e),function(t,e){var n=wp();n&&n.postMessage({key:t,fid:e}),_p()}(n,e)}function yp(t,e){var n,r,i=gp.get(t);if(i)try{for(var o=$d(i),a=o.next();!a.done;a=o.next())(0,a.value)(e)}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var bp=null;function wp(){return!bp&&"BroadcastChannel"in self&&((bp=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){yp(t.data.key,t.data.fid)}),bp}function _p(){0===gp.size&&bp&&(bp.close(),bp=null)}var Ip="firebase-installations-store",Ep=null;function Tp(){return Ep||(Ep=(0,tp.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(Ip)}}))),Ep}function Sp(t,e){return Xd(this,void 0,void 0,(function(){var n,r,i,o,a;return Jd(this,(function(s){switch(s.label){case 0:return n=vp(t),[4,Tp()];case 1:return r=s.sent(),i=r.transaction(Ip,"readwrite"),[4,(o=i.objectStore(Ip)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||mp(t,e.fid),[2,e]}}))}))}function Cp(t){return Xd(this,void 0,void 0,(function(){var e,n,r;return Jd(this,(function(i){switch(i.label){case 0:return e=vp(t),[4,Tp()];case 1:return n=i.sent(),[4,(r=n.transaction(Ip,"readwrite")).objectStore(Ip).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function kp(t,e){return Xd(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Jd(this,(function(u){switch(u.label){case 0:return n=vp(t),[4,Tp()];case 1:return r=u.sent(),i=r.transaction(Ip,"readwrite"),[4,(o=i.objectStore(Ip)).get(n)];case 2:return a=u.sent(),void 0!==(s=e(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||mp(t,s.fid),[2,s]}}))}))}function xp(t){return Xd(this,void 0,void 0,(function(){var e,n,r;return Jd(this,(function(i){switch(i.label){case 0:return[4,kp(t,(function(n){var r=function(t){return Pp(t||{fid:pp(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(rp.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Xd(this,void 0,void 0,(function(){var n,r;return Jd(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,fp(t,e)];case 1:return n=i.sent(),[2,Sp(t,n)];case 2:return ip(r=i.sent())&&409===r.customData.serverCode?[4,Cp(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Sp(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Ap(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function Ap(t){return Xd(this,void 0,void 0,(function(){var e,n,r,i;return Jd(this,(function(o){switch(o.label){case 0:return[4,Np(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,hp(100)];case 3:return o.sent(),[4,Np(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,xp(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function Np(t){return kp(t,(function(t){if(!t)throw rp.create("installation-not-found");return Pp(t)}))}function Pp(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function Op(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Xd(this,void 0,void 0,(function(){var t,i,o,a,s,u;return Jd(this,(function(c){switch(c.label){case 0:return t=function(t,e){var n=e.fid;return op(t)+"/"+n+"/authTokens:generate"}(n,e),i=cp(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:ep}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,lp((function(){return fetch(t,s)}))];case 1:return(u=c.sent()).ok?[4,u.json()]:[3,3];case 2:return[2,ap(c.sent())];case 3:return[4,sp("Generate Auth Token",u)];case 4:throw c.sent()}}))}))}function Dp(t,e){return void 0===e&&(e=!1),Xd(this,void 0,void 0,(function(){var n,r,i;return Jd(this,(function(o){switch(o.label){case 0:return[4,kp(t.appConfig,(function(r){if(!Mp(r))throw rp.create("not-registered");var i,o=r.authToken;if(!e&&(2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i)))return r;if(1===o.requestStatus)return n=function(t,e){return Xd(this,void 0,void 0,(function(){var n,r;return Jd(this,(function(i){switch(i.label){case 0:return[4,Rp(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,hp(100)];case 3:return i.sent(),[4,Rp(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Dp(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw rp.create("app-offline");var a=function(t){var e={requestStatus:1,requestTime:Date.now()};return Qd(Qd({},t),{authToken:e})}(r);return n=function(t,e){return Xd(this,void 0,void 0,(function(){var n,r,i;return Jd(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Op(t,e)];case 1:return n=o.sent(),i=Qd(Qd({},e),{authToken:n}),[4,Sp(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!ip(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,Cp(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Qd(Qd({},e),{authToken:{requestStatus:0}}),[4,Sp(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,a),a}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Rp(t){return kp(t,(function(t){if(!Mp(t))throw rp.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Qd(Qd({},t),{authToken:{requestStatus:0}}):t}))}function Mp(t){return void 0!==t&&2===t.registrationStatus}function Lp(t){return Xd(this,void 0,void 0,(function(){var e;return Jd(this,(function(n){switch(n.label){case 0:return[4,xp(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function jp(t,e){return Xd(this,void 0,void 0,(function(){var n,r,i,o;return Jd(this,(function(a){switch(a.label){case 0:return n=function(t,e){var n=e.fid;return op(t)+"/"+n}(t,e),r=cp(t,e),i={method:"DELETE",headers:r},[4,lp((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,sp("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function Fp(t){return rp.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new Rd.Component("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Fp("App Configuration");if(!t.name)throw Fp("App Name");try{for(var r=$d(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw Fp(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Xd(this,void 0,void 0,(function(){var e,n,r;return Jd(this,(function(i){switch(i.label){case 0:return[4,xp(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):Dp(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Xd(this,void 0,void 0,(function(){return Jd(this,(function(n){switch(n.label){case 0:return[4,Lp(t.appConfig)];case 1:return n.sent(),[4,Dp(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Xd(this,void 0,void 0,(function(){var e,n;return Jd(this,(function(r){switch(r.label){case 0:return[4,kp(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw rp.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw rp.create("app-offline");case 3:return[4,jp(e,n)];case 4:return r.sent(),[4,Cp(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){wp();var n=vp(t),r=gp.get(n);r||(r=new Set,gp.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=vp(t),r=gp.get(n);r&&(r.delete(e),0===r.size&&gp.delete(n),_p())}(n,e)}}(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.26")}(r.default);var Up,qp=function(){return(qp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Bp(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Vp(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Hp(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create,Object.create;var Kp,Wp=((Up={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Up["only-available-in-window"]="This method is available in a Window context.",Up["only-available-in-sw"]="This method is available in a service worker context.",Up["permission-default"]="The notification permission was not granted and dismissed instead.",Up["permission-blocked"]="The notification permission was not granted and blocked instead.",Up["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Up["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Up["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Up["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Up["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Up["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Up["token-update-no-token"]="FCM returned no token when updating the user to push.",Up["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Up["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Up["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Up["invalid-vapid-key"]="The public VAPID key must be a string.",Up["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Up),Gp=new i.ErrorFactory("messaging","Messaging",Wp),zp="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";function Yp(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}([],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Qp(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Kp||(Kp={}));var Xp="fcm_token_details_db",Jp="fcm_token_object_Store";function $p(t){return Bp(this,void 0,void 0,(function(){var e,n=this;return Vp(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(t){return t.name})).includes(Xp))return[2,null];r.label=2;case 2:return e=null,[4,(0,tp.openDb)(Xp,5,(function(r){return Bp(n,void 0,void 0,(function(){var n,i,o,a;return Vp(this,(function(s){switch(s.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(Jp)?[4,(n=r.transaction.objectStore(Jp)).index("fcmSenderId").get(t)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:Yp(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Yp(o.auth),p256dh:Yp(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Yp(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,(0,tp.deleteDb)(Xp)];case 4:return r.sent(),[4,(0,tp.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,(0,tp.deleteDb)("undefined")];case 6:return r.sent(),[2,Zp(e)?e:null]}}))}))}function Zp(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var tv="firebase-messaging-store",ev=null;function nv(){return ev||(ev=(0,tp.openDb)("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(tv)}}))),ev}function rv(t){return Bp(this,void 0,void 0,(function(){var e,n,r;return Vp(this,(function(i){switch(i.label){case 0:return e=av(t),[4,nv()];case 1:return[4,i.sent().transaction(tv).objectStore(tv).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,$p(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,iv(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function iv(t,e){return Bp(this,void 0,void 0,(function(){var n,r,i;return Vp(this,(function(o){switch(o.label){case 0:return n=av(t),[4,nv()];case 1:return r=o.sent(),[4,(i=r.transaction(tv,"readwrite")).objectStore(tv).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function ov(t){return Bp(this,void 0,void 0,(function(){var e,n,r;return Vp(this,(function(i){switch(i.label){case 0:return e=av(t),[4,nv()];case 1:return n=i.sent(),[4,(r=n.transaction(tv,"readwrite")).objectStore(tv).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function av(t){return t.appConfig.appId}function sv(t,e){return Bp(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Vp(this,(function(u){switch(u.label){case 0:return[4,fv(t)];case 1:n=u.sent(),r=hv(e),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(lv(t.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),Gp.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,Gp.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw Gp.create("token-subscribe-no-token");return[2,o.token]}}))}))}function uv(t,e){return Bp(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Vp(this,(function(u){switch(u.label){case 0:return[4,fv(t)];case 1:n=u.sent(),r=hv(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(lv(t.appConfig)+"/"+e.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),Gp.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,Gp.create("token-update-failed",{errorInfo:s});if(!o.token)throw Gp.create("token-update-no-token");return[2,o.token]}}))}))}function cv(t,e){return Bp(this,void 0,void 0,(function(){var n,r,i,o,a;return Vp(this,(function(s){switch(s.label){case 0:return[4,fv(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(lv(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,Gp.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),Gp.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function lv(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function fv(t){var e=t.appConfig,n=t.installations;return Bp(this,void 0,void 0,(function(){var t;return Vp(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function hv(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==zp&&(o.web.applicationPubKey=i),o}function dv(t,e,n){return Bp(this,void 0,void 0,(function(){var r,i,o,a;return Vp(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw Gp.create("permission-blocked");return[4,mv(e,n)];case 1:return r=s.sent(),[4,rv(t)];case 2:return i=s.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:Yp(r.getKey("auth")),p256dh:Yp(r.getKey("p256dh"))},i?[3,3]:[2,gv(t,o)];case 3:if(u=i.subscriptionOptions,l=(c=o).vapidKey===u.vapidKey,f=c.endpoint===u.endpoint,h=c.auth===u.auth,d=c.p256dh===u.p256dh,l&&f&&h&&d)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,cv(t,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,gv(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,vv({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var u,c,l,f,h,d}))}))}function pv(t,e){return Bp(this,void 0,void 0,(function(){var n,r;return Vp(this,(function(i){switch(i.label){case 0:return[4,rv(t)];case 1:return(n=i.sent())?[4,cv(t,n.token)]:[3,4];case 2:return i.sent(),[4,ov(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function vv(t,e,n){return Bp(this,void 0,void 0,(function(){var r,i,o;return Vp(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,uv(e,t)];case 1:return r=a.sent(),i=qp(qp({},t),{token:r,createTime:Date.now()}),[4,iv(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,pv(e,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function gv(t,e){return Bp(this,void 0,void 0,(function(){var n,r;return Vp(this,(function(i){switch(i.label){case 0:return[4,sv(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,iv(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function mv(t,e){return Bp(this,void 0,void 0,(function(){var n;return Vp(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Qp(e)})]}}))}))}function yv(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function bv(t){return new Promise((function(e){setTimeout(e,t)}))}var wv=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw Gp.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Bp(this,void 0,void 0,(function(){var n;return Vp(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,rv(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:zp,r.label=2;case 2:return[2,dv(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return pv(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw Gp.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Gp.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw Gp.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw Gp.create("only-available-in-window")},t.prototype.onMessage=function(){throw Gp.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw Gp.create("only-available-in-window")},t.prototype.onPush=function(t){return Bp(this,void 0,void 0,(function(){var e,n,r,i;return Vp(this,(function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(t){return null}}(t))?[4,Tv()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,Ev(n,e)]:(r=!1,e.notification?[4,Sv(_v(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,bv(1e3)]);case 4:return o.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return Bp(this,void 0,void 0,(function(){var r;return Vp(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,pv(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,rv(this.firebaseDependencies)];case 3:return r=i.sent(),[4,pv(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,dv(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:zp)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return Bp(this,void 0,void 0,(function(){var r,i,o,a,s;return Vp(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;return i||(yv(t.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,Iv(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,bv(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=Kp.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},t}();function _v(t){var e,n=qp({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function Iv(t){return Bp(this,void 0,void 0,(function(){var e,n,r,i,o,a,s;return Vp(this,(function(u){switch(u.label){case 0:return[4,Tv()];case 1:e=u.sent();try{for(n=Hp(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(t){a={error:t}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function Ev(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=Kp.PUSH_RECEIVED;try{for(var i=Hp(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Tv(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Sv(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var Cv=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Bp(this,void 0,void 0,(function(){var e,n;return Vp(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===Kp.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),yv(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Bp(this,void 0,void 0,(function(){return Vp(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw Gp.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,dv(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return Bp(this,void 0,void 0,(function(){return Vp(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=zp),[2]}))}))},t.prototype.updateSwReg=function(t){return Bp(this,void 0,void 0,(function(){return Vp(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Gp.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return Bp(this,void 0,void 0,(function(){var t,e;return Vp(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),Gp.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return Bp(this,void 0,void 0,(function(){return Vp(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,pv(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return Bp(this,void 0,void 0,(function(){var t;return Vp(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?Gp.create("permission-blocked"):Gp.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Gp.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw Gp.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Gp.create("invalid-sw-registration");if(this.swRegistration)throw Gp.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw Gp.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw Gp.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Bp(this,void 0,void 0,(function(){var n;return Vp(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case Kp.NOTIFICATION_CLICKED:return"notification_open";case Kp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function kv(t){return Gp.create("missing-app-config-values",{valueName:t})}var xv={isSupported:Av};function Av(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}r.default.INTERNAL.registerComponent(new Rd.Component("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw kv("App Configuration Object");if(!t.name)throw kv("App Name");var r=t.options;try{for(var i=Hp(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw kv(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!Av())throw Gp.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new wv(n):new Cv(n)}),"PUBLIC").setServiceProps(xv));var Nv=function(t,e){return(Nv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},Pv=function(){return(Pv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Ov(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Dv(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Rv(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}Object.create,Object.create;var Mv="firebasestorage.googleapis.com",Lv=function(t){function e(n,r){var i=t.call(this,jv(n),"Firebase Storage: "+r+" ("+jv(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Nv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._codeEquals=function(t){return jv(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(i.FirebaseError);function jv(t){return"storage/"+t}function Fv(){return new Lv("unknown","An unknown error occurred, please check the error payload for server response.")}function Uv(){return new Lv("canceled","User canceled the upload/download.")}function qv(){return new Lv("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Bv(t){return new Lv("invalid-argument",t)}function Vv(){return new Lv("app-deleted","The Firebase app was deleted.")}function Hv(t){return new Lv("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kv(t,e){return new Lv("invalid-format","String does not match format '"+t+"': "+e)}function Wv(t){throw new Lv("internal-error","Internal error: "+t)}var Gv={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},zv=function(t,e){this.data=t,this.contentType=e||null};function Yv(t,e){switch(t){case Gv.RAW:return new zv(Qv(e));case Gv.BASE64:case Gv.BASE64URL:return new zv(Xv(t,e));case Gv.DATA_URL:return new zv((n=new $v(e)).base64?Xv(Gv.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw Kv(Gv.DATA_URL,"Malformed data URL.")}return Qv(e)}(n.rest),new $v(e).contentType)}var n;throw Fv()}function Qv(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Xv(t,e){switch(t){case Gv.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Kv(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Gv.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Kv(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw Kv(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Jv,$v=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Kv(Gv.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(r=";base64",(n=i).length>=r.length&&n.substring(n.length-r.length)===r),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)},Zv={STATE_CHANGED:"state_changed"},tg={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function eg(t){switch(t){case"running":case"pausing":case"canceling":return tg.RUNNING;case"paused":return tg.PAUSED;case"success":return tg.SUCCESS;case"canceled":return tg.CANCELED;case"error":default:return tg.ERROR}}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Jv||(Jv={}));var ng=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Jv.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Jv.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Jv.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Wv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Wv("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Wv("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Wv("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),rg=function(){function t(){}return t.prototype.createXhrIo=function(){return new ng},t}(),ig=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(n){return new t(e,"")}if(""===r.path)return r;throw new Lv("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(t){t.path_=decodeURIComponent(t.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===Mv?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(e);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new t(h,d),l.postModify(r);break}}if(null==r)throw function(t){return new Lv("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),og=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function ag(t){return"string"==typeof t||t instanceof String}function sg(t){return ug()&&t instanceof Blob}function ug(){return"undefined"!=typeof Blob}function cg(t,e,n,r){if(r<e)throw Bv("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw Bv("Invalid value for '"+t+"'. Expected "+n+" or less.")}function lg(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function fg(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var hg=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var f=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){f.resolve_=t,f.reject_=e,f.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());!function(t){return void 0!==t}(s)?i():i(s)}catch(t){o(t)}else null!==a?((r=Fv()).serverResponse=a.getResponseText(),t.errorCallback_?o(t.errorCallback_(a,r)):o(r)):n.canceled?o(r=t.appDelete_?Vv():Uv()):o(r=new Lv("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new dg(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function f(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new dg(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Jv.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new dg(a,n))}else{var s=n.getErrorCode()===Jv.ABORT;e(!1,new dg(!1,null,s))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}(h,u())}),e)}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Rv([null,t],e));else{var r;u()||a?l.call.apply(l,Rv([null,t],e)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),f(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(s=2),clearTimeout(o),f(0)):t||(s=1)))}return f(0),setTimeout((function(){a=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),dg=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function pg(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function vg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=pg();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(ug())return new Blob(t);throw new Lv("unsupported-environment","This browser doesn't seem to support creating Blobs")}var gg=function(){function t(t,e){var n=0,r="";sg(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(sg(this.data_)){var r=(i=this.data_,o=e,a=n,i.webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new t(r)}var i,o,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(ug()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(vg.apply(null,r))}var i=e.map((function(t){return ag(t)?Yv(Gv.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function mg(t){var e;try{e=JSON.parse(t)}catch(t){return null}return function(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function yg(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function bg(t,e){return e}var wg=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||bg},_g=null;function Ig(){if(_g)return _g;var t=[];t.push(new wg("bucket")),t.push(new wg("generation")),t.push(new wg("metageneration")),t.push(new wg("name","fullPath",!0));var e=new wg("name");e.xform=function(t,e){return function(t){return!ag(t)||t.length<2?t:yg(t)}(e)},t.push(e);var n=new wg("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new wg("timeCreated")),t.push(new wg("updated")),t.push(new wg("md5Hash",null,!0)),t.push(new wg("cacheControl",null,!0)),t.push(new wg("contentDisposition",null,!0)),t.push(new wg("contentEncoding",null,!0)),t.push(new wg("contentLanguage",null,!0)),t.push(new wg("contentType",null,!0)),t.push(new wg("metadata","customMetadata",!0)),_g=t}function Eg(t,e,n){var r=mg(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new ig(n,r);return e._makeStorageReference(i)}})}(r,t),r}(t,r,n)}function Tg(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Sg=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Cg(t){if(!t)throw Fv()}function kg(t,e){return function(n,r){var i=Eg(t,r,e);return Cg(null!==i),i}}function xg(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=e.getResponseText().includes("Firebase App Check token is invalid")?new Lv("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Lv("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new Lv("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new Lv("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Ag(t){var e=xg(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new Lv("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Ng(t,e,n){var r=lg(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new Sg(r,"GET",kg(t,n),i);return o.errorHandler=Ag(e),o}function Pg(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=lg(e.bucketOnlyServerUrl(),t.host),s=t.maxOperationRetryTime,u=new Sg(a,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=mg(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t._makeStorageReference(new ig(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=t._makeStorageReference(new ig(e,l.name)),r.items.push(s)}return r}(t,e,r)}(t,e,r);return Cg(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=xg(e),u}function Og(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Dg=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function Rg(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){Cg(!1)}return Cg(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Mg=262144;var Lg=function(t,e,n){if(function(t){return"function"==typeof t}(t)||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}};function jg(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var Fg=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Ig(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=Og(e,r,i),s={name:a.fullPath},u=lg(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=Tg(a,n),f=t.maxUploadRetryTime,h=new Sg(u,"POST",(function(t){var e;Rg(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){Cg(!1)}return Cg(ag(e)),e}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=xg(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var i=function(t,e,n,r){var i=t.maxUploadRetryTime,o=new Sg(n,"POST",(function(t){var e=Rg(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){Cg(!1)}n||Cg(!1);var i=Number(n);return Cg(!isNaN(i)),new Dg(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=xg(e),o}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=Mg*this._chunkMultiplier,n=new Dg(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=function(t,e,n,r,i,o,a,s){var u=new Dg(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Lv("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(f,h);if(null===p)throw qv();var v=e.maxUploadRetryTime,g=new Sg(n,"POST",(function(t,n){var i,a=Rg(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?kg(e,o)(t,n):null,new Dg(s,c,"final"===a,i)}),v);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=xg(t),g}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(e){return t._error=e,void t._transition("error")}var s=t._ref.storage._makeRequest(a,i,o);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){Mg*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=Ng(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=Og(e,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Tg(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=gg.getBlob(c,r,l);if(null===f)throw qv();var h={name:u.fullPath},d=lg(o,t.host),p=t.maxUploadRetryTime,v=new Sg(d,"POST",kg(t,n),p);return v.urlParams=h,v.headers=a,v.body=f.uploadData(),v.errorHandler=xg(e),v}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Uv(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=eg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new Lg(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(eg(this._state)){case tg.SUCCESS:jg(this._resolve.bind(null,this.snapshot))();break;case tg.CANCELED:case tg.ERROR:jg(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(eg(this._state)){case tg.RUNNING:case tg.PAUSED:t.next&&jg(t.next.bind(t,this.snapshot))();break;case tg.SUCCESS:t.complete&&jg(t.complete.bind(t))();break;case tg.CANCELED:case tg.ERROR:t.error&&jg(t.error.bind(t,this._error))();break;default:t.error&&jg(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),Ug=function(){function t(t,e){this._service=t,this._location=e instanceof ig?e:ig.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new ig(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return yg(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new ig(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Hv(t)},t}();function qg(t){var e={prefixes:[],items:[]};return Bg(t,e).then((function(){return e}))}function Bg(t,e,n){return Ov(this,void 0,void 0,(function(){var r,i,o;return Dv(this,(function(a){switch(a.label){case 0:return[4,Vg(t,{pageToken:n})];case 1:return r=a.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Bg(t,e,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Vg(t,e){return Ov(this,void 0,void 0,(function(){var n,r;return Dv(this,(function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&cg("options.maxResults",1,1e3,e.maxResults),n=e||{},r=Pg(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function Hg(t){return Ov(this,void 0,void 0,(function(){var e;return Dv(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=lg(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new Sg(r,"GET",function(t,e){return function(n,r){var i=Eg(t,r,e);return Cg(null!==i),function(t,e,n){var r=mg(e);if(null===r)return null;if(!ag(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(e){var r=t.bucket,i=t.fullPath;return lg("/b/"+o(r)+"/o/"+o(i),n)+fg({alt:"media",token:e})}))[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=Ag(e),o}(t.storage,t._location,Ig()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw new Lv("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}function Kg(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new ig(t._location.bucket,n);return new Ug(t.storage,r)}function Wg(t){return/^[A-Za-z]+:\/\//.test(t)}function Gg(t,e){if(t instanceof Qg){var n=t;if(null==n._bucket)throw new Lv("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Ug(n,n._bucket);return null!=e?Gg(r,e):r}if(void 0!==e){if(e.includes(".."))throw Bv('`path` param cannot contain ".."');return Kg(t,e)}return t}function zg(t,e){if(e&&Wg(e)){if(t instanceof Qg)return new Ug(t,e);throw Bv("To use ref(service, url), the first argument must be a Storage instance.")}return Gg(t,e)}function Yg(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:ig.makeFromBucketSpec(n,t)}var Qg=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Mv,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ig.makeFromBucketSpec(i,this._host):Yg(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,null!=this._url?this._bucket=ig.makeFromBucketSpec(this._url,t):this._bucket=Yg(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){cg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){cg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Ov(this,void 0,void 0,(function(){var t,e;return Dv(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return Ov(this,void 0,void 0,(function(){var t;return Dv(this,(function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new Ug(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new og(Vv());var i=function(t,e,n,r,i,o){var a=fg(t.urlParams),s=t.url+a,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new hg(s,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return Ov(this,void 0,void 0,(function(){var e,n,r;return Dv(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=i.sent(),n=e[0],r=e[1],[2,this._makeRequest(t,n,r)]}}))}))},t}();function Xg(t,e){return zg(t=(0,i.getModularInstance)(t),e)}var Jg=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),$g=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Jg(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new Jg(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new Jg(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Jg(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Zg=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new tm(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new tm(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),tm=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return Kg(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new $g(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Fg(t,new gg(e),n)}(t=(0,i.getModularInstance)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Gv.RAW),this._throwIfRoot("putString");var r=Yv(e,t),i=Pv({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new $g(new Fg(this._delegate,new gg(r.data,!0),i),this)},t.prototype.listAll=function(){var t=this;return function(t){return qg(t=(0,i.getModularInstance)(t))}(this._delegate).then((function(e){return new Zg(e,t.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return Vg(t=(0,i.getModularInstance)(t),e)}(this._delegate,t||void 0).then((function(t){return new Zg(t,e.storage)}))},t.prototype.getMetadata=function(){return function(t){return function(t){return Ov(this,void 0,void 0,(function(){var e;return Dv(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=Ng(t.storage,t._location,Ig()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=(0,i.getModularInstance)(t))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Ov(this,void 0,void 0,(function(){var n;return Dv(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=lg(e.fullServerUrl(),t.host),o=Tg(n,r),a=t.maxOperationRetryTime,s=new Sg(i,"PATCH",kg(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Ag(e),s}(t.storage,t._location,e,Ig()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}(t=(0,i.getModularInstance)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Hg(t=(0,i.getModularInstance)(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return function(t){return Ov(this,void 0,void 0,(function(){var e;return Dv(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=lg(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,i=new Sg(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=Ag(e),i}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=(0,i.getModularInstance)(t))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Hv(t)},t}(),em=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(Wg(t))throw Bv("ref() expected a child path but got a URL, use refFromURL instead.");return new tm(Xg(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!Wg(t))throw Bv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ig.makeFromUrl(t,this._delegate.host)}catch(t){throw Bv("refFromUrl() expected a valid full URL but got an invalid one.")}return new tm(Xg(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function nm(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new em(i,new Qg(i,o,a,new rg,n,r.default.SDK_VERSION))}!function(t){var e={TaskState:tg,TaskEvent:Zv,StringFormat:Gv,Storage:Qg,Reference:tm};t.INTERNAL.registerComponent(new Rd.Component("storage",nm,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.5.2")}(r.default);var rm=function(){return(rm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function im(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}Object.create,Object.create;var om,am,sm,um="0.4.12",cm=um,lm="FB-PERF-TRACE-MEASURE",fm="_wt_",hm="_fcp",dm="_fid",pm="@firebase/performance/config",vm="@firebase/performance/configexpire",gm="Performance",mm=((om={})["trace started"]="Trace {$traceName} was started before.",om["trace stopped"]="Trace {$traceName} is not running.",om["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",om["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",om["no window"]="Window is not available.",om["no app id"]="App id is not available.",om["no project id"]="Project id is not available.",om["no api key"]="Api key is not available.",om["invalid cc log"]="Attempted to queue invalid cc event",om["FB not default"]="Performance can only start when Firebase app instance is the default one.",om["RC response not ok"]="RC response is not ok",om["invalid attribute name"]="Attribute name {$attributeName} is invalid.",om["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",om["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",om["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",om),ym=new i.ErrorFactory("performance",gm,mm),bm=new o.Logger(gm);bm.logLevel=o.LogLevel.INFO;var wm,_m=function(){function t(t){if(this.window=t,!t)throw ym.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,i.isIndexedDBAvailable)()||(bm.info("IndexedDB is not supported by current browswer"),!1):(bm.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===am&&(am=new t(sm)),am},t}();function Im(t,e){var n=t.length-e.length;if(n<0||n>1)throw ym.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var Em,Tm,Sm=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Im("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Im("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw ym.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw ym.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw ym.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===wm&&(wm=new t),wm},t}();function Cm(){return Em}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(Tm||(Tm={}));var km=["firebase_","google_","ga_"],xm=new RegExp("^[a-zA-Z]\\w*$");function Am(){var t=_m.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function Nm(){switch(_m.getInstance().document.visibilityState){case"visible":return Tm.VISIBLE;case"hidden":return Tm.HIDDEN;default:return Tm.UNKNOWN}}function Pm(){var t=_m.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var Om="Could not fetch config, will use default configs";function Dm(t){if(!t)return t;var e=Sm.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=true,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=Rm(e.tracesSamplingRate),e.logNetworkAfterSampling=Rm(e.networkRequestsSamplingRate),t}function Rm(t){return Math.random()<=t}var Mm,Lm=1;function jm(){return Lm=2,Mm=Mm||function(){var t=_m.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return(t=Sm.getInstance().installationsService.getId()).then((function(t){Em=t})),t;var t})).then((function(t){return function(t){var e=function(){var t=_m.getInstance().localStorage;if(t){var e=t.getItem(vm);if(e&&Number(e)>Date.now()){var n=t.getItem(pm);if(n)try{return JSON.parse(n)}catch(t){return}}}}();return e?(Dm(e),Promise.resolve()):function(t){return(e=Sm.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Sm.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Sm.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:Sm.getInstance().getAppId(),app_version:cm,sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw ym.create("RC response not ok")}))})).catch((function(){bm.info(Om)}));var e}(t).then(Dm).then((function(t){return function(t){var e=_m.getInstance().localStorage;t&&e&&(e.setItem(pm,JSON.stringify(t)),e.setItem(vm,String(Date.now()+60*Sm.getInstance().configTimeToLive*60*1e3)))}(t)}),(function(){}))}(t)})).then((function(){return Fm()}),(function(){return Fm()}))}function Fm(){Lm=3}var Um,qm=1e4,Bm=3,Vm=[],Hm=!1;function Km(t){setTimeout((function(){var t,e;if(0!==Bm)return Vm.length?(e=(t=Vm.splice(0,1e3)).map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),void function(t,e){return function(t){var e=Sm.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||bm.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=qm;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Vm=im(im([],e),Vm),bm.info("Retry transport request later.")),Bm=3,Km(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Sm.getInstance().logSource,log_event:e},t).catch((function(){Vm=im(im([],t),Vm),Bm--,bm.info("Tries left: "+Bm+"."),Km(qm)}))):Km(qm)}),t)}function Wm(t){if(!t.eventTime||!t.message)throw ym.create("invalid cc log");Vm=im(im([],Vm),[t])}function Gm(t,e){Um||(Um=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Wm({message:t.apply(void 0,e),eventTime:Date.now()})}}(Qm)),Um(t,e)}function zm(t){var e=Sm.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&_m.getInstance().requiredApisAvailable()&&(t.isAuto&&Nm()!==Tm.VISIBLE||(3===Lm?Ym(t):jm().then((function(){return Ym(t)}),(function(){return Ym(t)}))))}function Ym(t){if(Cm()){var e=Sm.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return Gm(t,1)}),0)}}function Qm(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:Xm(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:Xm(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function Xm(){return{google_app_id:Sm.getInstance().getAppId(),app_instance_id:Cm(),web_app_info:{sdk_version:cm,page_url:_m.getInstance().getUrl(),service_worker_status:Am(),visibility_state:Nm(),effective_connection_type:Pm()},application_process_state:0}}var Jm=["_fp",hm,dm],$m=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=_m.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw ym.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw ym.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),zm(this)},t.prototype.record=function(t,e,n){if(t<=0)throw ym.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw ym.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=rm({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}zm(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(i=t,o=this.name,0===i.length||i.length>100||!(o&&o.startsWith(fm)&&Jm.indexOf(i)>-1)&&i.startsWith("_"))throw ym.create("invalid custom metric name",{customMetricName:t});var n,r,i,o;this.counters[t]=(n=e,(r=Math.floor(n))<n&&bm.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||n.length>40||km.some((function(t){return n.startsWith(t)}))||!n.match(xm)),i=function(t){return 0!==t.length&&t.length<=100}(e);if(r&&i)this.customAttributes[t]=e;else{if(!r)throw ym.create("invalid attribute name",{attributeName:t});if(!i)throw ym.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return rm({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=_m.getInstance().getUrl();if(i){var o=new t(fm+i,!0),a=Math.floor(1e3*_m.getInstance().getTimeOrigin());if(o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var s=n.find((function(t){return"first-paint"===t.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric(hm,Math.floor(1e3*u.startTime)),r&&o.putMetric(dm,Math.floor(1e3*r))}zm(o)}},t.createUserTimingTrace=function(e){zm(new t(e,!1,e))},t}();function Zm(t){var e=t;if(e&&void 0!==e.responseStart){var n=_m.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=Sm.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return Gm(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function ty(){Cm()&&(setTimeout((function(){return function(){var t=_m.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){$m.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),$m.createOobTrace(e,n,t))}))}else $m.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=_m.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)Zm(n[e]);t.setupObserver("resource",Zm)}()}),0),setTimeout((function(){return function(){for(var t=_m.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)ey(n[e]);t.setupObserver("measure",ey)}()}),0))}function ey(t){var e=t.name;e.substring(0,lm.length)!==lm&&$m.createUserTimingTrace(e)}var ny=function(){function t(t){this.app=t,_m.getInstance().requiredApisAvailable()&&(0,i.validateIndexedDBOpenable)().then((function(t){t&&(Hm||(Km(5500),Hm=!0),jm().then(ty,ty))})).catch((function(t){bm.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new $m(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return Sm.getInstance().instrumentationEnabled},set:function(t){Sm.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return Sm.getInstance().dataCollectionEnabled},set:function(t){Sm.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new Rd.Component("performance",(function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw ym.create("FB not default");if("undefined"==typeof window)throw ym.create("no window");return function(t){sm=t}(window),Sm.getInstance().firebaseAppInstance=t,Sm.getInstance().installationsService=e,new ny(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC")),t.registerVersion("@firebase/performance",um)}(r.default);var ry=function(){return(ry=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function iy(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function oy(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create,Object.create;var ay,sy,uy="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(ay||(ay={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(sy||(sy={}));var cy,ly=new o.Logger("@firebase/analytics");function fy(t,e,n,r,i,o){return iy(this,void 0,void 0,(function(){var a,s,u,c;return oy(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),ly.error(c),[3,8];case 8:return t(ay.CONFIG,i,o),[2]}}))}))}function hy(t,e,n,r,i){return iy(this,void 0,void 0,(function(){var o,a,s,u,c,l,f,h;return oy(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(t){var n=s.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(f=l[c],"break"!==u(f));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return d.sent(),t(ay.EVENT,r,i||{}),[3,5];case 4:return h=d.sent(),ly.error(h),[3,5];case 5:return[2]}}))}))}var dy=((cy={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",cy["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",cy["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",cy["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",cy["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",cy["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",cy["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",cy["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',cy["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',cy),py=new i.ErrorFactory("analytics","Analytics",dy),vy=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function gy(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function my(t){var e;return iy(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return oy(this,(function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:gy(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw py.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function yy(t,e,n,r){var o=e.throttleEndTimeMillis,a=e.backoffCount;return void 0===r&&(r=vy),iy(this,void 0,void 0,(function(){var e,s,u,c,l,f,h;return oy(this,(function(d){switch(d.label){case 0:e=t.appId,s=t.measurementId,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,by(n,o)];case 2:return d.sent(),[3,4];case 3:if(u=d.sent(),s)return ly.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:e,measurementId:s}];throw u;case 4:return d.trys.push([4,6,,7]),[4,my(t)];case 5:return c=d.sent(),r.deleteThrottleMetadata(e),[2,c];case 6:if(!function(t){if(!(t instanceof i.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l=d.sent())){if(r.deleteThrottleMetadata(e),s)return ly.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:e,measurementId:s}];throw l}return f=503===Number(l.customData.httpStatus)?(0,i.calculateBackoffMillis)(a,r.intervalMillis,30):(0,i.calculateBackoffMillis)(a,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+f,backoffCount:a+1},r.setThrottleMetadata(e,h),ly.debug("Calling attemptFetch again in "+f+" millis"),[2,yy(t,h,n,r)];case 7:return[2]}}))}))}function by(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(py.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var wy=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();var _y,Iy,Ey={},Ty=[],Sy={},Cy="dataLayer",ky="gtag",xy=!1;function Ay(t){if(xy)throw py.create("already-initialized");t.dataLayerName&&(Cy=t.dataLayerName),t.gtagName&&(ky=t.gtagName)}function Ny(t,e){!function(){var t=[];if((0,i.isBrowserExtension)()&&t.push("This is a browser extension environment."),(0,i.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=py.create("invalid-analytics-context",{errorInfo:e});ly.warn(n.message)}}();var n=t.options.appId;if(!n)throw py.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw py.create("no-api-key");ly.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ey[n])throw py.create("already-exists",{id:n});if(!xy){!function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Cy);var r=function(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,a){return iy(this,void 0,void 0,(function(){var s;return oy(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==ay.EVENT?[3,2]:[4,hy(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==ay.CONFIG?[3,4]:[4,fy(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(ay.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),ly.error(s),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(Ey,Ty,Sy,Cy,ky),o=r.wrappedGtag,a=r.gtagCore;Iy=o,_y=a,xy=!0}return Ey[n]=function(t,e,n,r,o,a){return iy(this,void 0,void 0,(function(){var s,u,c,l,f,h,d;return oy(this,(function(p){switch(p.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=vy),iy(this,void 0,void 0,(function(){var n,r,i,o,a,s,u=this;return oy(this,(function(c){if(n=t.options,r=n.appId,i=n.apiKey,o=n.measurementId,!r)throw py.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw py.create("no-api-key")}return a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new wy,setTimeout((function(){return iy(u,void 0,void 0,(function(){return oy(this,(function(t){return s.abort(),[2]}))}))}),6e4),[2,yy({appId:r,apiKey:i,measurementId:o},a,s,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&ly.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return ly.error(t)})),e.push(s),u=function(){return iy(this,void 0,void 0,(function(){var t;return oy(this,(function(e){switch(e.label){case 0:return(0,i.isIndexedDBAvailable)()?[3,1]:(ly.warn(py.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,(0,i.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),ly.warn(py.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([s,u])];case 1:return c=p.sent(),l=c[0],f=c[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(uy))return r}return null}()||function(t,e){var n=document.createElement("script");n.src=uy+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(a,l.measurementId),o("js",new Date),(d={}).origin="firebase",d.update=!0,h=d,null!=f&&(h.firebase_id=f),o(ay.CONFIG,l.measurementId,h),[2,l.measurementId]}}))}))}(t,Ty,Sy,e,_y,Cy),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,i){return iy(this,void 0,void 0,(function(){var o,a;return oy(this,(function(s){switch(s.label){case 0:return i&&i.global?(t(ay.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=s.sent(),a=ry(ry({},r),{send_to:o}),t(ay.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(Iy,Ey[n],t,e,r).catch((function(t){return ly.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return iy(this,void 0,void 0,(function(){var i;return oy(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(ay.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(ay.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(Iy,Ey[n],t,e).catch((function(t){return ly.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return iy(this,void 0,void 0,(function(){var i;return oy(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(ay.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(ay.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(Iy,Ey[n],t,e).catch((function(t){return ly.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return iy(this,void 0,void 0,(function(){var i,o,a,s,u;return oy(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return t(ay.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(ay.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(Iy,Ey[n],t,e).catch((function(t){return ly.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return iy(this,void 0,void 0,(function(){var n;return oy(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(Ey[n],t).catch((function(t){return ly.error(t)}))},INTERNAL:{delete:function(){return delete Ey[n],Promise.resolve()}}}}var Py="analytics";function Oy(){return iy(this,void 0,void 0,(function(){return oy(this,(function(t){switch(t.label){case 0:if((0,i.isBrowserExtension)())return[2,!1];if(!(0,i.areCookiesEnabled)())return[2,!1];if(!(0,i.isIndexedDBAvailable)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,i.validateIndexedDBOpenable)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new Rd.Component(Py,(function(t){return Ny(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Ay,EventName:sy,isSupported:Oy})),t.INTERNAL.registerComponent(new Rd.Component("analytics-internal",(function(t){try{return{logEvent:t.getProvider(Py).getImmediate().logEvent}}catch(t){throw py.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.10")}(r.default);var Dy=function(){return(Dy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Ry(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function My(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create,Object.create;var Ly,jy=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Ry(this,void 0,void 0,(function(){var e,n,r,i,o;return My(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=a.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},t}(),Fy=((Ly={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Ly["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Ly["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Ly["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Ly["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Ly["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Ly["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Ly["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Ly["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Ly["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Ly["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Ly["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Ly["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Ly),Uy=new i.ErrorFactory("remoteconfig","Remote Config",Fy),qy=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return Ry(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,c,l,f,h,d,p,v,g,m,y,b;return My(this,(function(w){switch(w.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=w.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),w.label=2;case 2:return w.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return w.sent(),[4,c];case 4:return f=w.sent(),[3,6];case 5:throw h=w.sent(),d="fetch-client-network","AbortError"===h.name&&(d="fetch-timeout"),Uy.create(d,{originalErrorMessage:h.message});case 6:if(p=f.status,v=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];y=void 0,w.label=7;case 7:return w.trys.push([7,9,,10]),[4,f.json()];case 8:return y=w.sent(),[3,10];case 9:throw b=w.sent(),Uy.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:g=y.entries,m=y.state,w.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?p=500:"NO_CHANGE"===m?p=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(g={}),304!==p&&200!==p)throw Uy.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:v,config:g}]}var _}))}))},t}(),By=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),Vy=["1","true","t","yes","y","on"],Hy=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&Vy.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),Ky=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=o.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=o.LogLevel.SILENT;break;default:this._logger.logLevel=o.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Ry(this,void 0,void 0,(function(){var t,e,n;return My(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return Ry(this,void 0,void 0,(function(){var t,e,n,r=this;return My(this,(function(o){switch(o.label){case 0:t=new By,setTimeout((function(){return Ry(r,void 0,void 0,(function(){return My(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return e=o.sent(),n=function(t,e){return t instanceof i.FirebaseError&&-1!==t.code.indexOf("fetch-throttle")}(e)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw o.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return Ry(this,void 0,void 0,(function(){return My(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(Dy(Dy({},t),e))).reduce((function(t,e){return t[e]=n.getValue(e),t}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new Hy("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new Hy("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new Hy("static"))},t}();function Wy(t,e){var n=t.target.error||void 0;return Uy.create(e,{originalErrorMessage:n&&n.message})}var Gy="app_namespace_store",zy=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(Wy(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(Gy,{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Ry(this,void 0,void 0,(function(){var e,n=this;return My(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([Gy],"readonly").objectStore(Gy),a=n.createCompositeKey(t);try{var s=o.get(a);s.onerror=function(t){i(Wy(t,"storage-get"))},s.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(t){i(Uy.create("storage-get",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.set=function(t,e){return Ry(this,void 0,void 0,(function(){var n,r=this;return My(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([Gy],"readwrite").objectStore(Gy),s=r.createCompositeKey(t);try{var u=a.put({compositeKey:s,value:e});u.onerror=function(t){o(Wy(t,"storage-set"))},u.onsuccess=function(){i()}}catch(t){o(Uy.create("storage-set",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.delete=function(t){return Ry(this,void 0,void 0,(function(){var e,n=this;return My(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([Gy],"readwrite").objectStore(Gy),a=n.createCompositeKey(t);try{var s=o.delete(a);s.onerror=function(t){i(Wy(t,"storage-delete"))},s.onsuccess=function(){r()}}catch(t){i(Uy.create("storage-delete",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),Yy=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Ry(this,void 0,void 0,(function(){var t,e,n,r,i,o;return My(this,(function(a){switch(a.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function Qy(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(Uy.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var Xy,Jy=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Ry(this,void 0,void 0,(function(){var e;return My(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Ry(this,void 0,void 0,(function(){var e,o,a;return My(this,(function(s){switch(s.label){case 0:return[4,Qy(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof i.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o=s.sent()))throw o;return a={throttleEndTimeMillis:Date.now()+(0,i.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(a)];case 6:return s.sent(),[2,this.attemptFetch(t,a)];case 7:return[2]}}))}))},t}(),$y="@firebase/remote-config";(Xy=r.default).INTERNAL.registerComponent(new Rd.Component("remoteConfig",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw Uy.create("registration-window");var a=r.options,s=a.projectId,u=a.apiKey,c=a.appId;if(!s)throw Uy.create("registration-project-id");if(!u)throw Uy.create("registration-api-key");if(!c)throw Uy.create("registration-app-id");n=n||"firebase";var l=new zy(c,r.name,n),f=new Yy(l),h=new o.Logger($y);h.logLevel=o.LogLevel.ERROR;var d=new qy(i,Xy.SDK_VERSION,n,s,u,c),p=new Jy(d,l),v=new jy(p,l,f,h),g=new Ky(r,v,f,l,h);return g.ensureInitialized(),g}),"PUBLIC").setMultipleInstances(!0)),Xy.registerVersion($y,"0.1.37"),n("YcuZ"),r.default.registerVersion("firebase","8.6.2","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),r.default.registerVersion("firebase","8.6.2")},"08kJ":function(t,e,n){"use strict";n.d(e,{I:function(){return a}});var r=n("nJIM");r.default.registerVersion("firebase","8.6.2","app"),n("VwVG");var i=n("2TwZ"),o=n.n(i);n("EanG"),n("bhtp"),n("TaPC"),n("KcsD"),n("rgg2"),function(){(function(){var t,e,i="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)e=Object.setPrototypeOf;else{var o;t:{var a={};try{a.__proto__={xb:!0},o=a.xb;break t}catch(Jt){}o=!1}e=o?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var s=e;function u(t,e){if(t.prototype=i(e.prototype),t.prototype.constructor=t,s)s(t,e);else for(var n in e)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(e,n);r&&Object.defineProperty(t,n,r)}else t[n]=e[n];t.K=e.prototype}var c="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},l="undefined"!=typeof window&&window===this?this:void 0!==n.g&&null!=n.g?n.g:this;function f(t,e){if(e){var n=l;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];i in n||(n[i]={}),n=n[i]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&c(n,t,{configurable:!0,writable:!0,value:e})}}f("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}})),f("Array.prototype.includes",(function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(e=e||0)&&(e=Math.max(e+r,0));e<r;e++){var i=n[e];if(i===t||Object.is(i,t))return!0}return!1}}));var h=this;function d(t){return void 0!==t}function p(t){return"string"==typeof t}var v=/^[\w+/_-]+[=]{0,2}$/,g=null;function m(){}function y(t){t.W=void 0,t.Xa=function(){return t.W?t.W:t.W=new t}}function b(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function w(t){return"array"==b(t)}function _(t){var e=b(t);return"array"==e||"object"==e&&"number"==typeof t.length}function I(t){return"function"==b(t)}function E(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var T="closure_uid_"+(1e9*Math.random()>>>0),S=0;function C(t,e,n){return t.call.apply(t.bind,arguments)}function k(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function x(t,e,n){return(x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?C:k).apply(null,arguments)}function A(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function N(t,e){for(var n in e)t[n]=e[n]}var P,O=Date.now||function(){return+new Date};function D(t,e){t=t.split(".");var n,r=h;t[0]in r||void 0===r.execScript||r.execScript("var "+t[0]);for(;t.length&&(n=t.shift());)!t.length&&d(e)?r[n]=e:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}}function R(t,e){function n(){}n.prototype=e.prototype,t.K=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.vc=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function M(t){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");M.call(this,n+t[r])}function j(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}R(M,Error),M.prototype.name="CustomError",R(L,M),L.prototype.name="AssertionError";var F=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(p(t))return p(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},U=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},q=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o=p(t)?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=p(t)?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},V=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=p(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function H(t,e){return 0<=F(t,e)}function K(t,e){var n;return(n=0<=(e=F(t,e)))&&W(t,e),n}function W(t,e){return 1==Array.prototype.splice.call(t,e,1).length}function G(t){return Array.prototype.concat.apply([],arguments)}function z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Y(t,e,n,r){return Array.prototype.splice.apply(t,Q(arguments,1))}function Q(t,e,n){return 2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,n)}var X=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,$=/</g,Z=/>/g,tt=/"/g,et=/'/g,nt=/\x00/g,rt=/[\x00&<>"']/;function it(t,e){return t<e?-1:t>e?1:0}function ot(t){return rt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace($,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Z,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(tt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(et,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(nt,"&#0;"))),t}function at(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function st(t){var e,n={};for(e in t)n[e]=t[e];return n}var ut="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ut.length;o++)n=ut[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}var lt="StopIteration"in h?h.StopIteration:{message:"StopIteration",stack:""};function ft(){}function ht(t){if(t instanceof ft)return t;if("function"==typeof t.ha)return t.ha(!1);if(_(t)){var e=0,n=new ft;return n.next=function(){for(;;){if(e>=t.length)throw lt;if(e in t)return t[e++];e++}},n}throw Error("Not implemented")}function dt(t,e){this.g={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof dt)for(n=t.ja(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function pt(t){if(t.h!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];vt(t.g,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.h!=t.a.length){var i={};for(n=e=0;e<t.a.length;)vt(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function vt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}ft.prototype.next=function(){throw lt},ft.prototype.ha=function(){return this},(t=dt.prototype).la=function(){pt(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.g[this.a[e]]);return t},t.ja=function(){return pt(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0},t.get=function(t,e){return vt(this.g,t)?this.g[t]:e},t.set=function(t,e){vt(this.g,t)||(this.h++,this.a.push(t),this.j++),this.g[t]=e},t.forEach=function(t,e){for(var n=this.ja(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}},t.ha=function(t){pt(this);var e=0,n=this.j,r=this,i=new ft;return i.next=function(){if(n!=r.j)throw Error("The map has changed since the iterator was created");if(e>=r.a.length)throw lt;var i=r.a[e++];return t?i:r.g[i]},i};var gt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mt(t,e,n,r){for(var i=n.length;0<=(e=t.indexOf(n,e))&&e<r;){var o=t.charCodeAt(e-1);if(!(38!=o&&63!=o||(o=t.charCodeAt(e+i))&&61!=o&&38!=o&&35!=o))return e;e+=i+1}return-1}var yt=/#|$/;function bt(t,e){var n=t.search(yt),r=mt(t,0,e,n);if(0>r)return null;var i=t.indexOf("&",r);return(0>i||i>n)&&(i=n),r+=e.length+1,decodeURIComponent(t.substr(r,i-r).replace(/\+/g," "))}var wt=/[?&]($|#)/;function _t(t,e){var n;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,t instanceof _t?(this.i=d(e)?e:t.i,It(this,t.j),this.A=t.A,this.h=t.h,Et(this,t.C),this.g=t.g,Tt(this,Ft(t.a)),this.s=t.s):t&&(n=String(t).match(gt))?(this.i=!!e,It(this,n[1]||"",!0),this.A=Ct(n[2]||""),this.h=Ct(n[3]||"",!0),Et(this,n[4]),this.g=Ct(n[5]||"",!0),Tt(this,n[6]||"",!0),this.s=Ct(n[7]||"")):(this.i=!!e,this.a=new Rt(null,this.i))}function It(t,e,n){t.j=n?Ct(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Et(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.C=e}else t.C=null}function Tt(t,e,n){e instanceof Rt?(t.a=e,function(t,e){e&&!t.j&&(Mt(t),t.h=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Lt(this,e),Lt(this,n),0<t.length&&(this.h=null,this.a.set(Ut(this,n),z(t)),this.g+=t.length))}),t)),t.j=e}(t.a,t.i)):(n||(e=kt(e,Ot)),t.a=new Rt(e,t.i))}function St(t){return t instanceof _t?new _t(t):new _t(t,void 0)}function Ct(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function kt(t,e,n){return p(t)?(t=encodeURI(t).replace(e,xt),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function xt(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}_t.prototype.toString=function(){var t=[],e=this.j;e&&t.push(kt(e,At,!0),":");var n=this.h;return(n||"file"==e)&&(t.push("//"),(e=this.A)&&t.push(kt(e,At,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.C)&&t.push(":",String(n))),(n=this.g)&&(this.h&&"/"!=n.charAt(0)&&t.push("/"),t.push(kt(n,"/"==n.charAt(0)?Pt:Nt,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.s)&&t.push("#",kt(n,Dt)),t.join("")};var At=/[#\/\?@]/g,Nt=/[#\?:]/g,Pt=/[#\?]/g,Ot=/[#\?@]/g,Dt=/#/g;function Rt(t,e){this.g=this.a=null,this.h=t||null,this.j=!!e}function Mt(t){t.a||(t.a=new dt,t.g=0,t.h&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.h,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Lt(t,e){Mt(t),e=Ut(t,e),vt(t.a.g,e)&&(t.h=null,t.g-=t.a.get(e).length,vt((t=t.a).g,e)&&(delete t.g[e],t.h--,t.j++,t.a.length>2*t.h&&pt(t)))}function jt(t,e){return Mt(t),e=Ut(t,e),vt(t.a.g,e)}function Ft(t){var e=new Rt;return e.h=t.h,t.a&&(e.a=new dt(t.a),e.g=t.g),e}function Ut(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function qt(t){this.a=St(t)}function Bt(t){return t.a.a.get(Kt.Pa)||null}function Vt(t,e){e?t.a.a.set(Kt.PROVIDER_ID,e):Lt(t.a.a,Kt.PROVIDER_ID)}(t=Rt.prototype).add=function(t,e){Mt(this),this.h=null,t=Ut(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.g+=1,this},t.clear=function(){this.a=this.h=null,this.g=0},t.forEach=function(t,e){Mt(this),this.a.forEach((function(n,r){U(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.ja=function(){Mt(this);for(var t=this.a.la(),e=this.a.ja(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.la=function(t){Mt(this);var e=[];if(p(t))jt(this,t)&&(e=G(e,this.a.get(Ut(this,t))));else{t=this.a.la();for(var n=0;n<t.length;n++)e=G(e,t[n])}return e},t.set=function(t,e){return Mt(this),this.h=null,jt(this,t=Ut(this,t))&&(this.g-=this.a.get(t).length),this.a.set(t,[e]),this.g+=1,this},t.get=function(t,e){return t&&0<(t=this.la(t)).length?String(t[0]):e},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var t=[],e=this.a.ja(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.la(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.h=t.join("&")},qt.prototype.toString=function(){return this.a.toString()};var Ht,Kt={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};t:{var Wt=h.navigator;if(Wt){var Gt=Wt.userAgent;if(Gt){Ht=Gt;break t}}Ht=""}function zt(t){return-1!=Ht.indexOf(t)}function Yt(){return(zt("Chrome")||zt("CriOS"))&&!zt("Edge")}function Qt(t){return Qt[" "](t),t}Qt[" "]=m;var Xt,Jt,$t=zt("Opera"),Zt=zt("Trident")||zt("MSIE"),te=zt("Edge"),ee=te||Zt,ne=zt("Gecko")&&!(-1!=Ht.toLowerCase().indexOf("webkit")&&!zt("Edge"))&&!(zt("Trident")||zt("MSIE"))&&!zt("Edge"),re=-1!=Ht.toLowerCase().indexOf("webkit")&&!zt("Edge"),ie=re&&zt("Mobile"),oe=zt("Macintosh");function ae(){var t=h.document;return t?t.documentMode:void 0}t:{var se="",ue=(Jt=Ht,ne?/rv:([^\);]+)(\)|;)/.exec(Jt):te?/Edge\/([\d\.]+)/.exec(Jt):Zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Jt):re?/WebKit\/(\S+)/.exec(Jt):$t?/(?:Version)[ \/]?(\S+)/.exec(Jt):void 0);if(ue&&(se=ue?ue[1]:""),Zt){var ce=ae();if(null!=ce&&ce>parseFloat(se)){Xt=String(ce);break t}}Xt=se}var le,fe={};function he(t){return function(t,e){var n=fe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=X(String(Xt)).split("."),r=X(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=it(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||it(0==a[2].length,0==s[2].length)||it(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var de=h.document;function pe(t,e){this.a=t===ge&&e||"",this.g=ve}le=de&&Zt?ae()||("CSS1Compat"==de.compatMode?parseInt(Xt,10):5):void 0,pe.prototype.ma=!0,pe.prototype.ka=function(){return this.a},pe.prototype.toString=function(){return"Const{"+this.a+"}"};var ve={},ge={};function me(){this.a="",this.h=be}function ye(t){return t instanceof me&&t.constructor===me&&t.h===be?t.a:(j("expected object of type TrustedResourceUrl, got '"+t+"' of type "+b(t)),"type_error:TrustedResourceUrl")}me.prototype.ma=!0,me.prototype.ka=function(){return this.a.toString()},me.prototype.g=function(){return 1},me.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var be={};function we(){this.a="",this.h=Se}function _e(t){return t instanceof we&&t.constructor===we&&t.h===Se?t.a:(j("expected object of type SafeUrl, got '"+t+"' of type "+b(t)),"type_error:SafeUrl")}we.prototype.ma=!0,we.prototype.ka=function(){return this.a.toString()},we.prototype.g=function(){return 1},we.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ie=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ee(t){return t instanceof we?t:(t="object"==typeof t&&t.ma?t.ka():String(t),Ie.test(t)||(t="about:invalid#zClosurez"),Ce(t))}function Te(t){return t instanceof we?t:(t="object"==typeof t&&t.ma?t.ka():String(t),Ie.test(t)||(t="about:invalid#zClosurez"),Ce(t))}var Se={};function Ce(t){var e=new we;return e.a=t,e}function ke(){this.a="",this.g=xe}Ce("about:blank"),ke.prototype.ma=!0;var xe={};function Ae(){this.a="",this.j=Pe,this.h=null}function Ne(t){return t instanceof Ae&&t.constructor===Ae&&t.j===Pe?t.a:(j("expected object of type SafeHtml, got '"+t+"' of type "+b(t)),"type_error:SafeHtml")}ke.prototype.ka=function(){return this.a},ke.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},Ae.prototype.g=function(){return this.h},Ae.prototype.ma=!0,Ae.prototype.ka=function(){return this.a.toString()},Ae.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Pe={};function Oe(t,e){var n=new Ae;return n.a=t,n.h=e,n}Oe("<!DOCTYPE html>",0);var De=Oe("",0);Oe("<br>",0);var Re,Me,Le=(Me=!1,function(){return Me||(Re=function(){if("undefined"==typeof document)return!1;var t=document.createElement("div"),e=document.createElement("div");return e.appendChild(document.createElement("div")),t.appendChild(e),!!t.firstChild&&(e=t.firstChild.firstChild,t.innerHTML=Ne(De),!e.parentElement)}(),Me=!0),Re});function je(t,e){e=e instanceof we?e:Te(e),t.assign(_e(e))}function Fe(t,e){this.a=d(t)?t:0,this.g=d(e)?e:0}function Ue(t,e){this.width=t,this.height=e}function qe(t){return t?new Xe(ze(t)):P||(P=new Xe)}function Be(t,e){var n=e||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+t):He(document,t,e)}function Ve(t,e){var n=e||document;if(n.getElementsByClassName)t=n.getElementsByClassName(t)[0];else{n=document;var r=e||n;t=r.querySelectorAll&&r.querySelector&&t?r.querySelector(t?"."+t:""):He(n,t,e)[0]||null}return t||null}function He(t,e,n){var r;if((t=n||t).querySelectorAll&&t.querySelector&&e)return t.querySelectorAll(e?"."+e:"");if(e&&t.getElementsByClassName){var i=t.getElementsByClassName(e);return i}if(i=t.getElementsByTagName("*"),e){var o={};for(n=r=0;t=i[n];n++){var a=t.className;"function"==typeof a.split&&H(a.split(/\s+/),e)&&(o[r++]=t)}return o.length=r,o}return i}Fe.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Fe.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Fe.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Fe.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(t=Ue.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var Ke={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function We(t){return t.scrollingElement?t.scrollingElement:(re||"CSS1Compat"!=t.compatMode)&&t.body||t.documentElement}function Ge(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ze(t){return 9==t.nodeType?t:t.ownerDocument||t.document}function Ye(t,e){if("textContent"in t)t.textContent=e;else if(3==t.nodeType)t.data=String(e);else if(t.firstChild&&3==t.firstChild.nodeType){for(;t.lastChild!=t.firstChild;)t.removeChild(t.lastChild);t.firstChild.data=String(e)}else{for(var n;n=t.firstChild;)t.removeChild(n);t.appendChild(ze(t).createTextNode(String(e)))}}function Qe(t,e){return e?function(t,e){for(;t;){if(e(t))return t;t=t.parentNode}return null}(t,(function(t){return!e||p(t.className)&&H(t.className.split(/\s+/),e)})):null}function Xe(t){this.a=t||h.document||document}Xe.prototype.N=function(){return p(void 0)?this.a.getElementById(void 0):void 0};var Je={Fc:!0},$e={Hc:!0},Ze={Ec:!0},tn={Gc:!0};function en(){throw Error("Do not instantiate directly")}function nn(t,e,n,r){if(t=t(e||on,void 0,n),r=(r||qe()).a.createElement("DIV"),(t=function(t){if(!E(t))return ot(String(t));if(t instanceof en){if(t.fa===Je)return t.content;if(t.fa===tn)return ot(t.content)}return j("Soy template output is unsafe for use as HTML: "+t),"zSoyz"}(t)).match(rn),t=Oe(t,null),Le())for(;r.lastChild;)r.removeChild(r.lastChild);return r.innerHTML=Ne(t),1==r.childNodes.length&&1==(t=r.firstChild).nodeType&&(r=t),r}en.prototype.va=null,en.prototype.toString=function(){return this.content};var rn=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,on={};function an(){en.call(this)}function sn(t){return null!=t&&t.fa===Je?t:t instanceof Ae?fn(Ne(t).toString(),t.g()):fn(ot(String(String(t))),function(t){if(null!=t)switch(t.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}(t))}function un(){en.call(this)}function cn(t,e){this.content=String(t),this.va=null!=e?e:null}function ln(t){return new cn(t,void 0)}R(an,en),an.prototype.fa=Je,R(un,en),un.prototype.fa=$e,un.prototype.va=1,R(cn,en),cn.prototype.fa=tn;var fn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,n){return t=new e(String(t)),void 0!==n&&(t.va=n),t}}(an),hn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t){return new e(String(t))}}(un);function dn(t){return(t=String(t))?new cn(t,void 0):""}var pn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,n){return(t=String(t))?(t=new e(t),void 0!==n&&(t.va=n),t):""}}(an);function vn(t){return null!=t&&t.fa===Je?String(String(t.content).replace(Cn,"").replace(kn,"&lt;")).replace(In,bn):ot(String(t))}function gn(t){return null!=t&&t.fa===$e?t=String(t).replace(En,_n):t instanceof we?t=String(_e(t).toString()).replace(En,_n):(t=String(t),Sn.test(t)?t=t.replace(En,_n):(j("Bad value `%s` for |filterNormalizeUri",[t]),t="#zSoyz")),t}function mn(t){return null!=t&&t.fa===Ze?t=t.content:null==t?t="":t instanceof ke?t instanceof ke&&t.constructor===ke&&t.g===xe?t=t.a:(j("expected object of type SafeStyle, got '"+t+"' of type "+b(t)),t="type_error:SafeStyle"):(t=String(t),Tn.test(t)||(j("Bad value `%s` for |filterCssValue",[t]),t="zSoyz")),t}var yn={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function bn(t){return yn[t]}var wn={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function _n(t){return wn[t]}var In=/[\x00\x22\x27\x3c\x3e]/g,En=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,Tn=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,Sn=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Cn=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,kn=/</g;function xn(){return ln("Enter a valid phone number")}function An(){return ln("Unable to send password reset code to specified email")}function Nn(){return ln("Something went wrong. Please try again.")}function Pn(){return ln("This email already exists without any means of sign-in. Please reset the password to recover.")}function On(t){var e="";switch((t=t||{}).code){case"invalid-argument":e+="Client specified an invalid argument.";break;case"invalid-configuration":e+="Client specified an invalid project configuration.";break;case"failed-precondition":e+="Request can not be executed in the current system state.";break;case"out-of-range":e+="Client specified an invalid range.";break;case"unauthenticated":e+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":e+="Client does not have sufficient permission.";break;case"not-found":e+="Specified resource is not found.";break;case"aborted":e+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":e+="The resource that a client tried to create already exists.";break;case"resource-exhausted":e+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":e+="Request cancelled by the client.";break;case"data-loss":e+="Unrecoverable data loss or data corruption.";break;case"unknown":e+="Unknown server error.";break;case"internal":e+="Internal server error.";break;case"not-implemented":e+="API method not implemented by the server.";break;case"unavailable":e+="Service unavailable.";break;case"deadline-exceeded":e+="Request deadline exceeded.";break;case"auth/user-disabled":e+="The user account has been disabled by an administrator.";break;case"auth/timeout":e+="The operation has timed out.";break;case"auth/too-many-requests":e+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":e+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":e+="A network error has occurred. Try again later.";break;case"restart-process":e+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":e+="No sign-in provider is available for the given email, please try with a different email."}return ln(e)}function Dn(){return ln("Please login again to perform this operation")}function Rn(t,e,n){var r=Error.call(this);if(this.message=r.message,"stack"in r&&(this.stack=r.stack),this.code=Mn+t,!(t=e)){switch(t="",this.code){case"firebaseui/merge-conflict":t+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:t+=Nn()}t=ln(t).toString()}this.message=t||"",this.credential=n||null}u(Rn,Error),Rn.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Mn="firebaseui/";function Ln(){0!=jn&&(Fn[this[T]||(this[T]=++S)]=this),this.T=this.T,this.C=this.C}var jn=0,Fn={};function Un(t,e){t.T?d(void 0)?e.call(void 0):e():(t.C||(t.C=[]),t.C.push(d(void 0)?x(e,void 0):e))}function qn(t){t&&"function"==typeof t.o&&t.o()}Ln.prototype.T=!1,Ln.prototype.o=function(){if(!this.T&&(this.T=!0,this.m(),0!=jn)){var t=this[T]||(this[T]=++S);if(0!=jn&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Fn[t]}},Ln.prototype.m=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var Bn=Object.freeze||function(t){return t},Vn=!Zt||9<=Number(le),Hn=Zt&&!he("9"),Kn=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{h.addEventListener("test",m,e),h.removeEventListener("test",m,e)}catch(t){}return t}();function Wn(t,e){this.type=t,this.g=this.target=e,this.h=!1,this.qb=!0}function Gn(t,e){if(Wn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ne){t:{try{Qt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.key=t.key||"",this.j=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=p(t.pointerType)?t.pointerType:zn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Wn.prototype.stopPropagation=function(){this.h=!0},Wn.prototype.preventDefault=function(){this.qb=!1},R(Gn,Wn);var zn=Bn({2:"touch",3:"pen",4:"mouse"});Gn.prototype.stopPropagation=function(){Gn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Gn.prototype.preventDefault=function(){Gn.K.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Hn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Yn="closure_listenable_"+(1e6*Math.random()|0),Qn=0;function Xn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++Qn,this.sa=this.Ia=!1}function Jn(t){t.sa=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function $n(t){this.src=t,this.a={},this.g=0}function Zn(t,e){var n=e.type;n in t.a&&K(t.a[n],e)&&(Jn(e),0==t.a[n].length&&(delete t.a[n],t.g--))}function tr(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.sa&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}$n.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.g++);var a=tr(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new Xn(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var er="closure_lm_"+(1e6*Math.random()|0),nr={};function rr(t,e,n,r,i){if(r&&r.once)return or(t,e,n,r,i);if(w(e)){for(var o=0;o<e.length;o++)rr(t,e[o],n,r,i);return null}return n=pr(n),t&&t[Yn]?t.J.add(String(e),n,!1,E(r)?!!r.capture:!!r,i):ir(t,e,n,!1,r,i)}function ir(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=E(i)?!!i.capture:!!i,s=hr(t);if(s||(t[er]=s=new $n(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=fr,e=Vn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Kn||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ur(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function or(t,e,n,r,i){if(w(e)){for(var o=0;o<e.length;o++)or(t,e[o],n,r,i);return null}return n=pr(n),t&&t[Yn]?t.J.add(String(e),n,!0,E(r)?!!r.capture:!!r,i):ir(t,e,n,!0,r,i)}function ar(t,e,n,r,i){if(w(e))for(var o=0;o<e.length;o++)ar(t,e[o],n,r,i);else r=E(r)?!!r.capture:!!r,n=pr(n),t&&t[Yn]?(t=t.J,(e=String(e).toString())in t.a&&-1<(n=tr(o=t.a[e],n,r,i))&&(Jn(o[n]),W(o,n),0==o.length&&(delete t.a[e],t.g--))):t&&(t=hr(t))&&(e=t.a[e.toString()],t=-1,e&&(t=tr(e,n,r,i)),(n=-1<t?e[t]:null)&&sr(n))}function sr(t){if("number"!=typeof t&&t&&!t.sa){var e=t.src;if(e&&e[Yn])Zn(e.J,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ur(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=hr(e))?(Zn(n,t),0==n.g&&(n.src=null,e[er]=null)):Jn(t)}}}function ur(t){return t in nr?nr[t]:nr[t]="on"+t}function cr(t,e,n,r){var i=!0;if((t=hr(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.sa&&(o=lr(o,r),i=i&&!1!==o)}return i}function lr(t,e){var n=t.listener,r=t.La||t.src;return t.Ia&&sr(t),n.call(r,e)}function fr(t,e){if(t.sa)return!0;if(!Vn){if(!e)t:{e=["window","event"];for(var n=h,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Gn(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.g;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;!e.h&&0<=i;i--){e.g=r[i];var o=cr(r[i],t,!0,e);n=n&&o}for(i=0;!e.h&&i<r.length;i++)e.g=r[i],o=cr(r[i],t,!1,e),n=n&&o}return n}return lr(t,new Gn(e,this))}function hr(t){return(t=t[er])instanceof $n?t:null}var dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function pr(t){return I(t)?t:(t[dr]||(t[dr]=function(e){return t.handleEvent(e)}),t[dr])}function vr(){Ln.call(this),this.J=new $n(this),this.wb=this,this.Ha=null}function gr(t,e){var n,r=t.Ha;if(r)for(n=[];r;r=r.Ha)n.push(r);if(t=t.wb,r=e.type||e,p(e))e=new Wn(e,t);else if(e instanceof Wn)e.target=e.target||t;else{var i=e;ct(e=new Wn(r,t),i)}if(i=!0,n)for(var o=n.length-1;!e.h&&0<=o;o--){var a=e.g=n[o];i=mr(a,r,!0,e)&&i}if(e.h||(i=mr(a=e.g=t,r,!0,e)&&i,e.h||(i=mr(a,r,!1,e)&&i)),n)for(o=0;!e.h&&o<n.length;o++)i=mr(a=e.g=n[o],r,!1,e)&&i;return i}function mr(t,e,n,r){if(!(e=t.J.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.sa&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&Zn(t.J,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.qb}R(vr,Ln),vr.prototype[Yn]=!0,vr.prototype.Za=function(t){this.Ha=t},vr.prototype.removeEventListener=function(t,e,n,r){ar(this,t,e,n,r)},vr.prototype.m=function(){if(vr.K.m.call(this),this.J){var t,e=this.J;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Jn(n[r]);delete e.a[t],e.g--}}this.Ha=null};var yr={},br=0;function wr(t,e){if(!t)throw Error("Event target element must be provided!");if(t=_r(t),yr[t]&&yr[t].length)for(var n=0;n<yr[t].length;n++)gr(yr[t][n],e)}function _r(t){return void 0===t.a&&(t.a=br,br++),t.a}function Ir(t){if(!t)throw Error("Event target element must be provided!");vr.call(this),this.a=t}function Er(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function Tr(t,e){this.h=t,this.j=e,this.g=0,this.a=null}function Sr(t,e){t.j(e),100>t.g&&(t.g++,e.next=t.a,t.a=e)}function Cr(){this.g=this.a=null}u(Ir,vr),Ir.prototype.N=function(){return this.a},Ir.prototype.register=function(){var t=_r(this.N());yr[t]?H(yr[t],this)||yr[t].push(this):yr[t]=[this]},Tr.prototype.get=function(){if(0<this.g){this.g--;var t=this.a;this.a=t.next,t.next=null}else t=this.h();return t};var kr,xr,Ar=new Tr((function(){return new Pr}),(function(t){t.reset()}));function Nr(){var t=Mr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.g=null),e.next=null),e}function Pr(){this.next=this.g=this.a=null}function Or(t){h.setTimeout((function(){throw t}),0)}function Dr(t,e){xr||function(){if(h.Promise&&h.Promise.resolve){var t=h.Promise.resolve(void 0);xr=function(){t.then(Lr)}}else xr=function(){var t=Lr;!I(h.setImmediate)||h.Window&&h.Window.prototype&&!zt("Edge")&&h.Window.prototype.setImmediate==h.setImmediate?(kr||(kr=function(){var t=h.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!zt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=x((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!zt("Trident")&&!zt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(d(n.next)){var t=(n=n.next).gb;n.gb=null,t()}},function(t){r.next={gb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){h.setTimeout(t,0)}}()),kr(t)):h.setImmediate(t)}}(),Rr||(xr(),Rr=!0),Mr.add(t,e)}Cr.prototype.add=function(t,e){var n=Ar.get();n.set(t,e),this.g?this.g.next=n:this.a=n,this.g=n},Pr.prototype.set=function(t,e){this.a=t,this.g=e,this.next=null},Pr.prototype.reset=function(){this.next=this.g=this.a=null};var Rr=!1,Mr=new Cr;function Lr(){for(var t;t=Nr();){try{t.a.call(t.g)}catch(t){Or(t)}Sr(Ar,t)}Rr=!1}function jr(t){if(this.a=Fr,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,t!=m)try{var e=this;t.call(void 0,(function(t){Qr(e,Ur,t)}),(function(t){if(!(t instanceof ei))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Qr(e,qr,t)}))}catch(t){Qr(this,qr,t)}}var Fr=0,Ur=2,qr=3;function Br(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}Br.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var Vr=new Tr((function(){return new Br}),(function(t){t.reset()}));function Hr(t,e,n){var r=Vr.get();return r.s=t,r.g=e,r.j=n,r}function Kr(t){if(t instanceof jr)return t;var e=new jr(m);return Qr(e,Ur,t),e}function Wr(t){return new jr((function(e,n){n(t)}))}function Gr(t,e){if(t.a==Fr)if(t.h){var n=t.h;if(n.g){for(var r=0,i=null,o=null,a=n.g;a&&(a.h||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Fr&&1==r?Gr(n,e):(o?((r=o).next==n.j&&(n.j=r),r.next=r.next.next):Jr(n),$r(n,i,qr,e)))}t.h=null}else Qr(t,qr,e)}function zr(t,e){t.g||t.a!=Ur&&t.a!=qr||Xr(t),t.j?t.j.next=e:t.g=e,t.j=e}function Yr(t,e,n,r){var i=Hr(null,null,null);return i.a=new jr((function(t,o){i.s=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.g=n?function(e){try{var i=n.call(r,e);!d(i)&&e instanceof ei?o(e):t(i)}catch(t){o(t)}}:o})),i.a.h=t,zr(t,i),i.a}function Qr(t,e,n){if(t.a==Fr){t===n&&(e=qr,n=new TypeError("Promise cannot resolve to itself")),t.a=1;t:{var r=n,i=t.hc,o=t.ic;if(r instanceof jr){zr(r,Hr(i||m,o||null,t));var a=!0}else if(Er(r))r.then(i,o,t),a=!0;else{if(E(r))try{var s=r.then;if(I(s)){!function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}}(r,s,i,o,t),a=!0;break t}}catch(e){o.call(t,e),a=!0;break t}a=!1}}a||(t.A=n,t.a=e,t.h=null,Xr(t),e!=qr||n instanceof ei||function(t,e){t.s=!0,Dr((function(){t.s&&ti.call(null,e)}))}(t,n))}}function Xr(t){t.i||(t.i=!0,Dr(t.Hb,t))}function Jr(t){var e=null;return t.g&&(e=t.g,t.g=e.next,e.next=null),t.g||(t.j=null),e}function $r(t,e,n,r){if(n==qr&&e.g&&!e.h)for(;t&&t.s;t=t.h)t.s=!1;if(e.a)e.a.h=null,Zr(e,n,r);else try{e.h?e.s.call(e.j):Zr(e,n,r)}catch(t){ti.call(null,t)}Sr(Vr,e)}function Zr(t,e,n){e==Ur?t.s.call(t.j,n):t.g&&t.g.call(t.j,n)}jr.prototype.then=function(t,e,n){return Yr(this,I(t)?t:null,I(e)?e:null,n)},jr.prototype.$goog_Thenable=!0,(t=jr.prototype).fc=function(t,e){return(t=Hr(t,t,e)).h=!0,zr(this,t),this},t.Ca=function(t,e){return Yr(this,null,t,e)},t.cancel=function(t){this.a==Fr&&Dr((function(){Gr(this,new ei(t))}),this)},t.hc=function(t){this.a=Fr,Qr(this,Ur,t)},t.ic=function(t){this.a=Fr,Qr(this,qr,t)},t.Hb=function(){for(var t;t=Jr(this);)$r(this,t,this.a,this.A);this.i=!1};var ti=Or;function ei(t){M.call(this,t)}function ni(t,e,n){e||(e={}),n=n||window;var r=t instanceof we?t:Ee(void 0!==t.href?t.href:String(t));t=e.target||t.target;var i=[];for(o in e)switch(o){case"width":case"height":case"top":case"left":i.push(o+"="+e[o]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(o+"="+(e[o]?1:0))}var o=i.join(",");return(zt("iPhone")&&!zt("iPod")&&!zt("iPad")||zt("iPad")||zt("iPod"))&&n.navigator&&n.navigator.standalone&&t&&"_self"!=t?(o=n.document.createElement("A"),r=r instanceof we?r:Te(r),o.href=_e(r),o.setAttribute("target",t),e.noreferrer&&o.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),o.dispatchEvent(e),n={}):e.noreferrer?(n=n.open("",t,o),e=_e(r).toString(),n&&(ee&&-1!=e.indexOf(";")&&(e="'"+e.replace(/'/g,"%27")+"'"),n.opener=null,e=Oe('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ot(e)+'">',null),n.document.write(Ne(e)),n.document.close())):(n=n.open(_e(r).toString(),t,o))&&e.noopener&&(n.opener=null),n}function ri(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch(t){}return!1}function ii(t){ni(t,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function oi(t,e){if(null==(t=E(t)&&1==t.nodeType?t:document.querySelector(String(t))))throw Error(e||"Cannot find element.");return t}function ai(){return window.location.href}function si(t){var e=mi;this.s=[],this.T=e,this.O=t||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function ui(t,e,n){t.a=!0,t.h=n,t.j=!e,hi(t)}function ci(t){if(t.a){if(!t.J)throw new di(t);t.J=!1}}function li(t,e,n){t.s.push([e,n,void 0]),t.a&&hi(t)}function fi(t){return V(t.s,(function(t){return I(t[1])}))}function hi(t){if(t.i&&t.a&&fi(t)){var e=t.i,n=gi[e];n&&(h.clearTimeout(n.a),delete gi[e]),t.i=0}t.g&&(t.g.C--,delete t.g),e=t.h;for(var r=n=!1;t.s.length&&!t.A;){var i=t.s.shift(),o=i[0],a=i[1];if(i=i[2],o=t.j?a:o)try{var s=o.call(i||t.O,e);d(s)&&(t.j=t.j&&(s==e||s instanceof Error),t.h=e=s),(Er(e)||"function"==typeof h.Promise&&e instanceof h.Promise)&&(r=!0,t.A=!0)}catch(r){e=r,t.j=!0,fi(t)||(n=!0)}}t.h=e,r&&(s=x(t.L,t,!0),r=x(t.L,t,!1),e instanceof si?(li(e,s,r),e.l=!0):e.then(s,r)),n&&(e=new vi(e),gi[e.a]=e,t.i=e.a)}function di(){M.call(this)}function pi(){M.call(this)}function vi(t){this.a=h.setTimeout(x(this.h,this),0),this.g=t}R(ei,M),ei.prototype.name="cancel",si.prototype.cancel=function(t){if(this.a)this.h instanceof si&&this.h.cancel();else{if(this.g){var e=this.g;delete this.g,t?e.cancel(t):(e.C--,0>=e.C&&e.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(t=new pi(this),ci(this),ui(this,!1,t))}},si.prototype.L=function(t,e){this.A=!1,ui(this,t,e)},si.prototype.callback=function(t){ci(this),ui(this,!0,t)},si.prototype.then=function(t,e,n){var r,i,o=new jr((function(t,e){r=t,i=e}));return li(this,r,(function(t){t instanceof pi?o.cancel():i(t)})),o.then(t,e,n)},si.prototype.$goog_Thenable=!0,R(di,M),di.prototype.message="Deferred has already fired",di.prototype.name="AlreadyCalledError",R(pi,M),pi.prototype.message="Deferred was canceled",pi.prototype.name="CanceledError",vi.prototype.h=function(){throw delete gi[this.a],this.g};var gi={};function mi(){if(this&&this.rb){var t=this.rb;t&&"SCRIPT"==t.tagName&&yi(t,!0,this.sb)}}function yi(t,e,n){null!=n&&h.clearTimeout(n),t.onload=m,t.onerror=m,t.onreadystatechange=m,e&&window.setTimeout((function(){Ge(t)}),0)}var bi=0,wi=1;function _i(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),M.call(this,n),this.code=t}function Ii(){return h.google&&h.google.accounts&&h.google.accounts.id||null}function Ei(t){this.a=t||Ii(),this.h=!1,this.g=null}function Ti(t,e,n){return t.a&&e?(t.h=!0,new jr((function(r){t.g=r,t.a.initialize({client_id:e,callback:r,auto_select:!n}),t.a.prompt()}))):Kr(e?Ci.Xa().load().then((function(){return t.a=Ii(),Ti(t,e,n)})).Ca((function(){return null})):null)}R(_i,M),Ei.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},y(Ei);var Si=new pe(ge,"https://accounts.google.com/gsi/client");function Ci(){this.a=null}function ki(t,e){this.a=t,this.g=e||function(t){throw t}}function xi(t,e,n){this.reset(t,e,n,void 0,void 0)}function Ai(t){this.s=t,this.a=this.h=this.j=this.g=null}function Ni(t,e){this.name=t,this.value=e}Ci.prototype.load=function(){var t=this;if(this.a)return this.a;var e=function(){var t=Si;t instanceof pe&&t.constructor===pe&&t.g===ve?t=t.a:(j("expected object of type Const, got '"+t+"'"),t="type_error:Const");var e=new me;return e.a=t,e}();return Ii()?Kr():this.a=function(){var t=null;return new jr((function(e){"complete"==h.document.readyState?e():(t=function(){e()},or(window,"load",t))})).Ca((function(e){throw ar(window,"load",t),e}))}().then((function(){if(!Ii())return new jr((function(n,r){var i=setTimeout((function(){t.a=null,r(Error("Network error!"))}),1e4);h.onGoogleLibraryLoad=function(){clearTimeout(i),n()},Kr(function(t){var e={},n=e.document||document,r=ye(t).toString(),i=document.createElement("SCRIPT"),o={rb:i,sb:void 0},a=new si(o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout((function(){yi(i,!0);var t=new _i(wi,"Timeout reached for loading script "+r);ci(a),ui(a,!1,t)}),u),o.sb=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(yi(i,e.xc||!1,s),a.callback(null))},i.onerror=function(){yi(i,!0,s);var t=new _i(bi,"Error while loading script "+r);ci(a),ui(a,!1,t)},ct(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function(t,e){at(e,(function(e,n){e&&"object"==typeof e&&e.ma&&(e=e.ka()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Ke.hasOwnProperty(n)?t.setAttribute(Ke[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}(i,o),function(t,e){t.src=ye(e),null===g&&(g=(e=(e=h.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&v.test(e)?e:""),(e=g)&&t.setAttribute("nonce",e)}(i,t),function(t){var e=(t||document).getElementsByTagName("HEAD");return e&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}(e)).then((function(){Ii()&&n()})).Ca((function(e){clearTimeout(i),t.a=null,r(e)}))}))}))},y(Ci),ki.prototype.confirm=function(t){return Kr(this.a.confirm(t)).Ca(this.g)},xi.prototype.a=null,xi.prototype.reset=function(t,e,n,r,i){this.h=r||O(),this.j=t,this.s=e,this.g=n,delete this.a},Ni.prototype.toString=function(){return this.name};var Pi=new Ni("SEVERE",1e3),Oi=new Ni("WARNING",900),Di=new Ni("CONFIG",700);function Ri(t){return t.j?t.j:t.g?Ri(t.g):(j("Root logger has no level set."),null)}Ai.prototype.log=function(t,e,n){if(t.value>=Ri(this).value)for(I(e)&&(e=e()),t=new xi(t,String(e),this.s),n&&(t.a=n),n=this;n;){var r=n,i=t;if(r.a)for(var o=0;e=r.a[o];o++)e(i);n=n.g}};var Mi={},Li=null;function ji(){Li||(Li=new Ai(""),Mi[""]=Li,Li.j=Di)}function Fi(){this.a=O()}var Ui=null;function qi(t){this.j=t||"",Ui||(Ui=new Fi),this.s=Ui}function Bi(t){return 10>t?"0"+t:String(t)}function Vi(t){qi.call(this,t)}function Hi(){this.s=x(this.h,this),this.a=new Vi,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Fi.prototype.set=function(t){this.a=t},Fi.prototype.reset=function(){this.set(O())},Fi.prototype.get=function(){return this.a},qi.prototype.a=!0,qi.prototype.g=!0,qi.prototype.h=!1,R(Vi,qi),Hi.prototype.h=function(t){if(!this.j[t.g]){var e=function(t,e){var n=[];if(n.push(t.j," "),t.g){var r=new Date(e.h);n.push("[",Bi(r.getFullYear()-2e3)+Bi(r.getMonth()+1)+Bi(r.getDate())+" "+Bi(r.getHours())+":"+Bi(r.getMinutes())+":"+Bi(r.getSeconds())+"."+Bi(Math.floor(r.getMilliseconds()/10)),"] ")}return n.push("[",function(t,e){e=(t=(t.h-e)/1e3).toFixed(3);var n=0;if(1>t)n=2;else for(;100>t;)n++,t*=10;for(;0<n--;)e=" "+e;return e}(e,t.s.get()),"s] "),n.push("[",e.g,"] "),n.push(e.s),t.h&&(e=e.a)&&n.push("\n",e instanceof Error?e.message:e.toString()),t.a&&n.push("\n"),n.join("")}(this.a,t);Wi&&function(t,e,n,r){t[e]?t[e](n,r||""):t.log(n,r||"")}(Wi,function(t){if(t){if(t.value>=Pi.value)return"error";if(t.value>=Oi.value)return"warn";if(t.value>=Di.value)return"log"}return"debug"}(t.j),e,t.a)}};var Ki,Wi=h.console;function Gi(t,e){Ki&&Ki.log(Pi,t,e)}Ki=function t(e){var n;if(ji(),!(n=Mi[e])){n=new Ai(e);var r=e.lastIndexOf("."),i=e.substr(r+1);(r=t(e.substr(0,r))).h||(r.h={}),r.h[i]=n,n.g=r,Mi[e]=n}return n}("firebaseui");var zi=new Hi;if(1!=zi.g){var Yi;ji(),Yi=Li;var Qi=zi.s;Yi.a||(Yi.a=[]),Yi.a.push(Qi),zi.g=!0}function Xi(t){Ki&&Ki.log(Oi,t,void 0)}function Ji(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function $i(t){t=(t.a.cookie||"").split(";");for(var e,n,r=[],i=[],o=0;o<t.length;o++)-1==(e=(n=X(t[o])).indexOf("="))?(r.push(""),i.push(n)):(r.push(n.substring(0,e)),i.push(n.substring(e+1)));return{keys:r,values:i}}(t=Ji.prototype).set=function(t,e,n,r,i,o){if(/[;=\s]/.test(t))throw Error('Invalid cookie name "'+t+'"');if(/[;\r\n]/.test(e))throw Error('Invalid cookie value "'+e+'"');d(n)||(n=-1),i=i?";domain="+i:"",r=r?";path="+r:"",o=o?";secure":"",n=0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(O()+1e3*n).toUTCString(),this.a.cookie=t+"="+e+i+r+n+o},t.get=function(t,e){for(var n,r=t+"=",i=(this.a.cookie||"").split(";"),o=0;o<i.length;o++){if(0==(n=X(i[o])).lastIndexOf(r,0))return n.substr(r.length);if(n==t)return""}return e},t.ja=function(){return $i(this).keys},t.la=function(){return $i(this).values},t.clear=function(){for(var t=$i(this).keys,e=t.length-1;0<=e;e--){var n=t[e];this.get(n),this.set(n,"",0,void 0,void 0)}};var Zi=new Ji;function to(){}function eo(t,e,n,r){this.h=null!=t?t:-1,this.g=e||null,this.a=n||null,this.j=!!r}function no(t,e){this.g=t,this.a=e||null}function ro(t){return{email:t.g,credential:t.a&&t.a.toJSON()}}function io(t){if(t&&t.email){var e=t.credential&&r.default.auth.AuthCredential.fromJSON(t.credential);return new no(t.email,e)}return null}function oo(t){this.a=t||null}function ao(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);255<i&&(e[n++]=255&i,i>>=8),e[n++]=i}return e}function so(t){return B(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}function uo(t){for(this.i=t,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(co*(this.j+1)),t=0;t<this.g;t++)this.a[t]=[this.i[4*t],this.i[4*t+1],this.i[4*t+2],this.i[4*t+3]];var e=Array(4);for(t=this.g;t<co*(this.j+1);t++){if(e[0]=this.a[t-1][0],e[1]=this.a[t-1][1],e[2]=this.a[t-1][2],e[3]=this.a[t-1][3],0==t%this.g){var n=e,r=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=r,mo(e),e[0]^=wo[t/this.g][0],e[1]^=wo[t/this.g][1],e[2]^=wo[t/this.g][2],e[3]^=wo[t/this.g][3]}else 6<this.g&&4==t%this.g&&mo(e);this.a[t]=Array(4),this.a[t][0]=this.a[t-this.g][0]^e[0],this.a[t][1]=this.a[t-this.g][1]^e[1],this.a[t][2]=this.a[t-this.g][2]^e[2],this.a[t][3]=this.a[t-this.g][3]^e[3]}}u(eo,to),eo.prototype.set=function(t,e){Zi.set(t,e,this.h,this.g,this.a,this.j)},eo.prototype.get=function(t){return Zi.get(t)||null},eo.prototype.ra=function(t){var e=this.g,n=this.a;Zi.get(t),Zi.set(t,"",0,e,n)},uo.prototype.A=16;var co=uo.prototype.A/4;function lo(t,e){for(var n,r=0;r<co;r++)for(var i=0;4>i;i++)n=e[n=4*i+r],t.h[r][i]=n}function fo(t){for(var e=[],n=0;n<co;n++)for(var r=0;4>r;r++)e[4*r+n]=t.h[n][r];return e}function ho(t,e){for(var n=0;4>n;n++)for(var r=0;4>r;r++)t.h[n][r]^=t.a[4*e+r][n]}function po(t,e){for(var n=0;4>n;n++)for(var r=0;4>r;r++)t.h[n][r]=e[t.h[n][r]]}function vo(t){for(var e=1;4>e;e++)for(var n=0;4>n;n++)t.s[e][n]=t.h[e][n];for(e=1;4>e;e++)for(n=0;4>n;n++)t.h[e][n]=t.s[e][(n+e)%co]}function go(t){for(var e=1;4>e;e++)for(var n=0;4>n;n++)t.s[e][(n+e)%co]=t.h[e][n];for(e=1;4>e;e++)for(n=0;4>n;n++)t.h[e][n]=t.s[e][n]}function mo(t){t[0]=yo[t[0]],t[1]=yo[t[1]],t[2]=yo[t[2]],t[3]=yo[t[3]]}var yo=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],bo=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],wo=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],_o=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Io=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Eo=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],To=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],So=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Co=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function ko(t,e){t=new uo(Ao(t));for(var n,r=Y(e=ao(e),0,16),i="";r.length;){n=16-r.length;for(var o=0;o<n;o++)r.push(0);for(lo(n=t,r),ho(n,0),r=1;r<n.j;++r){po(n,yo),vo(n),o=n.h;for(var a=n.s[0],s=0;4>s;s++)a[0]=o[0][s],a[1]=o[1][s],a[2]=o[2][s],a[3]=o[3][s],o[0][s]=_o[a[0]]^Io[a[1]]^a[2]^a[3],o[1][s]=a[0]^_o[a[1]]^Io[a[2]]^a[3],o[2][s]=a[0]^a[1]^_o[a[2]]^Io[a[3]],o[3][s]=Io[a[0]]^a[1]^a[2]^_o[a[3]];ho(n,r)}po(n,yo),vo(n),ho(n,n.j),i+=so(fo(n)),r=Y(e,0,16)}return i}function xo(t,e){t=new uo(Ao(t));for(var n=[],r=0;r<e.length;r+=2)n.push(parseInt(e.substring(r,r+2),16));var i=Y(n,0,16);for(e="";i.length;){for(lo(r=t,i),ho(r,r.j),i=1;i<r.j;++i){go(r),po(r,bo),ho(r,r.j-i);for(var o=r.h,a=r.s[0],s=0;4>s;s++)a[0]=o[0][s],a[1]=o[1][s],a[2]=o[2][s],a[3]=o[3][s],o[0][s]=Co[a[0]]^To[a[1]]^So[a[2]]^Eo[a[3]],o[1][s]=Eo[a[0]]^Co[a[1]]^To[a[2]]^So[a[3]],o[2][s]=So[a[0]]^Eo[a[1]]^Co[a[2]]^To[a[3]],o[3][s]=To[a[0]]^So[a[1]]^Eo[a[2]]^Co[a[3]]}if(go(r),po(r,bo),ho(r,0),8192>=(r=fo(r)).length)r=String.fromCharCode.apply(null,r);else{for(i="",o=0;o<r.length;o+=8192)i+=String.fromCharCode.apply(null,Q(r,o,o+8192));r=i}e+=r,i=Y(n,0,16)}return e.replace(/(\x00)+$/,"")}function Ao(t){for(var e=32-(t=ao(t.substring(0,32))).length,n=0;n<e;n++)t.push(0);return t}function No(t){var e=[];return Oo(new Po,t,e),e.join("")}function Po(){}function Oo(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(w(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),Oo(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),Mo(r,n),n.push(":"),Oo(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Mo(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}var Do={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ro=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Mo(t,e){e.push('"',t.replace(Ro,(function(t){var e=Do[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Do[t]=e),e})),'"')}function Lo(t){this.a=t}function jo(){}function Fo(t){this.a=t}function Uo(t){if(!t.a)return!1;try{return t.a.setItem("__sak","1"),t.a.removeItem("__sak"),!0}catch(t){return!1}}function qo(){var t=null;try{t=window.localStorage||null}catch(t){}this.a=t}function Bo(){var t=null;try{t=window.sessionStorage||null}catch(t){}this.a=t}function Vo(t,e){this.g=t,this.a=e+"::"}Lo.prototype.set=function(t,e){d(e)?this.a.set(t,No(e)):this.a.ra(t)},Lo.prototype.get=function(t){try{var e=this.a.get(t)}catch(t){return}if(null!==e)try{return JSON.parse(e)}catch(t){throw"Storage: Invalid value was encountered"}},R(jo,to),jo.prototype.clear=function(){var t=function(t){if(_(t))return z(t);t=ht(t);var e=[];return function(t,e){if(_(t))try{U(t,e,void 0)}catch(t){if(t!==lt)throw t}else{t=ht(t);try{for(;;)e.call(void 0,t.next(),void 0,t)}catch(t){if(t!==lt)throw t}}}(t,(function(t){e.push(t)})),e}(this.ha(!0)),e=this;U(t,(function(t){e.ra(t)}))},R(Fo,jo),(t=Fo.prototype).set=function(t,e){try{this.a.setItem(t,e)}catch(t){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},t.get=function(t){if(!p(t=this.a.getItem(t))&&null!==t)throw"Storage mechanism: Invalid value was encountered";return t},t.ra=function(t){this.a.removeItem(t)},t.ha=function(t){var e=0,n=this.a,r=new ft;return r.next=function(){if(e>=n.length)throw lt;var r=n.key(e++);if(t)return r;if(!p(r=n.getItem(r)))throw"Storage mechanism: Invalid value was encountered";return r},r},t.clear=function(){this.a.clear()},t.key=function(t){return this.a.key(t)},R(qo,Fo),R(Bo,Fo),R(Vo,jo),Vo.prototype.set=function(t,e){this.g.set(this.a+t,e)},Vo.prototype.get=function(t){return this.g.get(this.a+t)},Vo.prototype.ra=function(t){this.g.ra(this.a+t)},Vo.prototype.ha=function(t){var e=this.g.ha(!0),n=this,r=new ft;return r.next=function(){for(var r=e.next();r.substr(0,n.a.length)!=n.a;)r=e.next();return t?r.substr(n.a.length):n.g.get(r)},r},Uo(new qo);var Ho=new Bo,Ko=new Lo(Uo(Ho)?new Vo(Ho,"firebaseui"):null),Wo={name:"pendingEmailCredential",storage:Ko},Go={name:"redirectStatus",storage:Ko},zo={name:"redirectUrl",storage:Ko},Yo={name:"emailForSignIn",storage:new Lo(new eo(3600,"/"))},Qo={name:"pendingEncryptedCredential",storage:new Lo(new eo(3600,"/"))};function Xo(t,e){return t.storage.get(e?t.name+":"+e:t.name)}function Jo(t,e){t.storage.a.ra(e?t.name+":"+e:t.name)}function $o(t,e,n){t.storage.set(n?t.name+":"+n:t.name,e)}function Zo(t){return Xo(zo,t)||null}function ta(t){return io(t=Xo(Wo,t)||null)}function ea(t){Jo(Wo,t)}function na(t,e){$o(Wo,ro(t),e)}function ra(t){return(t=Xo(Go,t)||null)&&void 0!==t.tenantId?new oo(t.tenantId):null}function ia(){this.W={}}function oa(t,e,n){if(e.toLowerCase()in t.W)throw Error("Configuration "+e+" has already been defined.");t.W[e.toLowerCase()]=n}function aa(t,e,n){if(!(e.toLowerCase()in t.W))throw Error("Configuration "+e+" is not defined.");t.W[e.toLowerCase()]=n}function sa(t,e){if(!(t=t.get(e)))throw Error("Configuration "+e+" is required.");return t}function ua(){this.g=void 0,this.a={}}function ca(t,e,n,r){for(var i=0;i<e.length;i++){var o=e.charAt(i);t.a[o]||(t.a[o]=new ua),t=t.a[o]}if(r&&void 0!==t.g)throw Error('The collection already contains the key "'+e+'"');t.g=n}function la(t,e){for(var n in void 0!==t.g&&e.push(t.g),t.a)la(t.a[n],e)}function fa(t,e,n){for(var r in void 0!==t.g&&n.push(e),t.a)fa(t.a[r],e+r,n)}function ha(t){for(this.a=t,this.g=new ua,t=0;t<this.a.length;t++){var e=this.g.get("+"+this.a[t].b);e?e.push(this.a[t]):this.g.add("+"+this.a[t].b,[this.a[t]])}}function da(t,e){var n={},r=0;for(void 0!==(t=t.g).g&&(n[r]=t.g);r<e.length;r++){var i=e.charAt(r);if(!(i in t.a))break;void 0!==(t=t.a[i]).g&&(n[r]=t.g)}for(var o in n)if(n.hasOwnProperty(o))return n[o];return[]}function pa(t){for(var e=0;e<ya.length;e++)if(ya[e].c===t)return ya[e];return null}function va(t){t=t.toUpperCase();for(var e=[],n=0;n<ya.length;n++)ya[n].f===t&&e.push(ya[n]);return e}function ga(t){if(0<t.length&&"+"==t.charAt(0)){t=t.substring(1);for(var e=[],n=0;n<ya.length;n++)ya[n].b==t&&e.push(ya[n]);t=e}else t=va(t);return t}function ma(t){t.sort((function(t,e){return t.name.localeCompare(e.name,"en")}))}ia.prototype.get=function(t){if(!(t.toLowerCase()in this.W))throw Error("Configuration "+t+" is not defined.");return this.W[t.toLowerCase()]},(t=ua.prototype).set=function(t,e){ca(this,t,e,!1)},t.add=function(t,e){ca(this,t,e,!0)},t.get=function(t){t:{for(var e=this,n=0;n<t.length;n++)if(!(e=e.a[t.charAt(n)])){t=void 0;break t}t=e}return t?t.g:void 0},t.la=function(){var t=[];return la(this,t),t},t.ja=function(){var t=[];return fa(this,"",t),t},t.clear=function(){this.a={},this.g=void 0};var ya=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];ma(ya);var ba=new ha(ya);function wa(t,e){this.a=t,this.Aa=e}function _a(t){t=X(t);var e=da(ba,t);return 0<e.length?new wa("1"==e[0].b?"1-US-0":e[0].c,X(t.substr(e[0].b.length+1))):null}function Ia(t){var e=pa(t.a);if(!e)throw Error("Country ID "+t.a+" not found.");return"+"+e.b+t.Aa}function Ea(t,e){for(var n=0;n<t.length;n++)if(!H(Ta,t[n])&&(null!==Sa&&t[n]in Sa||H(e,t[n])))return t[n];return null}var Ta=["emailLink","password","phone"],Sa={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function Ca(){this.a=new ia,oa(this.a,"acUiConfig"),oa(this.a,"autoUpgradeAnonymousUsers"),oa(this.a,"callbacks"),oa(this.a,"credentialHelper",ts),oa(this.a,"immediateFederatedRedirect",!1),oa(this.a,"popupMode",!1),oa(this.a,"privacyPolicyUrl"),oa(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),oa(this.a,"queryParameterForWidgetMode","mode"),oa(this.a,"signInFlow"),oa(this.a,"signInOptions"),oa(this.a,"signInSuccessUrl"),oa(this.a,"siteName"),oa(this.a,"tosUrl"),oa(this.a,"widgetUrl")}function ka(t){var e=!!t.a.get("autoUpgradeAnonymousUsers");return e&&!Ga(t)&&Gi('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),e}function xa(t){t=t.a.get("signInOptions")||[];for(var e=[],n=0;n<t.length;n++){var r=t[n];(r=E(r)?r:{provider:r}).provider&&e.push(r)}return e}function Aa(t,e){t=xa(t);for(var n=0;n<t.length;n++)if(t[n].provider===e)return t[n];return null}function Na(t){return B(xa(t),(function(t){return t.provider}))}function Pa(t,e){t=Oa(t);for(var n=0;n<t.length;n++)if(t[n].providerId===e)return t[n];return null}function Oa(t){return B(xa(t),(function(t){if(Sa[t.provider]||H(os,t.provider)){for(var e in t={providerId:t.provider,S:t.providerName||null,V:t.fullLabel||null,ta:t.buttonColor||null,za:t.iconUrl?_e(Ee(t.iconUrl)).toString():null})null===t[e]&&delete t[e];return t}return{providerId:t.provider,S:t.providerName||null,V:t.fullLabel||null,ta:t.buttonColor||null,za:t.iconUrl?_e(Ee(t.iconUrl)).toString():null,Ob:t.loginHintKey||null}}))}function Da(t){var e=Aa(t,r.default.auth.GoogleAuthProvider.PROVIDER_ID);return e&&e.clientId&&function(t){if("http:"!==(window.location&&window.location.protocol)&&"https:"!==(window.location&&window.location.protocol))return ts;if((t=t.a.get("credentialHelper"))===$a)return ts;for(var e in es)if(es[e]===t)return es[e];return ts}(t)===Za&&e.clientId||null}function Ra(t,e){return t=(t=Aa(t,e))&&t.scopes,Array.isArray(t)?t:[]}function Ma(t,e){return E(t=(t=Aa(t,e))&&t.customParameters)?(t=st(t),e===r.default.auth.GoogleAuthProvider.PROVIDER_ID&&delete t.login_hint,e===r.default.auth.GithubAuthProvider.PROVIDER_ID&&delete t.login,t):null}function La(t){if(!(t=Aa(t,r.default.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var e=t.whitelistedCountries,n=t.blacklistedCountries;if(void 0!==e&&(!Array.isArray(e)||0==e.length))throw Error("WhitelistedCountries must be a non-empty array.");if(void 0!==n&&!Array.isArray(n))throw Error("BlacklistedCountries must be an array.");if(e&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!e&&!n)return ya;if(t=[],e){n={};for(var i=0;i<e.length;i++)for(var o=ga(e[i]),a=0;a<o.length;a++)n[o[a].c]=o[a];for(var s in n)n.hasOwnProperty(s)&&t.push(n[s])}else{for(s={},e=0;e<n.length;e++)for(o=ga(n[e]),i=0;i<o.length;i++)s[o[i].c]=o[i];for(o=0;o<ya.length;o++)null!==s&&ya[o].c in s||t.push(ya[o])}return t}function ja(t){return sa(t.a,"queryParameterForWidgetMode")}function Fa(t){var e=t.a.get("tosUrl")||null;if(t=t.a.get("privacyPolicyUrl")||null,e&&!t&&Xi("Privacy Policy URL is missing, the link will not be displayed."),e&&t){if("function"==typeof e)return e;if("string"==typeof e)return function(){ii(e)}}return null}function Ua(t){var e=t.a.get("tosUrl")||null,n=t.a.get("privacyPolicyUrl")||null;if(n&&!e&&Xi("Term of Service URL is missing, the link will not be displayed."),e&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){ii(n)}}return null}function qa(t){return!(t=Aa(t,r.default.auth.EmailAuthProvider.PROVIDER_ID))||void 0===t.requireDisplayName||!!t.requireDisplayName}function Ba(t){return!(!(t=Aa(t,r.default.auth.EmailAuthProvider.PROVIDER_ID))||t.signInMethod!==r.default.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function Va(t){var e=!!t.a.get("immediateFederatedRedirect"),n=Na(t);return t=Ha(t),e&&1==n.length&&!H(Ta,n[0])&&t==ns}function Ha(t){for(var e in t=t.a.get("signInFlow"),rs)if(rs[e]==t)return rs[e];return ns}function Ka(t){return za(t).signInSuccess||null}function Wa(t){return za(t).signInSuccessWithAuthResult||null}function Ga(t){return za(t).signInFailure||null}function za(t){return t.a.get("callbacks")||{}}var Ya,Qa,Xa,Ja,$a="accountchooser.com",Za="googleyolo",ts="none",es={kc:$a,nc:Za,NONE:ts},ns="redirect",rs={qc:"popup",rc:ns},is={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},os=["anonymous"],as=["sitekey","tabindex","callback","expired-callback"],ss={};function us(t,e,n,r){ss[t].apply(null,Array.prototype.slice.call(arguments,1))}function cs(t){return t.classList?t.classList:p(t=t.className)&&t.match(/\S+/g)||[]}function ls(t,e){return t.classList?t.classList.contains(e):H(cs(t),e)}function fs(t,e){t.classList?t.classList.add(e):ls(t,e)||(t.className+=0<t.className.length?" "+e:e)}function hs(t,e){t.classList?t.classList.remove(e):ls(t,e)&&(t.className=q(cs(t),(function(t){return t!=e})).join(" "))}function ds(t){var e=t.type;switch(p(e)&&e.toLowerCase()){case"checkbox":case"radio":return t.checked?t.value:null;case"select-one":return 0<=(e=t.selectedIndex)?t.options[e].value:null;case"select-multiple":e=[];for(var n,r=0;n=t.options[r];r++)n.selected&&e.push(n.value);return e.length?e:null;default:return null!=t.value?t.value:null}}function ps(t,e){var n=t.type;switch(p(n)&&n.toLowerCase()){case"checkbox":case"radio":t.checked=e;break;case"select-one":if(t.selectedIndex=-1,p(e))for(var r=0;n=t.options[r];r++)if(n.value==e){n.selected=!0;break}break;case"select-multiple":for(p(e)&&(e=[e]),r=0;n=t.options[r];r++)if(n.selected=!1,e)for(var i,o=0;i=e[o];o++)n.value==i&&(n.selected=!0);break;default:t.value=null!=e?e:""}}function vs(t,e,n,r,i,o){if(re&&!he("525"))return!0;if(oe&&i)return gs(t);if(i&&!r)return!1;if(!ne&&("number"==typeof e&&(e=ms(e)),(!n||oe)&&(17==e||18==e||oe&&91==e)||oe&&16==e&&(r||o)))return!1;if((re||te)&&r&&n)switch(t){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Zt&&r&&e==t)return!1;switch(t){case 13:return!(ne&&(o||i||n&&r));case 27:return!(re||te||ne)}return(!ne||!(r||i||o))&&gs(t)}function gs(t){if(48<=t&&57>=t||96<=t&&106>=t||65<=t&&90>=t||(re||te)&&0==t)return!0;switch(t){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return ne;default:return!1}}function ms(t){if(ne)t=function(t){switch(t){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return t}}(t);else if(oe&&re)switch(t){case 93:t=91}return t}function ys(t){vr.call(this),this.a=t,rr(t,"keydown",this.g,!1,this),rr(t,"click",this.h,!1,this)}function bs(t,e){var n=new _s(e);if(gr(t,n)){n=new ws(e);try{gr(t,n)}finally{e.stopPropagation()}}}function ws(t){Gn.call(this,t.a),this.type="action"}function _s(t){Gn.call(this,t.a),this.type="beforeaction"}function Is(t){vr.call(this),this.a=t,t=Zt?"focusout":"blur",this.g=rr(this.a,Zt?"focusin":"focus",this,!Zt),this.h=rr(this.a,t,this,!Zt)}function Es(t,e){vr.call(this),this.g=t||1,this.a=e||h,this.h=x(this.gc,this),this.j=O()}function Ts(t){t.Ka=!1,t.aa&&(t.a.clearTimeout(t.aa),t.aa=null)}function Ss(t){Ln.call(this),this.g=t,this.a={}}R(ys,vr),ys.prototype.g=function(t){(13==t.keyCode||re&&3==t.keyCode)&&bs(this,t)},ys.prototype.h=function(t){bs(this,t)},ys.prototype.m=function(){ys.K.m.call(this),ar(this.a,"keydown",this.g,!1,this),ar(this.a,"click",this.h,!1,this),delete this.a},R(ws,Gn),R(_s,Gn),R(Is,vr),Is.prototype.handleEvent=function(t){var e=new Gn(t.a);e.type="focusin"==t.type||"focus"==t.type?"focusin":"focusout",gr(this,e)},Is.prototype.m=function(){Is.K.m.call(this),sr(this.g),sr(this.h),delete this.a},R(Es,vr),(t=Es.prototype).Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var t=O()-this.j;0<t&&t<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-t):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),gr(this,"tick"),this.Ka&&(Ts(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=O())},t.m=function(){Es.K.m.call(this),Ts(this),delete this.a},R(Ss,Ln);var Cs=[];function ks(t,e,n,r){w(n)||(n&&(Cs[0]=n.toString()),n=Cs);for(var i=0;i<n.length;i++){var o=rr(e,n[i],r||t.handleEvent,!1,t.g||t);if(!o)break;t.a[o.key]=o}}function xs(t){at(t.a,(function(t,e){this.a.hasOwnProperty(e)&&sr(t)}),t),t.a={}}function As(t){vr.call(this),this.a=null,this.g=t,t=Zt||te||re&&!he("531")&&"TEXTAREA"==t.tagName,this.h=new Ss(this),ks(this.h,this.g,t?["keydown","paste","cut","drop","input"]:"input",this)}function Ns(t){null!=t.a&&(h.clearTimeout(t.a),t.a=null)}function Ps(t){return(t=new Gn(t.a)).type="input",t}function Os(t,e){vr.call(this),t&&(this.Oa&&js(this),this.qa=t,this.Na=rr(this.qa,"keypress",this,e),this.Ya=rr(this.qa,"keydown",this.Jb,e,this),this.Oa=rr(this.qa,"keyup",this.Kb,e,this))}Ss.prototype.m=function(){Ss.K.m.call(this),xs(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},R(As,vr),As.prototype.handleEvent=function(t){if("input"==t.type)Zt&&he(10)&&0==t.keyCode&&0==t.j||(Ns(this),gr(this,Ps(t)));else if("keydown"!=t.type||function(t){if(t.altKey&&!t.ctrlKey||t.metaKey||112<=t.keyCode&&123>=t.keyCode)return!1;if(gs(t.keyCode))return!0;switch(t.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!ne;default:return 166>t.keyCode||183<t.keyCode}}(t)){var e="keydown"==t.type?this.g.value:null;Zt&&229==t.keyCode&&(e=null);var n=Ps(t);Ns(this),this.a=function(t,e){if(I(t))e&&(t=x(t,e));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=x(t.handleEvent,t)}return 2147483647<Number(0)?-1:h.setTimeout(t,0)}((function(){this.a=null,this.g.value!=e&&gr(this,n)}),this)}},As.prototype.m=function(){As.K.m.call(this),this.h.o(),Ns(this),delete this.g},R(Os,vr),(t=Os.prototype).qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var Ds={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Rs={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ms=!re||he("525"),Ls=oe&&ne;function js(t){t.Na&&(sr(t.Na),sr(t.Ya),sr(t.Oa),t.Na=null,t.Ya=null,t.Oa=null),t.qa=null,t.R=-1,t.X=-1}function Fs(t,e,n,r){Gn.call(this,r),this.type="key",this.keyCode=t,this.j=e,this.repeat=n}function Us(t,e,n,r){this.top=t,this.right=e,this.bottom=n,this.left=r}function qs(t,e){var n=ze(t);return n.defaultView&&n.defaultView.getComputedStyle&&(t=n.defaultView.getComputedStyle(t,null))&&(t[e]||t.getPropertyValue(e))||""}function Bs(t){try{var e=t.getBoundingClientRect()}catch(t){return{left:0,top:0,right:0,bottom:0}}return Zt&&t.ownerDocument.body&&(t=t.ownerDocument,e.left-=t.documentElement.clientLeft+t.body.clientLeft,e.top-=t.documentElement.clientTop+t.body.clientTop),e}function Vs(t){var e=ze(t),n=new Fe(0,0),r=e?ze(e):document;return t==(r=!Zt||9<=Number(le)||"CSS1Compat"==qe(r).a.compatMode?r.documentElement:r.body)||(t=Bs(t),e=We(r=qe(e).a),r=r.parentWindow||r.defaultView,e=Zt&&he("10")&&r.pageYOffset!=e.scrollTop?new Fe(e.scrollLeft,e.scrollTop):new Fe(r.pageXOffset||e.scrollLeft,r.pageYOffset||e.scrollTop),n.a=t.left+e.a,n.g=t.top+e.g),n}(t=Os.prototype).Jb=function(t){(re||te)&&(17==this.R&&!t.ctrlKey||18==this.R&&!t.altKey||oe&&91==this.R&&!t.metaKey)&&(this.X=this.R=-1),-1==this.R&&(t.ctrlKey&&17!=t.keyCode?this.R=17:t.altKey&&18!=t.keyCode?this.R=18:t.metaKey&&91!=t.keyCode&&(this.R=91)),Ms&&!vs(t.keyCode,this.R,t.shiftKey,t.ctrlKey,t.altKey,t.metaKey)?this.handleEvent(t):(this.X=ms(t.keyCode),Ls&&(this.Ua=t.altKey))},t.Kb=function(t){this.X=this.R=-1,this.Ua=t.altKey},t.handleEvent=function(t){var e=t.a,n=e.altKey;if(Zt&&"keypress"==t.type)var r=this.X,i=13!=r&&27!=r?e.keyCode:0;else(re||te)&&"keypress"==t.type?(r=this.X,i=0<=e.charCode&&63232>e.charCode&&gs(r)?e.charCode:0):$t&&!re?i=gs(r=this.X)?e.keyCode:0:("keypress"==t.type?(Ls&&(n=this.Ua),e.keyCode==e.charCode?32>e.keyCode?(r=e.keyCode,i=0):(r=this.X,i=e.charCode):(r=e.keyCode||this.X,i=e.charCode||0)):(r=e.keyCode||this.X,i=e.charCode||0),oe&&63==i&&224==r&&(r=191));var o=r=ms(r);r?63232<=r&&r in Ds?o=Ds[r]:25==r&&t.shiftKey&&(o=9):e.keyIdentifier&&e.keyIdentifier in Rs&&(o=Rs[e.keyIdentifier]),ne&&Ms&&"keypress"==t.type&&!vs(o,this.R,t.shiftKey,t.ctrlKey,n,t.metaKey)||(t=o==this.R,this.R=o,(e=new Fs(o,i,t,e)).altKey=n,gr(this,e))},t.N=function(){return this.qa},t.m=function(){Os.K.m.call(this),js(this)},R(Fs,Gn),Us.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Us.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Us.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Us.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var Hs={thin:2,medium:4,thick:6};function Ks(t,e){if("none"==(t.currentStyle?t.currentStyle[e+"Style"]:null))return 0;var n=t.currentStyle?t.currentStyle[e+"Width"]:null;if(n in Hs)t=Hs[n];else if(/^\d+px?$/.test(n))t=parseInt(n,10);else{e=t.style.left;var r=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left,t.style.left=n,n=t.style.pixelLeft,t.style.left=e,t.runtimeStyle.left=r,t=+n}return t}function Ws(){}function Gs(t){vr.call(this),this.s=t||qe(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function zs(t,e){return t.g?Ve(e,t.g||t.s.a):null}function Ys(t){return t.L||(t.L=new Ss(t)),t.L}function Qs(t,e){t.Ea&&U(t.Ea,e,void 0)}function Xs(t,e){var n=Qe(t,"firebaseui-textfield");e?(hs(t,"firebaseui-input-invalid"),fs(t,"firebaseui-input"),n&&hs(n,"firebaseui-textfield-invalid")):(hs(t,"firebaseui-input"),fs(t,"firebaseui-input-invalid"),n&&fs(n,"firebaseui-textfield-invalid"))}function Js(t,e,n){Un(t,A(qn,e=new As(e))),ks(Ys(t),e,"input",n)}function $s(t,e,n){Un(t,A(qn,e=new Os(e))),ks(Ys(t),e,"key",(function(t){13==t.keyCode&&(t.stopPropagation(),t.preventDefault(),n(t))}))}function Zs(t,e,n){Un(t,A(qn,e=new ys(e))),ks(Ys(t),e,"action",(function(t){t.stopPropagation(),t.preventDefault(),n(t)}))}function tu(t){fs(t,"firebaseui-hidden")}function eu(t,e){e&&Ye(t,e),hs(t,"firebaseui-hidden")}function nu(t){return!ls(t,"firebaseui-hidden")&&"none"!=t.style.display}function ru(t){var e=(t=t||{}).email,n=t.disabled,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return r=t.wc?r+"Enter new email address":r+"Email",r+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+vn(null!=e?e:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',fn(r)}function iu(t){var e='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return e=(t=(t=t||{}).label)?e+sn(t):e+"Next",fn(e+"</button>")}function ou(){var t=""+iu({label:dn("Sign In")});return fn(t)}function au(){var t=""+iu({label:dn("Save")});return fn(t)}function su(){var t=""+iu({label:dn("Continue")});return fn(t)}function uu(t){var e='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return e=(t=(t=t||{}).label)?e+sn(t):e+"Choose password",fn(e+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function cu(){var t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return fn((t={}.current?t+"Current password":t+"Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function lu(){return fn('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function fu(t){var e='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return e=(t=(t=t||{}).label)?e+sn(t):e+"Cancel",fn(e+"</button>")}function hu(t){var e="";return t.F&&t.D&&(e+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),fn(e)}function du(t){var e="";return t.F&&t.D&&(e+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),fn(e)}function pu(t){return t='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+sn(t.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',fn(t)}function vu(t){var e=t.content;return t=t.Ab,fn('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(t?" "+vn(t):"")+'">'+sn(e)+"</dialog>")}function gu(t){var e=t.message;return fn(vu({content:pn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+vn(t.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+sn(e)+"</div>")}))}function mu(t){for(var e='<div class="firebaseui-list-box-actions">',n=(t=t.items).length,r=0;r<n;r++){var i=t[r];e+='<button type="button" data-listboxid="'+vn(i.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(i.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+vn(i.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+sn(i.label)+"</div></button>"}return e=""+vu({Ab:dn("firebaseui-list-box-dialog"),content:pn(e+"</div>")}),fn(e)}function yu(t){return fn((t=t||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function bu(t,e){return ln((t=(t=t||{}).ga).S?t.S:e.hb[t.providerId]?""+e.hb[t.providerId]:t.providerId&&0==t.providerId.indexOf("saml.")||t.providerId&&0==t.providerId.indexOf("oidc.")?t.providerId.substring(5):""+t.providerId)}function wu(t){Eu(t,"upgradeElement")}function _u(t){Eu(t,"downgradeElements")}y(Ws),Ws.prototype.a=0,R(Gs,vr),(t=Gs.prototype).Lb=Ws.Xa(),t.N=function(){return this.g},t.Za=function(t){if(this.Y&&this.Y!=t)throw Error("Method not supported");Gs.K.Za.call(this,t)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(t){if(this.na)throw Error("Component already rendered");this.g||this.kb(),t?t.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,Qs(this,(function(t){!t.na&&t.N()&&t.v()}))},t.ya=function(){Qs(this,(function(t){t.na&&t.ya()})),this.L&&xs(this.L),this.na=!1},t.m=function(){this.na&&this.ya(),this.L&&(this.L.o(),delete this.L),Qs(this,(function(t){t.o()})),this.g&&Ge(this.g),this.Y=this.g=this.oa=this.Ea=null,Gs.K.m.call(this)},t.removeChild=function(t,e){if(t){var n=p(t)?t:t.cb||(t.cb=":"+(t.Lb.a++).toString(36));if(t=this.oa&&n&&(null!==(t=this.oa)&&n in t?t[n]:void 0)||null,n&&t){var r=this.oa;if(n in r&&delete r[n],K(this.Ea,t),e&&(t.ya(),t.g&&Ge(t.g)),null==(e=t))throw Error("Unable to set parent component");e.Y=null,Gs.K.Za.call(e,null)}}if(!t)throw Error("Child is not in parent component");return t},pu.a="firebaseui.auth.soy2.element.infoBar",gu.a="firebaseui.auth.soy2.element.progressDialog",mu.a="firebaseui.auth.soy2.element.listBoxDialog",yu.a="firebaseui.auth.soy2.element.busyIndicator";var Iu=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function Eu(t,e){t&&window.componentHandler&&window.componentHandler[e]&&U(Iu,(function(n){ls(t,n)&&window.componentHandler[e](t),U(Be(n,t),(function(t){window.componentHandler[e](t)}))}))}function Tu(t,e,n){if(Su.call(this),document.body.appendChild(t),t.showModal||window.dialogPolyfill.registerDialog(t),t.showModal(),wu(t),e&&Zs(this,t,(function(e){var n=t.getBoundingClientRect();(e.clientX<n.left||n.left+n.width<e.clientX||e.clientY<n.top||n.top+n.height<e.clientY)&&Su.call(this)})),!n){var r=this.N().parentElement||this.N().parentNode;if(r){var i=this;this.da=function(){if(t.open){var e=t.getBoundingClientRect().height,n=r.getBoundingClientRect().height,o=r.getBoundingClientRect().top-document.body.getBoundingClientRect().top,a=r.getBoundingClientRect().left-document.body.getBoundingClientRect().left,s=t.getBoundingClientRect().width,u=r.getBoundingClientRect().width;t.style.top=(o+(n-e)/2).toString()+"px",e=a+(u-s)/2,t.style.left=e.toString()+"px",t.style.right=(document.body.getBoundingClientRect().width-e-s).toString()+"px"}else window.removeEventListener("resize",i.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Su(){var t=Cu.call(this);t&&(_u(t),t.open&&t.close(),Ge(t),this.da&&window.removeEventListener("resize",this.da))}function Cu(){return Ve("firebaseui-id-dialog")}function ku(){Ge(xu.call(this))}function xu(){return zs(this,"firebaseui-id-info-bar")}function Au(){return zs(this,"firebaseui-id-dismiss-info-bar")}var Nu={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Pu(t,e,n){for(var r in Wn.call(this,t,e),n)this[r]=n[r]}function Ou(t,e,n,r,i){Gs.call(this,n),this.fb=t,this.eb=e,this.Fa=!1,this.Ga=r||null,this.A=this.ca=null,this.Z=st(Nu),ct(this.Z,i||{})}function Du(t){return t.N().parentElement||t.N().parentNode}function Ru(t,e,n){$s(t,e,(function(){n.focus()}))}function Mu(t,e,n){$s(t,e,(function(){n()}))}function Lu(t,e,n){e=(t=t||{}).Va;var r=t.ia;return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ru(t)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?fu(null):"")+iu(null)+'</div></div><div class="firebaseui-card-footer">'+(r?du(n):hu(n))+"</div></form></div>",fn(t)}function ju(t,e,n){return e=(t=t||{}).ia,t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+ru(t)+cu()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+lu()+'</div><div class="firebaseui-form-actions">'+ou()+'</div></div><div class="firebaseui-card-footer">'+(e?du(n):hu(n))+"</div></form></div>",fn(t)}function Fu(t,e,n){var r=(t=t||{}).Tb;e=t.Ta;var i=t.ia,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+ru(t);return r?(t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+vn(null!=(t=(t=t||{}).name)?t:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',t=fn(t)):t="",n=o+t+uu(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?fu(null):"")+au()+'</div></div><div class="firebaseui-card-footer">'+(i?du(n):hu(n))+"</div></form></div>",fn(n)}function Uu(t,e,n){return e=(t=t||{}).Ta,t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+ru(t)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?fu(null):"")+iu({label:dn("Send")})+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",fn(t)}function qu(t,e,n){e=t.G;var r="";return r+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="Follow the instructions sent to <strong>"+sn(t.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',e&&(r+='<div class="firebaseui-form-actions">'+iu({label:dn("Done")})+"</div>"),r+='</div><div class="firebaseui-card-footer">'+hu(n)+"</div></div>",fn(r)}function Bu(t,e,n){return fn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+yu(null)+"</div></div>")}function Vu(t,e,n){return fn('<div class="firebaseui-container firebaseui-id-page-spinner">'+yu({tb:!0})+"</div>")}function Hu(){return fn('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function Ku(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(t="A sign-in email with additional instructions was sent to <strong>"+sn(t.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+fn('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+fu({label:dn("Back")})+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",fn(e)}function Wu(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+fn('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+fu({label:dn("Back")})+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",fn(t)}function Gu(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+ru(t)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fu(null)+iu(null)+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",fn(t)}function zu(){var t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fu({label:dn("Dismiss")})+"</div></div></div>";return fn(t)}function Yu(){var t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fu({label:dn("Dismiss")})+"</div></div></div>";return fn(t)}function Qu(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(t="Youve already used <strong>"+sn(t.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+cu()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+lu()+'</div><div class="firebaseui-form-actions">'+ou()+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",fn(e)}function Xu(t,e,n){var r=t.email;return e="",t=dn(t=""+bu(t,n)),e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(r="Youve already used <strong>"+sn(r)+"</strong>. You can connect your <strong>"+sn(t)+"</strong> account with <strong>"+sn(r)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(t="For this flow to successfully connect your "+sn(t)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ou()+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",fn(e)}function Ju(t,e,n){e="";var r=""+bu(t,n);return e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(t="You originally intended to connect <strong>"+sn(r=dn(r))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(r="If you still want to connect your <strong>"+sn(r)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+su()+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",fn(e)}function $u(t,e,n){var r=t.email;return e="",t=dn(t=""+bu(t,n)),e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(r="Youve already used <strong>"+sn(r)+"</strong>. Sign in with "+sn(t)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+iu({label:dn("Sign in with "+t)})+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",fn(e)}function Zu(t,e,n){var r=(t=t||{}).email;e=t.yb,t=t.Eb;var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return i+=r?r="<strong>"+sn(r)+"</strong> is not authorized to view the requested page.":"User is not authorized to view the requested page.",i+="</p>",e&&(i+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+(e="Please contact <strong>"+sn(e)+"</strong> for authorization.")+"</p>"),i+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',t&&(i+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),i+='</div><div class="firebaseui-form-actions">'+fu({label:dn("Back")})+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",fn(i)}function tc(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="To continue sign in with <strong>"+sn(t.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fu(null)+iu({label:dn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",fn(e)}function ec(t){var e="";return e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">for <strong>'+sn(t.email)+"</strong></p>"+uu(function(t){function e(){}var n={label:dn("New password")};for(var r in e.prototype=t,t=new e,n)t[r]=n[r];return t}(t))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+au()+"</div></div></form></div>",fn(e)}function nc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></div>",fn(t)}function rc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></div>",fn(t)}function ic(t){var e=t.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="Your sign-in email address has been changed back to <strong>"+sn(t.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></form></div>",fn(n)}function oc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></div>",fn(t)}function ac(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></div>",fn(t)}function sc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></div>",fn(t)}function uc(t){var e=t.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="You can now sign in with your new email <strong>"+sn(t.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></div>",fn(n)}function cc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></div>",fn(t)}function lc(t){var e=t.factorId,n=t.phoneNumber;t=t.G;var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(e){case"phone":r+=e="The <strong>"+sn(e)+" "+sn(n)+"</strong> was removed as a second authentication step.";break;default:r+="The device or app was removed as a second authentication step."}return r+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></form></div>",fn(r)}function fc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+su()+"</div>":"")+"</div></div>",fn(t)}function hc(t){var e=t.zb;return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+sn(t.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',e&&(t+=iu({label:dn("Retry")})),fn(t+"</div></div></div>")}function dc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+sn(t.errorMessage)+"</p></div></div>",fn(t)}function pc(t,e,n){var r=t.Qb;return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(t="Continue with "+sn(t.jc)+"?")+'</h2><p class="firebaseui-text">'+(r="You originally wanted to sign in with "+sn(r))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fu(null)+iu({label:dn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",fn(e)}function vc(t,e,n){var r='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';e=(t=t.Sb).length;for(var i=0;i<e;i++){var o={ga:t[i]},a=n,s=(o=o||{}).ga,u=o,c="";switch((u=u||{}).ga.providerId){case"google.com":c+="firebaseui-idp-google";break;case"github.com":c+="firebaseui-idp-github";break;case"facebook.com":c+="firebaseui-idp-facebook";break;case"twitter.com":c+="firebaseui-idp-twitter";break;case"phone":c+="firebaseui-idp-phone";break;case"anonymous":c+="firebaseui-idp-anonymous";break;case"password":c+="firebaseui-idp-password";break;default:c+="firebaseui-idp-generic"}u=(u='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+vn(ln(c))+' firebaseui-id-idp-button" data-provider-id="'+vn(s.providerId)+'" style="background-color:')+vn(mn(ln((c=(c=(c=o)||{}).ga).ta?c.ta:a.wa[c.providerId]?""+a.wa[c.providerId]:0==c.providerId.indexOf("saml.")?""+a.wa.saml:0==c.providerId.indexOf("oidc.")?""+a.wa.oidc:""+a.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var l=o;c=a,l=(l=l||{}).ga,c=hn(l.za?gn(l.za):c.xa[l.providerId]?gn(c.xa[l.providerId]):0==l.providerId.indexOf("saml.")?gn(c.xa.saml):0==l.providerId.indexOf("oidc.")?gn(c.xa.oidc):gn(c.xa.password)),u=u+vn(gn(c))+'"></span>',"password"==s.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=sn(s.V):s.S?u+=o="Sign in with "+sn(bu(o,a)):u+="Sign in with email",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=s.S?u+sn(s.S):u+"Email",u+="</span>"):"phone"==s.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=sn(s.V):s.S?u+=o="Sign in with "+sn(bu(o,a)):u+="Sign in with phone",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=s.S?u+sn(s.S):u+"Phone",u+="</span>"):"anonymous"==s.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=sn(s.V):s.S?u+=o="Sign in with "+sn(bu(o,a)):u+="Continue as guest",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=s.S?u+sn(s.S):u+"Guest",u+="</span>"):(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=sn(s.V):u+=c="Sign in with "+sn(bu(o,a)),u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(s.S?sn(s.S):sn(bu(o,a)))+"</span>"),r+='<li class="firebaseui-list-item">'+(s=fn(u+"</button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+du(n)+"</div></div>",fn(r)}function gc(t,e,n){var r,i=(t=t||{}).Gb,o=t.Va;return e=t.ia,t='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+vn(null!=(t=(t=t||{}).Aa)?t:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r=(t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+fn(t))+(r=i?fn('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(o?fu(null):"")+iu({label:dn("Verify")})+'</div></div><div class="firebaseui-card-footer">',e?(e='<p class="firebaseui-tos firebaseui-phone-tos">',e=n.F&&n.D?e+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':e+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",n=fn(e+"</p>")):n=fn('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+hu(n),fn(r+n+"</div></form></div>")}function mc(t,e,n){var r="";return t='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+sn(e=(t=t||{}).phoneNumber)+"</a>",sn(e),e=r,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+t+"</p>"+(r=fn('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fu(null)+iu({label:dn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form>",t=fn('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),fn(e+(n+t+"</div>"))}function yc(){return fn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function bc(t,e,n){var r='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';e=(t=t.ec).length;for(var i=0;i<e;i++){var o=t[i],a="",s=sn(o.displayName),u=o.tenantId?o.tenantId:"top-level-project";a+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+vn(u=dn(u))+' firebaseui-id-tenant-selection-button"'+(o.tenantId?'data-tenant-id="'+vn(o.tenantId)+'"':"")+'style="background-color:'+vn(mn(o.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+vn(gn(o.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?a+=sn(o.V):a+=o="Sign in to "+sn(o.displayName),r+='<li class="firebaseui-list-item">'+(a=fn(a+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+s+"</span></button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+du(n)+"</div></div>",fn(r)}function wc(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ru(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+iu(null)+'</div></div><div class="firebaseui-card-footer">'+du(n)+"</div></form></div>",fn(t)}function _c(){return zs(this,"firebaseui-id-submit")}function Ic(){return zs(this,"firebaseui-id-secondary-link")}function Ec(t,e){Zs(this,_c.call(this),(function(e){t(e)}));var n=Ic.call(this);n&&e&&Zs(this,n,(function(t){e(t)}))}function Tc(){return zs(this,"firebaseui-id-password")}function Sc(){return zs(this,"firebaseui-id-password-error")}function Cc(){var t=Tc.call(this),e=Sc.call(this);Js(this,t,(function(){nu(e)&&(Xs(t,!0),tu(e))}))}function kc(){var t=Tc.call(this),e=Sc.call(this);return ds(t)?(Xs(t,!0),tu(e),e=!0):(Xs(t,!1),eu(e,ln("Enter your password").toString()),e=!1),e?ds(t):null}function xc(t,e,n,r,i,o){Ou.call(this,Qu,{email:t},o,"passwordLinking",{F:r,D:i}),this.w=e,this.H=n}R(Pu,Wn),R(Ou,Gs),(t=Ou.prototype).kb=function(){var t=nn(this.fb,this.eb,this.Z,this.s);wu(t),this.g=t},t.v=function(){if(Ou.K.v.call(this),wr(Du(this),new Pu("pageEnter",Du(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var t=this.Z.F;Zs(this,this.bb(),(function(){t()}))}if(this.ab()&&this.Z.D){var e=this.Z.D;Zs(this,this.ab(),(function(){e()}))}},t.ya=function(){wr(Du(this),new Pu("pageExit",Du(this),{pageId:this.Ga})),Ou.K.ya.call(this)},t.m=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,_u(this.N()),Ou.K.m.call(this)},t.I=function(t,e,n,r){function i(){if(o.T)return null;o.Fa=!1,window.clearTimeout(o.ca),o.ca=null,o.A&&(_u(o.A),Ge(o.A),o.A=null)}var o=this;return o.Fa?null:(function(t){t.Fa=!0;var e=ls(t.N(),"firebaseui-use-spinner");t.ca=window.setTimeout((function(){t.N()&&null===t.A&&(t.A=nn(yu,{tb:e},null,t.s),t.N().appendChild(t.A),wu(t.A))}),500)}(o),t.apply(null,e).then(n,r).then(i,i))},N(Ou.prototype,{a:function(t){ku.call(this);var e=nn(pu,{message:t},null,this.s);this.N().appendChild(e),Zs(this,Au.call(this),(function(){Ge(e)}))},yc:ku,Ac:xu,zc:Au,$:function(t,e){t=nn(gu,{Ma:t,message:e},null,this.s),Tu.call(this,t)},h:Su,Cb:Cu,Cc:function(){return zs(this,"firebaseui-tos")},bb:function(){return zs(this,"firebaseui-tos-link")},ab:function(){return zs(this,"firebaseui-pp-link")},Dc:function(){return zs(this,"firebaseui-tos-list")}}),Lu.a="firebaseui.auth.soy2.page.signIn",ju.a="firebaseui.auth.soy2.page.passwordSignIn",Fu.a="firebaseui.auth.soy2.page.passwordSignUp",Uu.a="firebaseui.auth.soy2.page.passwordRecovery",qu.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",Bu.a="firebaseui.auth.soy2.page.callback",Vu.a="firebaseui.auth.soy2.page.spinner",Hu.a="firebaseui.auth.soy2.page.blank",Ku.a="firebaseui.auth.soy2.page.emailLinkSignInSent",Wu.a="firebaseui.auth.soy2.page.emailNotReceived",Gu.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",zu.a="firebaseui.auth.soy2.page.differentDeviceError",Yu.a="firebaseui.auth.soy2.page.anonymousUserMismatch",Qu.a="firebaseui.auth.soy2.page.passwordLinking",Xu.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",Ju.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",$u.a="firebaseui.auth.soy2.page.federatedLinking",Zu.a="firebaseui.auth.soy2.page.unauthorizedUser",tc.a="firebaseui.auth.soy2.page.unsupportedProvider",ec.a="firebaseui.auth.soy2.page.passwordReset",nc.a="firebaseui.auth.soy2.page.passwordResetSuccess",rc.a="firebaseui.auth.soy2.page.passwordResetFailure",ic.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",oc.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",ac.a="firebaseui.auth.soy2.page.emailVerificationSuccess",sc.a="firebaseui.auth.soy2.page.emailVerificationFailure",uc.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",cc.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",lc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",fc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",hc.a="firebaseui.auth.soy2.page.recoverableError",dc.a="firebaseui.auth.soy2.page.unrecoverableError",pc.a="firebaseui.auth.soy2.page.emailMismatch",vc.a="firebaseui.auth.soy2.page.providerSignIn",gc.a="firebaseui.auth.soy2.page.phoneSignInStart",mc.a="firebaseui.auth.soy2.page.phoneSignInFinish",yc.a="firebaseui.auth.soy2.page.signOut",bc.a="firebaseui.auth.soy2.page.selectTenant",wc.a="firebaseui.auth.soy2.page.providerMatchByEmail",u(xc,Ou),xc.prototype.v=function(){this.P(),this.M(this.w,this.H),Mu(this,this.i(),this.w),this.i().focus(),Ou.prototype.v.call(this)},xc.prototype.m=function(){this.w=null,Ou.prototype.m.call(this)},xc.prototype.j=function(){return ds(zs(this,"firebaseui-id-email"))},N(xc.prototype,{i:Tc,B:Sc,P:Cc,u:kc,ea:_c,ba:Ic,M:Ec});var Ac=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Nc(){return zs(this,"firebaseui-id-email")}function Pc(){return zs(this,"firebaseui-id-email-error")}function Oc(t){var e=Nc.call(this),n=Pc.call(this);Js(this,e,(function(){nu(n)&&(Xs(e,!0),tu(n))})),t&&$s(this,e,(function(){t()}))}function Dc(){return X(ds(Nc.call(this))||"")}function Rc(){var t=Nc.call(this),e=Pc.call(this),n=ds(t)||"";return n?Ac.test(n)?(Xs(t,!0),tu(e),e=!0):(Xs(t,!1),eu(e,ln("That email address isn't correct").toString()),e=!1):(Xs(t,!1),eu(e,ln("Enter your email address to continue").toString()),e=!1),e?X(ds(t)):null}function Mc(t,e,n,r,i,o,a){Ou.call(this,ju,{email:n,ia:!!o},a,"passwordSignIn",{F:r,D:i}),this.w=t,this.H=e}function Lc(t,e,n,r,i,o){Ou.call(this,t,e,r,i||"notice",o),this.i=n||null}function jc(t,e,n,r,i){Lc.call(this,qu,{email:t,G:!!e},e,i,"passwordRecoveryEmailSent",{F:n,D:r})}function Fc(t,e){Lc.call(this,ac,{G:!!t},t,e,"emailVerificationSuccess")}function Uc(t,e){Lc.call(this,sc,{G:!!t},t,e,"emailVerificationFailure")}function qc(t,e,n){Lc.call(this,uc,{email:t,G:!!e},e,n,"verifyAndChangeEmailSuccess")}function Bc(t,e){Lc.call(this,cc,{G:!!t},t,e,"verifyAndChangeEmailFailure")}function Vc(t,e){Lc.call(this,fc,{G:!!t},t,e,"revertSecondFactorAdditionFailure")}function Hc(t){Lc.call(this,yc,void 0,void 0,t,"signOut")}function Kc(t,e){Lc.call(this,nc,{G:!!t},t,e,"passwordResetSuccess")}function Wc(t,e){Lc.call(this,rc,{G:!!t},t,e,"passwordResetFailure")}function Gc(t,e){Lc.call(this,oc,{G:!!t},t,e,"emailChangeRevokeFailure")}function zc(t,e,n){Lc.call(this,hc,{errorMessage:t,zb:!!e},e,n,"recoverableError")}function Yc(t,e){Lc.call(this,dc,{errorMessage:t},void 0,e,"unrecoverableError")}function Qc(t){if("auth/invalid-credential"===t.code&&t.message&&-1!==t.message.indexOf("error=consent_required"))return{code:"auth/user-cancelled"};if(t.message&&-1!==t.message.indexOf("HTTP Cloud Function returned an error:")){var e=JSON.parse(t.message.substring(t.message.indexOf("{"),t.message.lastIndexOf("}")+1));return{code:t.code,message:e&&e.error&&e.error.message||t.message}}return t}function Xc(t,e,n,r){function i(n){if(!n.name||"cancel"!=n.name){t:{var r=n.message;try{var i=((JSON.parse(r).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(i&&i.length){var o=!0;break t}}catch(t){}o=!1}if(o)n=Du(e),e.o(),rl(t,n,void 0,ln("Your sign-in session has expired. Please try again.").toString());else{if(o=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;o=Zc(n)}e.a(o)}}}if(xf(t),r)return Jc(t,n),Kr();if(!n.credential)throw Error("No credential found!");if(!yf(t).currentUser&&!n.user)throw Error("User not logged in.");try{var o=function(t,e){return Pf(t),Sf(t,(function(n){if(t.j&&!t.j.isAnonymous&&ka(Nf(t))&&!yf(t).currentUser)return Df(t).then((function(){return"password"==e.credential.providerId&&(e.credential=null),e}));if(n)return Df(t).then((function(){return n.linkWithCredential(e.credential)})).then((function(t){return e.user=t.user,e.credential=t.credential,e.operationType=t.operationType,e.additionalUserInfo=t.additionalUserInfo,e}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Rf(t,n,e.credential)}));if(!e.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Df(t).then((function(){return bf(t).updateCurrentUser(e.user)})).then((function(){return e.user=bf(t).currentUser,e.operationType="signIn",e.credential&&e.credential.providerId&&"password"==e.credential.providerId&&(e.credential=null),e}))}))}(t,n)}catch(t){return Gi(t.code||t.message,t),e.a(t.code||t.message),Kr()}return n=o.then((function(e){Jc(t,e)}),i).then(void 0,i),kf(t,o),Kr(n)}function Jc(t,e){if(!e.user)throw Error("No user found");var n=Wa(Nf(t));if(Ka(Nf(t))&&n&&Xi("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=Wa(Nf(t));var r=Zo(wf(t))||void 0;Jo(zo,wf(t));var i=!1;ri()?(n&&!n(e,r)||(i=!0,je(window.opener.location,$c(t,r))),n||window.close()):n&&!n(e,r)||(i=!0,je(window.location,$c(t,r))),i||t.reset()}else{n=e.user,e=e.credential,r=Ka(Nf(t)),i=Zo(wf(t))||void 0,Jo(zo,wf(t));var o=!1;ri()?(r&&!r(n,e,i)||(o=!0,je(window.opener.location,$c(t,i))),r||window.close()):r&&!r(n,e,i)||(o=!0,je(window.location,$c(t,i))),o||t.reset()}}function $c(t,e){if(!(t=e||Nf(t).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return t}function Zc(t){var e={code:t.code},n="";switch((e=e||{}).code){case"auth/email-already-in-use":n+="The email address is already used by another account";break;case"auth/requires-recent-login":n+=Dn();break;case"auth/too-many-requests":n+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":n+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":n+="That email address doesn't match an existing account";break;case"auth/user-token-expired":n+=Dn();break;case"auth/weak-password":n+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":n+="The email and password you entered don't match";break;case"auth/network-request-failed":n+="A network error has occurred";break;case"auth/invalid-phone-number":n+=xn();break;case"auth/invalid-verification-code":n+=ln("Wrong code. Try again.");break;case"auth/code-expired":n+="This code is no longer valid";break;case"auth/expired-action-code":n+="This code has expired.";break;case"auth/invalid-action-code":n+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(e=ln(n).toString())return e;try{return JSON.parse(t.message),Gi("Internal error: "+t.message,void 0),Nn().toString()}catch(e){return t.message}}function tl(t,e,n,i){function o(){!function(t,e){$o(Go,{tenantId:t.a},e)}(new oo(t.h.tenantId||null),wf(t)),kf(t,e.I(x(t.dc,t),[c],(function(){if("file:"===(window.location&&window.location.protocol))return kf(t,vf(t).then((function(n){e.o(),Jo(Go,wf(t)),us("callback",t,u,Kr(n))}),a))}),s))}function a(n){if(Jo(Go,wf(t)),!n.name||"cancel"!=n.name)switch(n=Qc(n),n.code){case"auth/popup-blocked":o();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":e.a(Zc(n));break;default:e.o(),us("callback",t,u,Wr(n))}}function s(n){Jo(Go,wf(t)),n.name&&"cancel"==n.name||(Gi("signInWithRedirect: "+n.code,void 0),n=Zc(n),"blank"==e.Ga&&Va(Nf(t))?(e.o(),us("providerSignIn",t,u,n)):e.a(n))}var u=Du(e),c=function(t,e,n){var i=Sa[e]&&r.default.auth[Sa[e]]?new r.default.auth[Sa[e]]:0==e.indexOf("saml.")?new r.default.auth.SAMLAuthProvider(e):new r.default.auth.OAuthProvider(e);if(!i)throw Error("Invalid Firebase Auth provider!");var o=Ra(Nf(t),e);if(i.addScope)for(var a=0;a<o.length;a++)i.addScope(o[a]);return o=Ma(Nf(t),e)||{},n&&(t=e==r.default.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":e==r.default.auth.GithubAuthProvider.PROVIDER_ID?"login":(t=Pa(Nf(t),e))&&t.Ob)&&(o[t]=n),i.setCustomParameters&&i.setCustomParameters(o),i}(t,n,i);Ha(Nf(t))==ns?o():kf(t,function(t,e){return Pf(t),Sf(t,(function(n){return n&&!ta(wf(t))?n.linkWithPopup(e).then((function(t){return t}),(function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return Rf(t,e)})):yf(t).signInWithPopup(e)}))}(t,c).then((function(n){e.o(),us("callback",t,u,Kr(n))}),a))}function el(t){return 1==(t=Na(Nf(t))).length&&t[0]==r.default.auth.EmailAuthProvider.PROVIDER_ID}function nl(t){return 1==(t=Na(Nf(t))).length&&t[0]==r.default.auth.PhoneAuthProvider.PROVIDER_ID}function rl(t,e,n,r){el(t)?r?us("signIn",t,e,n,r):sl(t,e,n):t&&nl(t)&&!r?us("phoneSignInStart",t,e):t&&Va(Nf(t))&&!r?us("federatedRedirect",t,e,n):us("providerSignIn",t,e,r,n)}function il(t,e,n,r){var i=Du(e);kf(t,e.I(x(yf(t).fetchSignInMethodsForEmail,yf(t)),[n],(function(o){e.o(),ol(t,i,o,n,r)}),(function(t){t=Zc(t),e.a(t)})))}function ol(t,e,n,i,o,a){n.length||Ba(Nf(t))&&!Ba(Nf(t))?H(n,r.default.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?us("passwordSignIn",t,e,i,a):1==n.length&&n[0]===r.default.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Ba(Nf(t))?us("sendEmailLinkForSignIn",t,e,i,(function(){us("signIn",t,e)})):us("unsupportedProvider",t,e,i):(n=Ea(n,Na(Nf(t))))?(na(new no(i),wf(t)),us("federatedSignIn",t,e,i,n,o)):us("unsupportedProvider",t,e,i):function(t){return!!((t=Aa(t,r.default.auth.EmailAuthProvider.PROVIDER_ID))&&t.disableSignUp&&t.disableSignUp.status)}(Nf(t))?us("handleUnauthorizedUser",t,e,i,r.default.auth.EmailAuthProvider.PROVIDER_ID):Ba(Nf(t))?us("sendEmailLinkForSignIn",t,e,i,(function(){us("signIn",t,e)})):us("passwordSignUp",t,e,i,void 0,void 0,a)}function al(t,e,n,r,i,o){var a=Du(e);kf(t,e.I(x(t.Ib,t),[n,o],(function(){e.o(),us("emailLinkSignInSent",t,a,n,r,o)}),i))}function sl(t,e,n){n?us("prefilledEmailSignIn",t,e,n):us("signIn",t,e)}function ul(){return bt(ai(),"oobCode")}function cl(){var t=bt(ai(),"continueUrl");return t?function(){je(window.location,t)}:null}function ll(t,e){Ou.call(this,Yu,void 0,e,"anonymousUserMismatch"),this.i=t}function fl(t){Ou.call(this,Bu,void 0,t,"callback")}function hl(t,e,n){if(n.user){var r={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},i=ta(wf(t)),o=i&&i.g;if(o&&!function(t,e){if(e==t.email)return!0;if(t.providerData)for(var n=0;n<t.providerData.length;n++)if(e==t.providerData[n].email)return!0;return!1}(n.user,o))!function(t,e,n){var r=Du(e);kf(t,Df(t).then((function(){e.o(),us("emailMismatch",t,r,n)}),(function(t){t.name&&"cancel"==t.name||(t=Zc(t.code),e.a(t))})))}(t,e,r);else{var a=i&&i.a;a?kf(t,n.user.linkWithCredential(a).then((function(n){r={user:n.user,credential:a,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},dl(t,e,r)}),(function(n){pl(t,e,n)}))):dl(t,e,r)}}else n=Du(e),e.o(),ea(wf(t)),rl(t,n)}function dl(t,e,n){ea(wf(t)),Xc(t,e,n)}function pl(t,e,n){var r=Du(e);ea(wf(t)),n=Zc(n),e.o(),rl(t,r,void 0,n)}function vl(t,e,n,i){var o=Du(e);kf(t,yf(t).fetchSignInMethodsForEmail(n).then((function(a){e.o(),a.length?H(a,r.default.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?us("passwordLinking",t,o,n):1==a.length&&a[0]===r.default.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?us("emailLinkSignInLinking",t,o,n):(a=Ea(a,Na(Nf(t))))?us("federatedLinking",t,o,n,a,i):(ea(wf(t)),us("unsupportedProvider",t,o,n)):(ea(wf(t)),us("passwordRecovery",t,o,n,!1,Pn().toString()))}),(function(n){pl(t,e,n)})))}function gl(t,e){Ou.call(this,zu,void 0,e,"differentDeviceError"),this.i=t}function ml(t,e,n,r){Ou.call(this,ic,{email:t,G:!!n},r,"emailChangeRevoke"),this.l=e,this.i=n||null}function yl(){return zs(this,"firebaseui-id-new-password")}function bl(){return zs(this,"firebaseui-id-password-toggle")}function wl(){this.Ra=!this.Ra;var t=bl.call(this),e=yl.call(this);this.Ra?(e.type="text",fs(t,"firebaseui-input-toggle-off"),hs(t,"firebaseui-input-toggle-on")):(e.type="password",fs(t,"firebaseui-input-toggle-on"),hs(t,"firebaseui-input-toggle-off")),e.focus()}function _l(){return zs(this,"firebaseui-id-new-password-error")}function Il(){this.Ra=!1;var t=yl.call(this);t.type="password";var e=_l.call(this);Js(this,t,(function(){nu(e)&&(Xs(t,!0),tu(e))}));var n=bl.call(this);fs(n,"firebaseui-input-toggle-on"),hs(n,"firebaseui-input-toggle-off"),function(t,e,n){Un(t,A(qn,e=new Is(e))),ks(Ys(t),e,"focusin",n)}(this,t,(function(){fs(n,"firebaseui-input-toggle-focus"),hs(n,"firebaseui-input-toggle-blur")})),function(t,e,n){Un(t,A(qn,e=new Is(e))),ks(Ys(t),e,"focusout",n)}(this,t,(function(){fs(n,"firebaseui-input-toggle-blur"),hs(n,"firebaseui-input-toggle-focus")})),Zs(this,n,x(wl,this))}function El(){var t=yl.call(this),e=_l.call(this);return ds(t)?(Xs(t,!0),tu(e),e=!0):(Xs(t,!1),eu(e,ln("Enter your password").toString()),e=!1),e?ds(t):null}function Tl(t,e,n){Ou.call(this,ec,{email:t},n,"passwordReset"),this.l=e}function Sl(t,e,n,r,i){Ou.call(this,lc,{factorId:t,phoneNumber:n||null,G:!!r},i,"revertSecondFactorAdditionSuccess"),this.l=e,this.i=r||null}function Cl(t,e,n,r){"auth/weak-password"==(r&&r.code)?(t=Zc(r),Xs(n.i(),!1),eu(n.w(),t),n.i().focus()):(n&&n.o(),(n=new Wc).render(e),gf(t,n))}function kl(t,e){try{var n="number"==typeof t.selectionStart}catch(t){n=!1}n?(t.selectionStart=e,t.selectionEnd=e):Zt&&!he("9")&&("textarea"==t.type&&(e=t.value.substring(0,e).replace(/(\r\n|\r|\n)/g,"\n").length),(t=t.createTextRange()).collapse(!0),t.move("character",e),t.select())}function xl(t,e,n,r,i,o){Ou.call(this,Gu,{email:n},o,"emailLinkSignInConfirmation",{F:r,D:i}),this.l=t,this.u=e}function Al(t,e,n,r,i){Ou.call(this,Ju,{ga:t},i,"emailLinkSignInLinkingDifferentDevice",{F:n,D:r}),this.i=e}function Nl(t){Ou.call(this,Hu,void 0,t,"blank")}function Pl(t,e,n,i,o){var a=new Nl,s=new qt(n),u=s.a.a.get(Kt.$a)||"",c=s.a.a.get(Kt.Sa)||"",l="1"===s.a.a.get(Kt.Qa),f=Bt(s),h=s.a.a.get(Kt.PROVIDER_ID)||null;s=s.a.a.get(Kt.vb)||null,Af(t,s);var d=!Xo(Yo,wf(t)),p=i||function(t,e){var n=null;if(e=Xo(Yo,e))try{var r=xo(t,e),i=JSON.parse(r);n=i&&i.email||null}catch(t){}return n}(c,wf(t)),v=(i=function(t,e){var n=null;if(e=Xo(Qo,e))try{var r=xo(t,e);n=JSON.parse(r)}catch(t){}return io(n||null)}(c,wf(t)))&&i.a;h&&v&&v.providerId!==h&&(v=null),a.render(e),gf(t,a),kf(t,a.I((function(){var e=Kr(null);e=f&&d||d&&l?Wr(Error("anonymous-user-not-found")):function(t,e){var n=Bt(new qt(e));return n?(e=new jr((function(e,r){var i=bf(t).onAuthStateChanged((function(t){i(),t&&t.isAnonymous&&t.uid===n?e(t):t&&t.isAnonymous&&t.uid!==n?r(Error("anonymous-user-mismatch")):r(Error("anonymous-user-not-found"))}));kf(t,i)})),kf(t,e),e):Kr(null)}(t,n).then((function(t){if(h&&!v)throw Error("pending-credential-not-found");return t}));var r=null;return e.then((function(e){return r=e,o?null:yf(t).checkActionCode(u)})).then((function(){return r}))}),[],(function(i){p?function(t,e,n,i,o,a){var s=Du(e);e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ln("Signing in...").toString());var u=null;o=(a?function(t,e,n,i,o){Pf(t);var a=o||null,s=r.default.auth.EmailAuthProvider.credentialWithLink(n,i);return n=a?yf(t).signInWithEmailLink(n,i).then((function(t){return t.user.linkWithCredential(a)})).then((function(){return Df(t)})).then((function(){return Rf(t,{code:"auth/email-already-in-use"},a)})):yf(t).fetchSignInMethodsForEmail(n).then((function(n){return n.length?Rf(t,{code:"auth/email-already-in-use"},s):e.linkWithCredential(s)})),kf(t,n),n}(t,a,n,i,o):function(t,e,n,r){Pf(t);var i,o=r||null;return e=yf(t).signInWithEmailLink(e,n).then((function(t){if(i={user:t.user,credential:null,operationType:t.operationType,additionalUserInfo:t.additionalUserInfo},o)return t.user.linkWithCredential(o).then((function(t){i={user:t.user,credential:o,operationType:i.operationType,additionalUserInfo:t.additionalUserInfo}}))})).then((function(){Df(t)})).then((function(){return bf(t).updateCurrentUser(i.user)})).then((function(){return i.user=bf(t).currentUser,i})),kf(t,e),e}(t,n,i,o)).then((function(n){Jo(Qo,wf(t)),Jo(Yo,wf(t)),e.h(),e.$("firebaseui-icon-done",ln("Signed in!").toString()),u=setTimeout((function(){e.h(),Xc(t,e,n,!0)}),1e3),kf(t,(function(){e&&(e.h(),e.o()),clearTimeout(u)}))}),(function(r){if(e.h(),e.o(),!r.name||"cancel"!=r.name){var o=Zc(r=Qc(r));"auth/email-already-in-use"==r.code||"auth/credential-already-in-use"==r.code?(Jo(Qo,wf(t)),Jo(Yo,wf(t))):"auth/invalid-email"==r.code?(o=ln("The email provided does not match the current sign-in session.").toString(),us("emailLinkConfirmation",t,s,i,Ol,null,o)):rl(t,s,n,o)}})),kf(t,o)}(t,a,p,n,v,i):l?(a.o(),us("differentDeviceError",t,e)):(a.o(),us("emailLinkConfirmation",t,e,n,Ol))}),(function(r){var i=void 0;if(!r||!r.name||"cancel"!=r.name)switch(a.o(),r&&r.message){case"anonymous-user-not-found":us("differentDeviceError",t,e);break;case"anonymous-user-mismatch":us("anonymousUserMismatch",t,e);break;case"pending-credential-not-found":us("emailLinkNewDeviceLinking",t,e,n,Dl);break;default:r&&(i=Zc(r)),rl(t,e,void 0,i)}})))}function Ol(t,e,n,r){Pl(t,e,r,n,!0)}function Dl(t,e,n){Pl(t,e,n)}function Rl(t,e,n,r,i,o){Ou.call(this,Xu,{email:t,ga:e},o,"emailLinkSignInLinking",{F:r,D:i}),this.i=n}function Ml(t,e,n,r,i,o){Ou.call(this,Ku,{email:t},o,"emailLinkSignInSent",{F:r,D:i}),this.u=e,this.i=n}function Ll(t,e,n,r,i,o,a){Ou.call(this,pc,{jc:t,Qb:e},a,"emailMismatch",{F:i,D:o}),this.l=n,this.i=r}function jl(t,e,n,r,i){Ou.call(this,Wu,void 0,i,"emailNotReceived",{F:n,D:r}),this.l=t,this.i=e}function Fl(t,e,n,r,i,o){Ou.call(this,$u,{email:t,ga:e},o,"federatedLinking",{F:r,D:i}),this.i=n}function Ul(t,e,n,r,i,o){Ou.call(this,Uu,{email:n,Ta:!!e},o,"passwordRecovery",{F:r,D:i}),this.l=t,this.u=e}function ql(){return zs(this,"firebaseui-id-name")}function Bl(){return zs(this,"firebaseui-id-name-error")}function Vl(t,e,n,r,i,o,a,s,u){Ou.call(this,Fu,{email:r,Tb:t,name:i,Ta:!!n,ia:!!s},u,"passwordSignUp",{F:o,D:a}),this.w=e,this.H=n,this.B=t}function Hl(){return zs(this,"firebaseui-id-phone-confirmation-code")}function Kl(){return zs(this,"firebaseui-id-phone-confirmation-code-error")}function Wl(){return zs(this,"firebaseui-id-resend-countdown")}function Gl(t,e,n,r,i,o,a,s,u){Ou.call(this,mc,{phoneNumber:i},u,"phoneSignInFinish",{F:a,D:s}),this.jb=o,this.i=new Es(1e3),this.B=o,this.P=t,this.l=e,this.H=n,this.M=r}u(Mc,Ou),Mc.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Ru(this,this.l(),this.i()),Mu(this,this.i(),this.w),ds(this.l())?this.i().focus():this.l().focus(),Ou.prototype.v.call(this)},Mc.prototype.m=function(){this.H=this.w=null,Ou.prototype.m.call(this)},N(Mc.prototype,{l:Nc,U:Pc,P:Oc,M:Dc,j:Rc,i:Tc,B:Sc,ea:Cc,u:kc,ua:_c,pa:Ic,ba:Ec}),R(Lc,Ou),Lc.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),Lc.K.v.call(this)},Lc.prototype.m=function(){this.i=null,Lc.K.m.call(this)},N(Lc.prototype,{l:_c,w:Ic,u:Ec}),R(jc,Lc),R(Fc,Lc),R(Uc,Lc),R(qc,Lc),R(Bc,Lc),R(Vc,Lc),R(Hc,Lc),R(Kc,Lc),R(Wc,Lc),R(Gc,Lc),R(zc,Lc),R(Yc,Lc),u(ll,Ou),ll.prototype.v=function(){var t=this;Zs(this,this.l(),(function(){t.i()})),this.l().focus(),Ou.prototype.v.call(this)},ll.prototype.m=function(){this.i=null,Ou.prototype.m.call(this)},N(ll.prototype,{l:Ic}),ss.anonymousUserMismatch=function(t,e){var n=new ll((function(){n.o(),rl(t,e)}));n.render(e),gf(t,n)},u(fl,Ou),fl.prototype.I=function(t,e,n,r){return t.apply(null,e).then(n,r)},ss.callback=function(t,e,n){var r=new fl;r.render(e),gf(t,r),e=n||vf(t),kf(t,e.then((function(e){hl(t,r,e)}),(function(e){if((e=Qc(e))&&("auth/account-exists-with-different-credential"==e.code||"auth/email-already-in-use"==e.code)&&e.email&&e.credential)na(new no(e.email,e.credential),wf(t)),vl(t,r,e.email);else if(e&&"auth/user-cancelled"==e.code){var n=ta(wf(t)),i=Zc(e);n&&n.a?vl(t,r,n.g,i):n?il(t,r,n.g,i):pl(t,r,e)}else e&&"auth/credential-already-in-use"==e.code||(e&&"auth/operation-not-supported-in-this-environment"==e.code&&el(t)?hl(t,r,{user:null,credential:null}):pl(t,r,e))})))},u(gl,Ou),gl.prototype.v=function(){var t=this;Zs(this,this.l(),(function(){t.i()})),this.l().focus(),Ou.prototype.v.call(this)},gl.prototype.m=function(){this.i=null,Ou.prototype.m.call(this)},N(gl.prototype,{l:Ic}),ss.differentDeviceError=function(t,e){var n=new gl((function(){n.o(),rl(t,e)}));n.render(e),gf(t,n)},u(ml,Ou),ml.prototype.v=function(){var t=this;Zs(this,zs(this,"firebaseui-id-reset-password-link"),(function(){t.l()})),this.i&&(this.w(this.i),this.u().focus()),Ou.prototype.v.call(this)},ml.prototype.m=function(){this.l=this.i=null,Ou.prototype.m.call(this)},N(ml.prototype,{u:_c,B:Ic,w:Ec}),u(Tl,Ou),Tl.prototype.v=function(){this.H(),this.B(this.l),Mu(this,this.i(),this.l),this.i().focus(),Ou.prototype.v.call(this)},Tl.prototype.m=function(){this.l=null,Ou.prototype.m.call(this)},N(Tl.prototype,{i:yl,w:_l,M:bl,H:Il,u:El,U:_c,P:Ic,B:Ec}),u(Sl,Ou),Sl.prototype.v=function(){var t=this;Zs(this,zs(this,"firebaseui-id-reset-password-link"),(function(){t.l()})),this.i&&(this.w(this.i),this.u().focus()),Ou.prototype.v.call(this)},Sl.prototype.m=function(){this.l=this.i=null,Ou.prototype.m.call(this)},N(Sl.prototype,{u:_c,B:Ic,w:Ec}),ss.passwordReset=function(t,e,n,r){kf(t,yf(t).verifyPasswordResetCode(n).then((function(i){var o=new Tl(i,(function(){!function(t,e,n,r,i){var o=n.u();o&&kf(t,n.I(x(yf(t).confirmPasswordReset,yf(t)),[r,o],(function(){n.o();var r=new Kc(i);r.render(e),gf(t,r)}),(function(r){Cl(t,e,n,r)})))}(t,e,o,n,r)}));o.render(e),gf(t,o)}),(function(){Cl(t,e)})))},ss.emailChangeRevocation=function(t,e,n){var r=null;kf(t,yf(t).checkActionCode(n).then((function(e){return r=e.data.email,yf(t).applyActionCode(n)})).then((function(){!function(t,e,n){var r=new ml(n,(function(){kf(t,r.I(x(yf(t).sendPasswordResetEmail,yf(t)),[n],(function(){r.o(),(r=new jc(n,void 0,Fa(Nf(t)),Ua(Nf(t)))).render(e),gf(t,r)}),(function(){r.a(An().toString())})))}));r.render(e),gf(t,r)}(t,e,r)}),(function(){var n=new Gc;n.render(e),gf(t,n)})))},ss.emailVerification=function(t,e,n,r){kf(t,yf(t).applyActionCode(n).then((function(){var n=new Fc(r);n.render(e),gf(t,n)}),(function(){var n=new Uc;n.render(e),gf(t,n)})))},ss.revertSecondFactorAddition=function(t,e,n){var r=null,i=null;kf(t,yf(t).checkActionCode(n).then((function(e){return r=e.data.email,i=e.data.multiFactorInfo,yf(t).applyActionCode(n)})).then((function(){!function(t,e,n,r){var i=new Sl(r.factorId,(function(){i.I(x(yf(t).sendPasswordResetEmail,yf(t)),[n],(function(){i.o(),(i=new jc(n,void 0,Fa(Nf(t)),Ua(Nf(t)))).render(e),gf(t,i)}),(function(){i.a(An().toString())}))}),r.phoneNumber);i.render(e),gf(t,i)}(t,e,r,i)}),(function(){var n=new Vc;n.render(e),gf(t,n)})))},ss.verifyAndChangeEmail=function(t,e,n,r){var i=null;kf(t,yf(t).checkActionCode(n).then((function(e){return i=e.data.email,yf(t).applyActionCode(n)})).then((function(){var n=new qc(i,r);n.render(e),gf(t,n)}),(function(){var n=new Bc;n.render(e),gf(t,n)})))},u(xl,Ou),xl.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),kl(this.i(),(this.i().value||"").length),Ou.prototype.v.call(this)},xl.prototype.m=function(){this.u=this.l=null,Ou.prototype.m.call(this)},N(xl.prototype,{i:Nc,M:Pc,w:Oc,H:Dc,j:Rc,U:_c,P:Ic,B:Ec}),ss.emailLinkConfirmation=function(t,e,n,r,i,o){var a=new xl((function(){var i=a.j();i?(a.o(),r(t,e,i,n)):a.i().focus()}),(function(){a.o(),rl(t,e,i||void 0)}),i||void 0,Fa(Nf(t)),Ua(Nf(t)));a.render(e),gf(t,a),o&&a.a(o)},u(Al,Ou),Al.prototype.v=function(){this.u(this.i),this.l().focus(),Ou.prototype.v.call(this)},Al.prototype.m=function(){this.i=null,Ou.prototype.m.call(this)},N(Al.prototype,{l:_c,u:Ec}),ss.emailLinkNewDeviceLinking=function(t,e,n,r){var i=new qt(n);if(n=i.a.a.get(Kt.PROVIDER_ID)||null,Vt(i,null),n){var o=new Al(Pa(Nf(t),n),(function(){o.o(),r(t,e,i.toString())}),Fa(Nf(t)),Ua(Nf(t)));o.render(e),gf(t,o)}else rl(t,e)},u(Nl,Ou),ss.emailLinkSignInCallback=Pl,u(Rl,Ou),Rl.prototype.v=function(){this.u(this.i),this.l().focus(),Ou.prototype.v.call(this)},Rl.prototype.m=function(){this.i=null,Ou.prototype.m.call(this)},N(Rl.prototype,{l:_c,u:Ec}),ss.emailLinkSignInLinking=function(t,e,n){var r=ta(wf(t));if(ea(wf(t)),r){var i=r.a.providerId,o=new Rl(n,Pa(Nf(t),i),(function(){!function(t,e,n,r){var i=Du(e);al(t,e,n,(function(){rl(t,i,n)}),(function(r){if(!r.name||"cancel"!=r.name){var o=Zc(r);r&&"auth/network-request-failed"==r.code?e.a(o):(e.o(),rl(t,i,n,o))}}),r)}(t,o,n,r)}),Fa(Nf(t)),Ua(Nf(t)));o.render(e),gf(t,o)}else rl(t,e)},u(Ml,Ou),Ml.prototype.v=function(){var t=this;Zs(this,this.l(),(function(){t.i()})),Zs(this,zs(this,"firebaseui-id-trouble-getting-email-link"),(function(){t.u()})),this.l().focus(),Ou.prototype.v.call(this)},Ml.prototype.m=function(){this.i=this.u=null,Ou.prototype.m.call(this)},N(Ml.prototype,{l:Ic}),ss.emailLinkSignInSent=function(t,e,n,r,i){var o=new Ml(n,(function(){o.o(),us("emailNotReceived",t,e,n,r,i)}),(function(){o.o(),r()}),Fa(Nf(t)),Ua(Nf(t)));o.render(e),gf(t,o)},u(Ll,Ou),Ll.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Ou.prototype.v.call(this)},Ll.prototype.m=function(){this.i=null,Ou.prototype.m.call(this)},N(Ll.prototype,{u:_c,B:Ic,w:Ec}),ss.emailMismatch=function(t,e,n){var r=ta(wf(t));if(r){var i=new Ll(n.user.email,r.g,(function(){var e=i;ea(wf(t)),Xc(t,e,n)}),(function(){var e=n.credential.providerId,o=Du(i);i.o(),r.a?us("federatedLinking",t,o,r.g,e):us("federatedSignIn",t,o,r.g,e)}),Fa(Nf(t)),Ua(Nf(t)));i.render(e),gf(t,i)}else rl(t,e)},u(jl,Ou),jl.prototype.v=function(){var t=this;Zs(this,this.u(),(function(){t.i()})),Zs(this,this.Da(),(function(){t.l()})),this.u().focus(),Ou.prototype.v.call(this)},jl.prototype.Da=function(){return zs(this,"firebaseui-id-resend-email-link")},jl.prototype.m=function(){this.i=this.l=null,Ou.prototype.m.call(this)},N(jl.prototype,{u:Ic}),ss.emailNotReceived=function(t,e,n,r,i){var o=new jl((function(){al(t,o,n,r,(function(t){t=Zc(t),o.a(t)}),i)}),(function(){o.o(),rl(t,e,n)}),Fa(Nf(t)),Ua(Nf(t)));o.render(e),gf(t,o)},u(Fl,Ou),Fl.prototype.v=function(){this.u(this.i),this.l().focus(),Ou.prototype.v.call(this)},Fl.prototype.m=function(){this.i=null,Ou.prototype.m.call(this)},N(Fl.prototype,{l:_c,u:Ec}),ss.federatedLinking=function(t,e,n,r,i){var o=ta(wf(t));if(o&&o.a){var a=new Fl(n,Pa(Nf(t),r),(function(){tl(t,a,r,n)}),Fa(Nf(t)),Ua(Nf(t)));a.render(e),gf(t,a),i&&a.a(i)}else rl(t,e)},ss.federatedRedirect=function(t,e,n){var r=new Nl;r.render(e),gf(t,r),tl(t,r,e=Na(Nf(t))[0],n)},ss.federatedSignIn=function(t,e,n,r,i){var o=new Fl(n,Pa(Nf(t),r),(function(){tl(t,o,r,n)}),Fa(Nf(t)),Ua(Nf(t)));o.render(e),gf(t,o),i&&o.a(i)},ss.passwordLinking=function(t,e,n){var r=ta(wf(t));ea(wf(t));var i=r&&r.a;if(i){var o=new xc(n,(function(){!function(t,e,n,r){var i=e.u();i?kf(t,e.I(x(t.Xb,t),[n,i],(function(n){return n=n.user.linkWithCredential(r).then((function(n){return Xc(t,e,{user:n.user,credential:r,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})})),kf(t,n),n}),(function(t){if(!t.name||"cancel"!=t.name)switch(t.code){case"auth/wrong-password":Xs(e.i(),!1),eu(e.B(),Zc(t));break;case"auth/too-many-requests":e.a(Zc(t));break;default:Gi("signInWithEmailAndPassword: "+t.message,void 0),e.a(Zc(t))}}))):e.i().focus()}(t,o,n,i)}),(function(){o.o(),us("passwordRecovery",t,e,n)}),Fa(Nf(t)),Ua(Nf(t)));o.render(e),gf(t,o)}else rl(t,e)},u(Ul,Ou),Ul.prototype.v=function(){this.B(),this.H(this.l,this.u),ds(this.i())||this.i().focus(),Mu(this,this.i(),this.l),Ou.prototype.v.call(this)},Ul.prototype.m=function(){this.u=this.l=null,Ou.prototype.m.call(this)},N(Ul.prototype,{i:Nc,w:Pc,B:Oc,M:Dc,j:Rc,U:_c,P:Ic,H:Ec}),ss.passwordRecovery=function(t,e,n,r,i){var o=new Ul((function(){!function(t,e){var n=e.j();if(n){var r=Du(e);kf(t,e.I(x(yf(t).sendPasswordResetEmail,yf(t)),[n],(function(){e.o();var i=new jc(n,(function(){i.o(),rl(t,r)}),Fa(Nf(t)),Ua(Nf(t)));i.render(r),gf(t,i)}),(function(t){Xs(e.i(),!1),eu(e.w(),Zc(t))})))}else e.i().focus()}(t,o)}),r?void 0:function(){o.o(),rl(t,e)},n,Fa(Nf(t)),Ua(Nf(t)));o.render(e),gf(t,o),i&&o.a(i)},ss.passwordSignIn=function(t,e,n,i){var o=new Mc((function(){!function(t,e){var n=e.j(),i=e.u();if(n)if(i){var o=r.default.auth.EmailAuthProvider.credential(n,i);kf(t,e.I(x(t.bc,t),[n,i],(function(n){return Xc(t,e,{user:n.user,credential:o,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),(function(t){if(!t.name||"cancel"!=t.name)switch(t.code){case"auth/email-already-in-use":break;case"auth/email-exists":Xs(e.l(),!1),eu(e.U(),Zc(t));break;case"auth/too-many-requests":case"auth/wrong-password":Xs(e.i(),!1),eu(e.B(),Zc(t));break;default:Gi("verifyPassword: "+t.message,void 0),e.a(Zc(t))}})))}else e.i().focus();else e.l().focus()}(t,o)}),(function(){var n=o.M();o.o(),us("passwordRecovery",t,e,n)}),n,Fa(Nf(t)),Ua(Nf(t)),i);o.render(e),gf(t,o)},u(Vl,Ou),Vl.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Ru(this,this.i(),this.u()),Ru(this,this.u(),this.l())):Ru(this,this.i(),this.l()),this.w&&Mu(this,this.l(),this.w),ds(this.i())?this.B&&!ds(this.u())?this.u().focus():this.l().focus():this.i().focus(),Ou.prototype.v.call(this)},Vl.prototype.m=function(){this.H=this.w=null,Ou.prototype.m.call(this)},N(Vl.prototype,{i:Nc,U:Pc,ea:Oc,jb:Dc,j:Rc,u:ql,Bc:Bl,Ja:function(){var t=ql.call(this),e=Bl.call(this);Js(this,t,(function(){nu(e)&&(Xs(t,!0),tu(e))}))},M:function(){var t=ql.call(this),e=Bl.call(this),n=ds(t);return Xs(t,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(tu(e),e=!0):(eu(e,ln("Enter your account name").toString()),e=!1),e?X(ds(t)):null},l:yl,ba:_l,lb:bl,ua:Il,P:El,Nb:_c,Mb:Ic,pa:Ec}),ss.passwordSignUp=function(t,e,n,i,o,a){var s=new Vl(qa(Nf(t)),(function(){!function(t,e){var n=qa(Nf(t)),i=e.j(),o=null;n&&(o=e.M());var a=e.P();if(i){if(n){if(!o)return void e.u().focus();o=ot(o)}if(a){var s=r.default.auth.EmailAuthProvider.credential(i,a);kf(t,e.I(x(t.Yb,t),[i,a],(function(r){var i={user:r.user,credential:s,operationType:r.operationType,additionalUserInfo:r.additionalUserInfo};return n?(r=r.user.updateProfile({displayName:o}).then((function(){return Xc(t,e,i)})),kf(t,r),r):Xc(t,e,i)}),(function(n){if(!n.name||"cancel"!=n.name){var r=Qc(n);switch(n=Zc(r),r.code){case"auth/email-already-in-use":return function(t,e,n,r){function i(){var t=Zc(r);Xs(e.i(),!1),eu(e.U(),t),e.i().focus()}var o=yf(t).fetchSignInMethodsForEmail(n).then((function(r){r.length?i():(r=Du(e),e.o(),us("passwordRecovery",t,r,n,!1,Pn().toString()))}),(function(){i()}));return kf(t,o),o}(t,e,i,r);case"auth/too-many-requests":n=ln("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Xs(e.l(),!1),eu(e.ba(),n);break;default:Gi(r="setAccountInfo: "+No(r),void 0),e.a(n)}}})))}else e.l().focus()}else e.i().focus()}(t,s)}),o?void 0:function(){s.o(),rl(t,e)},n,i,Fa(Nf(t)),Ua(Nf(t)),a);s.render(e),gf(t,s)},u(Gl,Ou),Gl.prototype.v=function(){var t=this;this.U(this.jb),rr(this.i,"tick",this.w,!1,this),this.i.start(),Zs(this,zs(this,"firebaseui-id-change-phone-number-link"),(function(){t.P()})),Zs(this,this.Da(),(function(){t.M()})),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),Ou.prototype.v.call(this)},Gl.prototype.m=function(){this.M=this.H=this.l=this.P=null,Ts(this.i),ar(this.i,"tick",this.w),this.i=null,Ou.prototype.m.call(this)},Gl.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Ts(this.i),ar(this.i,"tick",this.w),this.ua(),this.lb())},N(Gl.prototype,{u:Hl,pa:Kl,Ja:function(t){var e=Hl.call(this),n=Kl.call(this);Js(this,e,(function(){nu(n)&&(Xs(e,!0),tu(n))})),t&&$s(this,e,(function(){t()}))},ba:function(){var t=X(ds(Hl.call(this))||"");return/^\d{6}$/.test(t)?t:null},Fb:Wl,U:function(t){Ye(Wl.call(this),ln("Resend code in "+(9<t?"0:":"0:0")+t).toString())},ua:function(){tu(this.Fb())},Da:function(){return zs(this,"firebaseui-id-resend-link")},lb:function(){eu(this.Da())},Nb:_c,Mb:Ic,ea:Ec}),ss.phoneSignInFinish=function(t,e,n,r,i,o){var a=new Gl((function(){a.o(),us("phoneSignInStart",t,e,n)}),(function(){!function(t,e,n,r){function i(t){e.u().focus(),Xs(e.u(),!1),eu(e.pa(),t)}var o=e.ba();o?(e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ln("Verifying...").toString()),kf(t,e.I(x(r.confirm,r),[o],(function(n){e.h(),e.$("firebaseui-icon-done",ln("Verified!").toString());var r=setTimeout((function(){e.h(),e.o();var r={user:bf(t).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};Xc(t,e,r,!0)}),1e3);kf(t,(function(){e&&e.h(),clearTimeout(r)}))}),(function(r){if(r.name&&"cancel"==r.name)e.h();else{var o=Qc(r);switch(r=Zc(o),o.code){case"auth/credential-already-in-use":e.h();break;case"auth/code-expired":o=Du(e),e.h(),e.o(),us("phoneSignInStart",t,o,n,r);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":e.h(),i(r);break;default:e.h(),e.a(r)}}})))):i(ln("Wrong code. Try again.").toString())}(t,a,n,i)}),(function(){a.o(),rl(t,e)}),(function(){a.o(),us("phoneSignInStart",t,e,n)}),Ia(n),r,Fa(Nf(t)),Ua(Nf(t)));a.render(e),gf(t,a),o&&a.a(o)};var zl=!(Zt||zt("Safari")&&!(Yt()||zt("Coast")||zt("Opera")||zt("Edge")||zt("Firefox")||zt("FxiOS")||zt("Silk")||zt("Android")));function Yl(t,e){return/-[a-z]/.test(e)?null:zl&&t.dataset?!zt("Android")||Yt()||zt("Firefox")||zt("FxiOS")||zt("Opera")||zt("Silk")||e in t.dataset?void 0===(t=t.dataset[e])?null:t:null:t.getAttribute("data-"+String(e).replace(/([A-Z])/g,"-$1").toLowerCase())}function Ql(t,e,n){var r=this;t=nn(mu,{items:t},null,this.s),Tu.call(this,t,!0,!0),n&&(n=function(t,e){t=(t||document).getElementsByTagName("BUTTON");for(var n=0;n<t.length;n++)if(Yl(t[n],"listboxid")===e)return t[n];return null}(t,n))&&(n.focus(),function(t,e){var n=(e=e||We(document))||We(document),r=Vs(t),i=Vs(n);if(!Zt||9<=Number(le)){a=qs(n,"borderLeftWidth");var o=qs(n,"borderRightWidth");s=qs(n,"borderTopWidth"),u=qs(n,"borderBottomWidth"),o=new Us(parseFloat(s),parseFloat(o),parseFloat(u),parseFloat(a))}else{var a=Ks(n,"borderLeft");o=Ks(n,"borderRight");var s=Ks(n,"borderTop"),u=Ks(n,"borderBottom");o=new Us(s,o,u,a)}n==We(document)?(a=r.a-n.scrollLeft,r=r.g-n.scrollTop,!Zt||10<=Number(le)||(a+=o.left,r+=o.top)):(a=r.a-i.a-o.left,r=r.g-i.g-o.top),i=t.offsetWidth,o=t.offsetHeight,s=re&&!i&&!o,t=d(i)&&!s||!t.getBoundingClientRect?new Ue(i,o):new Ue((t=Bs(t)).right-t.left,t.bottom-t.top),i=n.clientHeight-t.height,o=n.scrollLeft,s=n.scrollTop,n=new Fe(o+=Math.min(a,Math.max(a-(n.clientWidth-t.width),0)),s+=Math.min(r,Math.max(r-i,0))),e.scrollLeft=n.a,e.scrollTop=n.g}(n,t)),Zs(this,t,(function(t){(t=(t=Qe(t.target,"firebaseui-id-list-box-dialog-button"))&&Yl(t,"listboxid"))&&(Su.call(r),e(t))}))}function Xl(){return zs(this,"firebaseui-id-phone-number")}function Jl(){return zs(this,"firebaseui-id-country-selector")}function $l(){return zs(this,"firebaseui-id-phone-number-error")}function Zl(t,e){var n,r=t.a,i=tf("1-US-0",r);if(!(n=e&&tf(e,r)?e:i?"1-US-0":0<r.length?r[0].c:null))throw Error("No available default country");rf.call(this,n,t)}function tf(t,e){return!(!(t=pa(t))||!H(e,t))}function ef(t){return"firebaseui-flag-"+t.f}function nf(t){var e=this;Ql.call(this,function(t){return B(t,(function(t){return{id:t.c,Ma:"firebaseui-flag "+ef(t),label:t.name+" +"+t.b}}))}(t.a),(function(n){rf.call(e,n,t,!0),e.O().focus()}),this.Ba)}function rf(t,e,n){var r=pa(t);r&&(n&&(e=da(e,n=X(ds(Xl.call(this))||""))).length&&e[0].b!=r.b&&(n="+"+r.b+n.substr(e[0].b.length+1),ps(Xl.call(this),n)),e=pa(this.Ba),this.Ba=t,t=zs(this,"firebaseui-id-country-selector-flag"),e&&hs(t,ef(e)),fs(t,ef(r)),Ye(zs(this,"firebaseui-id-country-selector-code"),"+"+r.b))}function of(t,e,n,r,i,o,a,s,u,c){Ou.call(this,gc,{Gb:e,Aa:u||null,Va:!!n,ia:!!o},c,"phoneSignInStart",{F:r,D:i}),this.H=s||null,this.M=e,this.l=t,this.w=n||null,this.pa=a||null}function af(t,e,n,r){try{var i=e.U(Xa)}catch(t){return}i?Ya?(e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ln("Verifying...").toString()),kf(t,e.I(x(t.cc,t),[Ia(i),n],(function(n){var r=Du(e);e.$("firebaseui-icon-done",ln("Code sent!").toString());var o=setTimeout((function(){e.h(),e.o(),us("phoneSignInFinish",t,r,i,15,n)}),1e3);kf(t,(function(){e&&e.h(),clearTimeout(o)}))}),(function(t){if(e.h(),!t.name||"cancel"!=t.name){grecaptcha.reset(Ja),Ya=null;var n=t&&t.message||"";if(t.code)switch(t.code){case"auth/too-many-requests":n=ln("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return e.O().focus(),void eu(e.B(),xn().toString());default:n=Zc(t)}e.a(n)}})))):Qa?eu(e.u(),ln("Solve the reCAPTCHA").toString()):!Qa&&r&&e.i().click():(e.O().focus(),eu(e.B(),xn().toString()))}function sf(t,e,n,r,i){Ou.call(this,vc,{Sb:e},i,"providerSignIn",{F:n,D:r}),this.i=t}function uf(t,e,n,r,i,o,a){Ou.call(this,Lu,{email:n,Va:!!e,ia:!!o},a,"signIn",{F:r,D:i}),this.i=t,this.u=e}function cf(t,e,n,r,i,o,a){Ou.call(this,Zu,{email:t,yb:n,Eb:!!r},a,"unauthorizedUser",{F:i,D:o}),this.l=e,this.i=r}function lf(t,e,n,r,i,o){Ou.call(this,tc,{email:t},o,"unsupportedProvider",{F:r,D:i}),this.l=e,this.i=n}function ff(t,e){this.$=!1;var n=pf(e);if(df[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');df[n]=this,this.a=t,this.u=null,this.Y=!1,hf(this.a),this.h=r.default.initializeApp({apiKey:t.app.options.apiKey,authDomain:t.app.options.authDomain},t.app.name+"-firebaseui-temp").auth(),(t=t.emulatorConfig)&&(n=t.port,this.h.useEmulator(t.protocol+"://"+t.host+(null===n?"":":"+n),t.options)),hf(this.h),this.h.setPersistence&&this.h.setPersistence(r.default.auth.Auth.Persistence.SESSION),this.oa=e,this.ca=new Ca,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=Ei.Xa(),this.j=this.C=null,this.da=this.A=!1}function hf(t){t&&t.INTERNAL&&t.INTERNAL.logFramework&&t.INTERNAL.logFramework("FirebaseUI-web")}u(of,Ou),of.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Ru(this,this.O(),this.i()),Mu(this,this.i(),this.l),this.O().focus(),kl(this.O(),(this.O().value||"").length),Ou.prototype.v.call(this)},of.prototype.m=function(){this.w=this.l=null,Ou.prototype.m.call(this)},N(of.prototype,{Cb:Cu,O:Xl,B:$l,ea:function(t,e,n){var r=this,i=Xl.call(this),o=Jl.call(this),a=$l.call(this),s=t||ba,u=s.a;if(0==u.length)throw Error("No available countries provided.");Zl.call(r,s,e),Zs(this,o,(function(){nf.call(r,s)})),Js(this,i,(function(){nu(a)&&(Xs(i,!0),tu(a));var t=X(ds(i)||""),e=pa(this.Ba),n=da(s,t);t=tf("1-US-0",u),n.length&&n[0].b!=e.b&&(e=n[0],rf.call(r,"1"==e.b&&t?"1-US-0":e.c,s))})),n&&$s(this,i,(function(){n()}))},U:function(t){var e=X(ds(Xl.call(this))||""),n=(t=t||ba).a,r=da(ba,e);if(r.length&&!H(n,r[0]))throw ps(Xl.call(this)),Xl.call(this).focus(),eu($l.call(this),ln("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=pa(this.Ba),r.length&&r[0].b!=n.b&&rf.call(this,r[0].c,t),r.length&&(e=e.substr(r[0].b.length+1)),e?new wa(this.Ba,e):null},Ja:Jl,ba:function(){return zs(this,"firebaseui-recaptcha-container")},u:function(){return zs(this,"firebaseui-id-recaptcha-error")},i:_c,ua:Ic,P:Ec}),ss.phoneSignInStart=function(t,e,n,i){var o=function(t){var e=null;if(U(xa(t),(function(t){t.provider==r.default.auth.PhoneAuthProvider.PROVIDER_ID&&E(t.recaptchaParameters)&&!Array.isArray(t.recaptchaParameters)&&(e=st(t.recaptchaParameters))})),e){var n=[];U(as,(function(t){void 0!==e[t]&&(n.push(t),delete e[t])})),n.length&&Xi('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return e}(Nf(t))||{};Ya=null,Qa=!(o&&"invisible"===o.size);var a=nl(t),s=function(t){var e=(t=Aa(t,r.default.auth.PhoneAuthProvider.PROVIDER_ID))&&t.defaultCountry||null;e=e&&va(e);var n=null;return t&&"string"==typeof t.loginHint&&(n=_a(t.loginHint)),e&&e[0]||n&&pa(n.a)||null}(Nf(t)),u=a?function(t){var e=null;return(t=Aa(t,r.default.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"==typeof t.loginHint&&(e=_a(t.loginHint)),t&&t.defaultNationalNumber||e&&e.Aa||null}(Nf(t)):null;s=n&&n.a||s&&s.c||null,n=n&&n.Aa||u,(u=La(Nf(t)))&&ma(u),Xa=u?new ha(La(Nf(t))):ba;var c=new of((function(e){af(t,c,l,!(!e||!e.keyCode))}),Qa,a?null:function(){l.clear(),c.o(),rl(t,e)},Fa(Nf(t)),Ua(Nf(t)),a,Xa,s,n);c.render(e),gf(t,c),i&&c.a(i),o.callback=function(e){c.u()&&tu(c.u()),Ya=e,Qa||af(t,c,l)},o["expired-callback"]=function(){Ya=null};var l=new r.default.auth.RecaptchaVerifier(Qa?c.ba():c.i(),o,bf(t).app);kf(t,c.I(x(l.render,l),[],(function(t){Ja=t}),(function(n){n.name&&"cancel"==n.name||(n=Zc(n),c.o(),rl(t,e,void 0,n))})))},ss.prefilledEmailSignIn=function(t,e,n){var r=new Nl;r.render(e),gf(t,r),kf(t,r.I(x(yf(t).fetchSignInMethodsForEmail,yf(t)),[n],(function(i){r.o();var o=!(!el(t)||!_f(t));ol(t,e,i,n,void 0,o)}),(function(i){i=Zc(i),r.o(),us("signIn",t,e,n,i)})))},u(sf,Ou),sf.prototype.v=function(){this.l(this.i),Ou.prototype.v.call(this)},sf.prototype.m=function(){this.i=null,Ou.prototype.m.call(this)},N(sf.prototype,{l:function(t){function e(e){t(e)}for(var n=this.g?Be("firebaseui-id-idp-button",this.g||this.s.a):[],r=0;r<n.length;r++){var i=n[r];Zs(this,i,A(e,Yl(i,"providerId")))}}}),ss.providerSignIn=function(t,e,n,i){var o=new sf((function(n){n==r.default.auth.EmailAuthProvider.PROVIDER_ID?(o.o(),sl(t,e,i)):n==r.default.auth.PhoneAuthProvider.PROVIDER_ID?(o.o(),us("phoneSignInStart",t,e)):"anonymous"==n?function(t,e){kf(t,e.I(x(t.$b,t),[],(function(n){return e.o(),Xc(t,e,n,!0)}),(function(t){t.name&&"cancel"==t.name||(Gi("ContinueAsGuest: "+t.code,void 0),t=Zc(t),e.a(t))})))}(t,o):tl(t,o,n,i),Pf(t),t.l.cancel()}),Oa(Nf(t)),Fa(Nf(t)),Ua(Nf(t)));o.render(e),gf(t,o),n&&o.a(n),function(t){Pf(t);try{Ti(t.l,Da(Nf(t)),function(t){var e;return Pf(t),(e=t.Z)||(e=!(!(t=Ma(t=Nf(t),r.default.auth.GoogleAuthProvider.PROVIDER_ID))||"select_account"!==t.prompt)),e}(t)).then((function(e){return!!t.g&&function(t,e,n){if(n&&n.credential&&n.clientId===Da(Nf(t))){if(Ra(Nf(t),r.default.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var i=JSON.parse(atob(n.credential.split(".")[1])).email}catch(o){}return tl(t,e,r.default.auth.GoogleAuthProvider.PROVIDER_ID,i),Kr(!0)}return o=r.default.auth.GoogleAuthProvider.credential(n.credential),a=!1,o=e.I(x(t.ac,t),[o],(function(n){var r=Du(e);e.o(),us("callback",t,r,Kr(n)),a=!0}),(function(n){if(!(n.name&&"cancel"==n.name||n&&"auth/credential-already-in-use"==n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var r=Du(e);e.o(),us("callback",t,r,Wr(n))}else n=Zc(n),e.a(n)})),kf(t,o),o.then((function(){return a}),(function(){return!1}))}var o,a;return n&&e.a(ln("The selected credential for the authentication provider is not supported!").toString()),Kr(!1)}(t,t.g,e)}))}catch(t){}}(t)},ss.sendEmailLinkForSignIn=function(t,e,n,r){var i=new fl;i.render(e),gf(t,i),al(t,i,n,r,(function(r){i.o(),r=Zc(r),us("signIn",t,e,n,r)}))},u(uf,Ou),uf.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),kl(this.l(),(this.l().value||"").length),Ou.prototype.v.call(this)},uf.prototype.m=function(){this.u=this.i=null,Ou.prototype.m.call(this)},N(uf.prototype,{l:Nc,M:Pc,w:Oc,H:Dc,j:Rc,U:_c,P:Ic,B:Ec}),ss.signIn=function(t,e,n,r){var i=el(t),o=new uf((function(){var e=o,n=e.j()||"";n&&il(t,e,n)}),i?null:function(){o.o(),rl(t,e,n)},n,Fa(Nf(t)),Ua(Nf(t)),i);o.render(e),gf(t,o),r&&o.a(r)},u(cf,Ou),cf.prototype.v=function(){var t=this,e=zs(this,"firebaseui-id-unauthorized-user-help-link");this.i&&e&&Zs(this,e,(function(){t.i()})),Zs(this,this.u(),(function(){t.l()})),this.u().focus(),Ou.prototype.v.call(this)},cf.prototype.m=function(){this.i=this.l=null,Ou.prototype.m.call(this)},N(cf.prototype,{u:Ic}),ss.handleUnauthorizedUser=function(t,e,n,i){function o(){rl(t,e)}i===r.default.auth.EmailAuthProvider.PROVIDER_ID&&(o=function(){sl(t,e)});var a=new cf(n||null,(function(){a.o(),o()}),function(t){return(t=Aa(t,r.default.auth.EmailAuthProvider.PROVIDER_ID))&&t.disableSignUp&&t.disableSignUp.adminEmail||null}(Nf(t)),function(t){if((t=Aa(t,r.default.auth.EmailAuthProvider.PROVIDER_ID))&&t.disableSignUp){var e=t.disableSignUp.helpLink||null;if(e&&"string"==typeof e)return function(){ii(e)}}return null}(Nf(t)),Fa(Nf(t)),Ua(Nf(t)));a.render(e),gf(t,a)},u(lf,Ou),lf.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Ou.prototype.v.call(this)},lf.prototype.m=function(){this.i=this.l=null,Ou.prototype.m.call(this)},N(lf.prototype,{u:_c,B:Ic,w:Ec}),ss.unsupportedProvider=function(t,e,n){var r=new lf(n,(function(){r.o(),us("passwordRecovery",t,e,n)}),(function(){r.o(),rl(t,e,n)}),Fa(Nf(t)),Ua(Nf(t)));r.render(e),gf(t,r)};var df={};function pf(t){return t||"[DEFAULT]"}function vf(t){return Pf(t),t.i||(t.i=Sf(t,(function(e){return e&&!ta(wf(t))?Kr(bf(t).getRedirectResult().then((function(t){return t}),(function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return Rf(t,e)}))):Kr(yf(t).getRedirectResult().then((function(e){return ka(Nf(t))&&!e.user&&t.j&&!t.j.isAnonymous?bf(t).getRedirectResult():e})))}))),t.i}function gf(t,e){Pf(t),t.g=e}var mf=null;function yf(t){return Pf(t),t.h}function bf(t){return Pf(t),t.a}function wf(t){return Pf(t),t.oa}function _f(t){return Pf(t),t.O?t.O.emailHint:void 0}function If(t){return"signIn"===((t=new qt(t)).a.a.get(Kt.ub)||null)&&!!t.a.a.get(Kt.$a)}function Ef(t,e,n,r){Pf(t),void 0!==t.a.languageCode&&(t.u=t.a.languageCode);var i="en".replace(/_/g,"-");t.a.languageCode=i,t.h.languageCode=i,t.Y=!0,void 0!==t.a.tenantId&&(t.h.tenantId=t.a.tenantId),t.ib(n),t.O=r||null;var o=h.document;t.C?t.C.then((function(){"complete"==o.readyState?Tf(t,e):or(window,"load",(function(){Tf(t,e)}))})):"complete"==o.readyState?Tf(t,e):or(window,"load",(function(){Tf(t,e)}))}function Tf(t,e){var n=oi(e,"Could not find the FirebaseUI widget element on the page.");if(n.setAttribute("lang","en".replace(/_/g,"-")),mf){var r=mf;Pf(r),ta(wf(r))&&Xi("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),mf.reset()}if(mf=t,t.T=n,function(t,e){t.L=null,t.J=new Ir(e),t.J.register(),rr(t.J,"pageEnter",(function(e){if(e=e&&e.pageId,t.L!=e){var n=Nf(t);(n=za(n).uiChanged||null)&&n(t.L,e),t.L=e}}))}(t,n),Uo(new qo)&&Uo(new Bo)){e=oi(e,"Could not find the FirebaseUI widget element on the page."),n=(n=bt(n=ai(),r=sa(Nf(t).a,"queryParameterForSignInSuccessUrl")))?_e(Ee(n)).toString():null;t:{r=ai();var i=ja(Nf(t));for(o in r=bt(r,i)||"",is)if(is[o].toLowerCase()==r.toLowerCase()){var o=is[o];break t}o="callback"}switch(o){case"callback":n&&(o=wf(t),$o(zo,n,o)),t.nb()?us("callback",t,e):rl(t,e,_f(t));break;case"resetPassword":us("passwordReset",t,e,ul(),cl());break;case"recoverEmail":us("emailChangeRevocation",t,e,ul());break;case"revertSecondFactorAddition":us("revertSecondFactorAddition",t,e,ul());break;case"verifyEmail":us("emailVerification",t,e,ul(),cl());break;case"verifyAndChangeEmail":us("verifyAndChangeEmail",t,e,ul(),cl());break;case"signIn":us("emailLinkSignInCallback",t,e,ai()),Of();break;case"select":n&&(o=wf(t),$o(zo,n,o)),rl(t,e);break;default:throw Error("Unhandled widget operation.")}(e=za(e=Nf(t)).uiShown||null)&&e()}else e=oi(e,"Could not find the FirebaseUI widget element on the page."),(o=new Yc(ln("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(e),gf(t,o);e=t.g&&"blank"==t.g.Ga&&Va(Nf(t)),ra(wf(t))&&!e&&(Af(t,(e=ra(wf(t))).a),Jo(Go,wf(t)))}function Sf(t,e){if(t.A)return e(Cf(t));if(kf(t,(function(){t.A=!1})),ka(Nf(t))){var n=new jr((function(n){kf(t,t.a.onAuthStateChanged((function(r){t.j=r,t.A||(t.A=!0,n(e(Cf(t))))})))}));return kf(t,n),n}return t.A=!0,e(null)}function Cf(t){return Pf(t),ka(Nf(t))&&t.j&&t.j.isAnonymous?t.j:null}function kf(t,e){if(Pf(t),e){t.s.push(e);var n=function(){!function(t,e){!function(t,e){for(var n=p(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&W(t,r)}))}(t.s,(function(t){return t==e}))};"function"!=typeof e&&e.then(n,n)}}function xf(t){void 0!==t.a.languageCode&&t.Y&&(t.Y=!1,t.a.languageCode=t.u)}function Af(t,e){t.a.tenantId=e,t.h.tenantId=e}function Nf(t){return Pf(t),t.ca}function Pf(t){if(t.$)throw Error("AuthUI instance is deleted!")}function Of(){var t=ai();if(If(t)){for(var e in t=new qt(t),Kt)Kt.hasOwnProperty(e)&&Lt(t.a.a,Kt[e]);e={state:"signIn",mode:"emailLink",operation:"clear"};var n=h.document.title;h.history&&h.history.replaceState&&h.history.replaceState(e,n,t.toString())}}function Df(t){return Pf(t),yf(t).signOut()}function Rf(t,e,n){if(Pf(t),e&&e.code&&("auth/email-already-in-use"==e.code||"auth/credential-already-in-use"==e.code)){var r=Ga(Nf(t));return Kr().then((function(){return r(new Rn("anonymous-upgrade-merge-conflict",null,n||e.credential))})).then((function(){throw t.g&&(t.g.o(),t.g=null),e}))}return Wr(e)}function Mf(t,e,n,r){Ou.call(this,wc,void 0,r,"providerMatchByEmail",{F:e,D:n}),this.i=t}function Lf(t,e,n,r,i){Ou.call(this,bc,{ec:e},i,"selectTenant",{F:n,D:r}),this.i=t}function jf(t){Ou.call(this,Vu,void 0,t,"spinner")}function Ff(t){for(var e in this.a=new ia,oa(this.a,"authDomain"),oa(this.a,"displayMode",Wf),oa(this.a,"tenants"),oa(this.a,"callbacks"),oa(this.a,"tosUrl"),oa(this.a,"privacyPolicyUrl"),t)if(t.hasOwnProperty(e))try{aa(this.a,e,t[e])}catch(t){Gi('Invalid config: "'+e+'"',void 0)}}function Uf(t){return t.a.get("callbacks")||{}}function qf(t){var e=t.a.get("tosUrl")||null;if(t=t.a.get("privacyPolicyUrl")||null,e&&!t&&Xi("Privacy Policy URL is missing, the link will not be displayed."),e&&t){if("function"==typeof e)return e;if("string"==typeof e)return function(){ii(e)}}return null}function Bf(t){var e=t.a.get("tosUrl")||null,n=t.a.get("privacyPolicyUrl")||null;if(n&&!e&&Xi("Terms of Service URL is missing, the link will not be displayed."),e&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){ii(n)}}return null}function Vf(t,e){if(!(t=t.a.get("tenants"))||!t.hasOwnProperty(e)&&!t.hasOwnProperty(zf))throw Error("Invalid tenant configuration!")}function Hf(t,e,n){if(!(t=t.a.get("tenants")))throw Error("Invalid tenant configuration!");var r=[];if(!(t=t[e]||t[zf]))return Gi("Invalid tenant configuration: "+e+" is not configured!",void 0),r;if(!(e=t.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return e.forEach((function(t){if("string"==typeof t)r.push(t);else if("string"==typeof t.provider){var e=t.hd;e&&n?(e instanceof RegExp?e:new RegExp("@"+e.replace(".","\\.")+"$")).test(n)&&r.push(t.provider):r.push(t.provider)}else Gi(t="Invalid tenant configuration: signInOption "+JSON.stringify(t)+" is invalid!",void 0)})),r}(t=ff.prototype).nb=function(){return Pf(this),!!ra(wf(this))||If(ai())},t.start=function(t,e){Ef(this,t,e)},t.Db=function(){Pf(this),this.Z=!0},t.reset=function(){Pf(this);var t=this;this.T&&this.T.removeAttribute("lang"),this.J&&function(t){var e=_r(t.N());yr[e]&&yr[e].length&&(function(t,e){t:{for(var n=t.length,r=p(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}0<=e&&W(t,e)}(yr[e],(function(e){return e==t})),yr[e].length||delete yr[e])}(this.J),xf(this),this.O=null,Of(),Jo(Go,wf(this)),Pf(this),this.l.cancel(),this.i=Kr({user:null,credential:null}),mf==this&&(mf=null),this.T=null;for(var e=0;e<this.s.length;e++)"function"==typeof this.s[e]?this.s[e]():this.s[e].cancel&&this.s[e].cancel();this.s=[],ea(wf(this)),this.g&&(this.g.o(),this.g=null),this.L=null,this.h&&(this.C=Df(this).then((function(){t.C=null}),(function(){t.C=null})))},t.ib=function(t){Pf(this);var e,n=this.ca;for(e in t)try{aa(n.a,e,t[e])}catch(t){Gi('Invalid config: "'+e+'"',void 0)}ie&&aa(n.a,"popupMode",!1),La(n),!this.da&&Ka(Nf(this))&&(Xi("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},t.Wb=function(){Pf(this);var t=Nf(this),e=sa(t.a,"widgetUrl");t=ja(t);for(var n,r=e.search(yt),i=0,o=[];0<=(n=mt(e,i,t,r));)o.push(e.substring(i,n)),i=Math.min(e.indexOf("&",n)+1||r,r);o.push(e.substr(i)),e=o.join("").replace(wt,"$1"),(t+=r="="+encodeURIComponent("select"))?(0>(r=e.indexOf("#"))&&(r=e.length),0>(i=e.indexOf("?"))||i>r?(i=r,n=""):n=e.substring(i+1,r),r=(e=[e.substr(0,i),n,e.substr(r)])[1],e[1]=t?r?r+"&"+t:t:r,r=e[0]+(e[1]?"?"+e[1]:"")+e[2]):r=e,Nf(this).a.get("popupMode")?(r=r||"about:blank",(t={width:500,height:600,top:0<(t=(window.screen.availHeight-600)/2)?t:0,left:0<(e=(window.screen.availWidth-500)/2)?e:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=t.target||r.target||"google_popup",t.width=t.width||690,t.height=t.height||500,(t=ni(r,t))&&t.focus()):je(window.location,r)},t.Wa=function(){var t=this;return Pf(this),this.h.app.delete().then((function(){var e=pf(wf(t));delete df[e],t.reset(),t.$=!0}))},t.Ib=function(t,e){Pf(this);var n=this,i=function(){for(var t=32,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();if(!Ba(Nf(this)))return Wr(Error("Email link sign-in should be enabled to trigger email sending."));var o=function(t){if(Ba(t)){var e={url:ai(),handleCodeInApp:!0};(t=Aa(t,r.default.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof t.emailLinkSignIn&&ct(e,t.emailLinkSignIn()),t=e.url;var n=ai();n instanceof _t||(n=St(n)),t instanceof _t||(t=St(t));var i=n;n=new _t(i);var o=!!t.j;o?It(n,t.j):o=!!t.A,o?n.A=t.A:o=!!t.h,o?n.h=t.h:o=null!=t.C;var a=t.g;if(o)Et(n,t.C);else if(o=!!t.g)if("/"!=a.charAt(0)&&(i.h&&!i.g?a="/"+a:-1!=(i=n.g.lastIndexOf("/"))&&(a=n.g.substr(0,i+1)+a)),".."==a||"."==a)a="";else if(-1!=a.indexOf("./")||-1!=a.indexOf("/.")){i=0==a.lastIndexOf("/",0),a=a.split("/");for(var s=[],u=0;u<a.length;){var c=a[u++];"."==c?i&&u==a.length&&s.push(""):".."==c?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),i&&u==a.length&&s.push("")):(s.push(c),i=!0)}a=s.join("/")}return o?n.g=a:o=""!==t.a.toString(),o?Tt(n,Ft(t.a)):o=!!t.s,o&&(n.s=t.s),e.url=n.toString(),e}return null}(Nf(this)),a=new qt(o.url);return function(t,e){e?t.a.a.set(Kt.Sa,e):Lt(t.a.a,Kt.Sa)}(a,i),e&&e.a&&(function(t,e,n){$o(Qo,ko(t,JSON.stringify(ro(e))),n)}(i,e,wf(this)),Vt(a,e.a.providerId)),function(t,e){null!==e?t.a.a.set(Kt.Qa,e?"1":"0"):Lt(t.a.a,Kt.Qa)}(a,function(t){return!(!(t=Aa(t,r.default.auth.EmailAuthProvider.PROVIDER_ID))||!t.forceSameDevice)}(Nf(this))),Sf(this,(function(e){return e&&((e=e.uid)?a.a.a.set(Kt.Pa,e):Lt(a.a.a,Kt.Pa)),o.url=a.toString(),yf(n).sendSignInLinkToEmail(t,o)})).then((function(){var e=wf(n),r={};r.email=t,$o(Yo,ko(i,JSON.stringify(r)),e)}),(function(t){throw Jo(Qo,wf(n)),Jo(Yo,wf(n)),t}))},t.bc=function(t,e){Pf(this);var n=this;return yf(this).signInWithEmailAndPassword(t,e).then((function(i){return Sf(n,(function(o){return o?Df(n).then((function(){return Rf(n,{code:"auth/email-already-in-use"},r.default.auth.EmailAuthProvider.credential(t,e))})):i}))}))},t.Yb=function(t,e){Pf(this);var n=this;return Sf(this,(function(i){if(i){var o=r.default.auth.EmailAuthProvider.credential(t,e);return i.linkWithCredential(o)}return yf(n).createUserWithEmailAndPassword(t,e)}))},t.ac=function(t){Pf(this);var e=this;return Sf(this,(function(n){return n?n.linkWithCredential(t).then((function(t){return t}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Rf(e,n,t)})):yf(e).signInWithCredential(t)}))},t.dc=function(t){Pf(this);var e=this,n=this.i;return this.i=null,Sf(this,(function(n){return n&&!ta(wf(e))?n.linkWithRedirect(t):yf(e).signInWithRedirect(t)})).then((function(){}),(function(t){throw e.i=n,t}))},t.cc=function(t,e){Pf(this);var n=this;return Sf(this,(function(r){return r?r.linkWithPhoneNumber(t,e).then((function(t){return new ki(t,(function(t){if("auth/credential-already-in-use"==t.code)return Rf(n,t);throw t}))})):bf(n).signInWithPhoneNumber(t,e).then((function(t){return new ki(t)}))}))},t.$b=function(){return Pf(this),bf(this).signInAnonymously()},t.Xb=function(t,e){return Pf(this),yf(this).signInWithEmailAndPassword(t,e)},u(Mf,Ou),Mf.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),kl(this.l(),(this.l().value||"").length),Ou.prototype.v.call(this)},Mf.prototype.m=function(){this.i=null,Ou.prototype.m.call(this)},N(Mf.prototype,{l:Nc,H:Pc,u:Oc,B:Dc,j:Rc,M:_c,w:Ec}),u(Lf,Ou),Lf.prototype.v=function(){!function(t,e){function n(t){e(t)}for(var r=t.g?Be("firebaseui-id-tenant-selection-button",t.g||t.s.a):[],i=0;i<r.length;i++){var o=r[i];Zs(t,o,A(n,Yl(o,"tenantId")))}}(this,this.i),Ou.prototype.v.call(this)},Lf.prototype.m=function(){this.i=null,Ou.prototype.m.call(this)},u(jf,Ou);var Kf=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Wf="optionFirst",Gf={pc:Wf,oc:"identifierFirst"},zf="*";function Yf(t,e){var n=this;this.s=oi(t),this.a={},Object.keys(e).forEach((function(t){n.a[t]=new Ff(e[t])})),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(t){this.ob=t||null},enumerable:!1})}function Qf(t){t.j&&t.j.reset(),t.mb(),t.g&&t.g.o()}(t=Yf.prototype).Ub=function(t,e){var n=this;Qf(this);var r=t.apiKey;return new jr((function(t,i){if(n.a.hasOwnProperty(r)){var o=Uf(n.a[r]).selectTenantUiHidden||null;if(function(t){for(var e in t=t.a.get("displayMode"),Gf)if(Gf[e]===t)return Gf[e];return Wf}(n.a[r])===Wf){var a=[];e.forEach((function(t){t=t||"_";var e=n.a[r].a.get("tenants");if(!e)throw Error("Invalid tenant configuration!");(e=e[t]||e[zf])?t={tenantId:"_"!==t?t:null,V:e.fullLabel||null,displayName:e.displayName,za:e.iconUrl,ta:e.buttonColor}:(Gi("Invalid tenant configuration: "+t+" is not configured!",void 0),t=null),t&&a.push(t)}));var s=function(e){e={tenantId:e,providerIds:Hf(n.a[r],e||"_")},t(e)};if(1===a.length)return void s(a[0].tenantId);n.g=new Lf((function(t){Qf(n),o&&o(),s(t)}),a,qf(n.a[r]),Bf(n.a[r]))}else n.g=new Mf((function(){var i=n.g.j();if(i){for(var a=0;a<e.length;a++){var s=Hf(n.a[r],e[a]||"_",i);if(0!==s.length)return i={tenantId:e[a],providerIds:s,email:i},Qf(n),o&&o(),void t(i)}n.g.a(On({code:"no-matching-tenant-for-email"}).toString())}}),qf(n.a[r]),Bf(n.a[r]));n.g.render(n.s),(i=Uf(n.a[r]).selectTenantUiShown||null)&&i()}else{var u=Error("Invalid project configuration: API key is invalid!");u.code="invalid-configuration",n.pb(u),i(u)}}))},t.Pb=function(t,e){if(!this.a.hasOwnProperty(t))throw Error("Invalid project configuration: API key is invalid!");var n=e||void 0;Vf(this.a[t],e||"_");try{this.i=r.default.app(n).auth()}catch(o){var i=this.a[t].a.get("authDomain");if(!i)throw Error("Invalid project configuration: authDomain is required!");(t=r.default.initializeApp({apiKey:t,authDomain:i},n)).auth().tenantId=e,this.i=t.auth()}return this.i},t.Zb=function(t,e){var n=this;return new jr((function(r,i){function o(e,r){n.j=new ff(t),Ef(n.j,n.s,e,r)}var a=t.app.options.apiKey;n.a.hasOwnProperty(a)||i(Error("Invalid project configuration: API key is invalid!"));var s=function(t,e,n){return t=function(t,e){var n=Kf,r=void 0===r?{}:r;return Vf(t,e),function(t,e,n){return n=void 0===n?{}:n,Object.keys(t).filter((function(t){return e.includes(t)})).reduce((function(e,n){return e[n]=t[n],e}),n)}((t=t.a.get("tenants"))[e]||t[zf],n,r)}(t,e),(e=t.signInOptions)&&n&&(e=e.filter((function(t){return"string"==typeof t?n.includes(t):n.includes(t.provider)})),t.signInOptions=e),t}(n.a[a],t.tenantId||"_",e&&e.providerIds);Qf(n),i={signInSuccessWithAuthResult:function(t){return r(t),!1}};var u,c=Uf(n.a[a]).signInUiShown||null,l=!1;i.uiChanged=function(e,r){null===e&&"callback"===r?((e=Ve("firebaseui-id-page-callback",n.s))&&tu(e),n.h=new jf,n.h.render(n.s)):l||null===e&&"spinner"===r||"blank"===r||(n.h&&(n.h.o(),n.h=null),l=!0,c&&c(t.tenantId))},s.callbacks=i,s.credentialHelper="none",e&&e.email&&(u={emailHint:e.email}),n.j?n.j.Wa().then((function(){o(s,u)})):o(s,u)}))},t.reset=function(){var t=this;return Kr().then((function(){t.j&&t.j.Wa()})).then((function(){t.j=null,Qf(t)}))},t.Vb=function(){var t=this;this.h||this.A||(this.A=window.setTimeout((function(){Qf(t),t.h=new jf,t.g=t.h,t.h.render(t.s),t.A=null}),500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.o(),this.h=null)},t.Bb=function(){return Qf(this),this.g=new Hc,this.g.render(this.s),Kr()},t.pb=function(t){var e,n=this,r=On({code:t.code}).toString()||t.message;Qf(this),t.retry&&"function"==typeof t.retry&&(e=function(){n.reset(),t.retry()}),this.g=new zc(r,e),this.g.render(this.s)},t.Rb=function(t){var e=this;return Kr().then((function(){var n=e.i&&e.i.app.options.apiKey;if(!e.a.hasOwnProperty(n))throw Error("Invalid project configuration: API key is invalid!");if(Vf(e.a[n],t.tenantId||"_"),!e.i.currentUser||e.i.currentUser.uid!==t.uid)throw Error("The user being processed does not match the signed in user!");return(n=Uf(e.a[n]).beforeSignInSuccess||null)?n(t):t})).then((function(e){if(e.uid!==t.uid)throw Error("User with mismatching UID returned.");return e}))},D("firebaseui.auth.FirebaseUiHandler",Yf),D("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Yf.prototype.Ub),D("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Yf.prototype.Pb),D("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Yf.prototype.Zb),D("firebaseui.auth.FirebaseUiHandler.prototype.reset",Yf.prototype.reset),D("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Yf.prototype.Vb),D("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Yf.prototype.mb),D("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Yf.prototype.Bb),D("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Yf.prototype.pb),D("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Yf.prototype.Rb),D("firebaseui.auth.AuthUI",ff),D("firebaseui.auth.AuthUI.getInstance",(function(t){return t=pf(t),df[t]?df[t]:null})),D("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",ff.prototype.Db),D("firebaseui.auth.AuthUI.prototype.start",ff.prototype.start),D("firebaseui.auth.AuthUI.prototype.setConfig",ff.prototype.ib),D("firebaseui.auth.AuthUI.prototype.signIn",ff.prototype.Wb),D("firebaseui.auth.AuthUI.prototype.reset",ff.prototype.reset),D("firebaseui.auth.AuthUI.prototype.delete",ff.prototype.Wa),D("firebaseui.auth.AuthUI.prototype.isPendingRedirect",ff.prototype.nb),D("firebaseui.auth.AuthUIError",Rn),D("firebaseui.auth.AuthUIError.prototype.toJSON",Rn.prototype.toJSON),D("firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM",$a),D("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Za),D("firebaseui.auth.CredentialHelper.NONE",ts),D("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),jr.prototype.catch=jr.prototype.Ca,jr.prototype.finally=jr.prototype.fc}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:window)}.apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:window),"undefined"!=typeof window&&(window.dialogPolyfill=o());var a=firebaseui.auth},Jikt:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.__esModule=!0;var o=i(n("dJlP")),a=r(n("l3gt")),s=r(n("AIJh")),u=i(n("82EY")),c=i(n("co8E")),l=r(n("6+Qq"));function f(){var t=new o.HandlebarsEnvironment;return u.extend(t,o),t.SafeString=a.default,t.Exception=s.default,t.Utils=u,t.escapeExpression=u.escapeExpression,t.VM=c,t.template=function(e){return c.template(e,t)},t}var h=f();h.create=f,l.default(h),h.default=h,e.default=h,t.exports=e.default},dJlP:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.HandlebarsEnvironment=f;var i=n("82EY"),o=r(n("AIJh")),a=n("hSGR"),s=n("/YDJ"),u=r(n("jYw0")),c=n("4wZq");e.VERSION="4.7.7",e.COMPILER_REVISION=8,e.LAST_COMPATIBLE_COMPILER_REVISION=7,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var l="[object Object]";function f(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},a.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}f.prototype={constructor:f,logger:u.default,log:u.default.log,registerHelper:function(t,e){if(i.toString.call(t)===l){if(e)throw new o.default("Arg not supported with multiple helpers");i.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(i.toString.call(t)===l)i.extend(this.partials,t);else{if(void 0===e)throw new o.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(i.toString.call(t)===l){if(e)throw new o.default("Arg not supported with multiple decorators");i.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};var h=u.default.log;e.log=h,e.createFrame=i.createFrame,e.logger=u.default},"/YDJ":function(t,e,n){"use strict";e.__esModule=!0,e.registerDefaultDecorators=function(t){i.default(t)};var r,i=(r=n("hGk8"))&&r.__esModule?r:{default:r}},hGk8:function(t,e,n){"use strict";e.__esModule=!0;var r=n("82EY");e.default=function(t){t.registerDecorator("inline",(function(t,e,n,i){var o=t;return e.partials||(e.partials={},o=function(i,o){var a=n.partials;n.partials=r.extend({},a,e.partials);var s=t(i,o);return n.partials=a,s}),e.partials[i.args[0]]=i.fn,o}))},t.exports=e.default},AIJh:function(t,e){"use strict";e.__esModule=!0;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function r(t,e){var i=e&&e.loc,o=void 0,a=void 0,s=void 0,u=void 0;i&&(o=i.start.line,a=i.end.line,s=i.start.column,u=i.end.column,t+=" - "+o+":"+s);for(var c=Error.prototype.constructor.call(this,t),l=0;l<n.length;l++)this[n[l]]=c[n[l]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{i&&(this.lineNumber=o,this.endLineNumber=a,Object.defineProperty?(Object.defineProperty(this,"column",{value:s,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:u,enumerable:!0})):(this.column=s,this.endColumn=u))}catch(t){}}r.prototype=new Error,e.default=r,t.exports=e.default},hSGR:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.registerDefaultHelpers=function(t){i.default(t),o.default(t),a.default(t),s.default(t),u.default(t),c.default(t),l.default(t)},e.moveHelperToHooks=function(t,e,n){t.helpers[e]&&(t.hooks[e]=t.helpers[e],n||delete t.helpers[e])};var i=r(n("ZyKY")),o=r(n("20JI")),a=r(n("diAC")),s=r(n("7UkH")),u=r(n("IVfQ")),c=r(n("iRzr")),l=r(n("k+yp"))},ZyKY:function(t,e,n){"use strict";e.__esModule=!0;var r=n("82EY");e.default=function(t){t.registerHelper("blockHelperMissing",(function(e,n){var i=n.inverse,o=n.fn;if(!0===e)return o(this);if(!1===e||null==e)return i(this);if(r.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):i(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(e,n)}))},t.exports=e.default},"20JI":function(t,e,n){"use strict";e.__esModule=!0;var r,i=n("82EY"),o=(r=n("AIJh"))&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("each",(function(t,e){if(!e)throw new o.default("Must pass iterator to #each");var r,a=e.fn,s=e.inverse,u=0,c="",l=void 0,f=void 0;function h(e,n,r){l&&(l.key=e,l.index=n,l.first=0===n,l.last=!!r,f&&(l.contextPath=f+e)),c+=a(t[e],{data:l,blockParams:i.blockParams([t[e],e],[f+e,null])})}if(e.data&&e.ids&&(f=i.appendContextPath(e.data.contextPath,e.ids[0])+"."),i.isFunction(t)&&(t=t.call(this)),e.data&&(l=i.createFrame(e.data)),t&&"object"==typeof t)if(i.isArray(t))for(var d=t.length;u<d;u++)u in t&&h(u,u,u===t.length-1);else if(n.g.Symbol&&t[n.g.Symbol.iterator]){for(var p=[],v=t[n.g.Symbol.iterator](),g=v.next();!g.done;g=v.next())p.push(g.value);for(d=(t=p).length;u<d;u++)h(u,u,u===t.length-1)}else r=void 0,Object.keys(t).forEach((function(t){void 0!==r&&h(r,u-1),r=t,u++})),void 0!==r&&h(r,u-1,!0);return 0===u&&(c=s(this)),c}))},t.exports=e.default},diAC:function(t,e,n){"use strict";e.__esModule=!0;var r,i=(r=n("AIJh"))&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new i.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=e.default},"7UkH":function(t,e,n){"use strict";e.__esModule=!0;var r,i=n("82EY"),o=(r=n("AIJh"))&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("if",(function(t,e){if(2!=arguments.length)throw new o.default("#if requires exactly one argument");return i.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)})),t.registerHelper("unless",(function(e,n){if(2!=arguments.length)throw new o.default("#unless requires exactly one argument");return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},t.exports=e.default},IVfQ:function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",(function(){for(var e=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)e.push(arguments[r]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),e[0]=i,t.log.apply(t,e)}))},t.exports=e.default},iRzr:function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",(function(t,e,n){return t?n.lookupProperty(t,e):t}))},t.exports=e.default},"k+yp":function(t,e,n){"use strict";e.__esModule=!0;var r,i=n("82EY"),o=(r=n("AIJh"))&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("with",(function(t,e){if(2!=arguments.length)throw new o.default("#with requires exactly one argument");i.isFunction(t)&&(t=t.call(this));var n=e.fn;if(i.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&((r=i.createFrame(e.data)).contextPath=i.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:r,blockParams:i.blockParams([t],[r&&r.contextPath])})}))},t.exports=e.default},ptwD:function(t,e,n){"use strict";e.__esModule=!0,e.createNewLookupObject=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.extend.apply(void 0,[Object.create(null)].concat(e))};var r=n("82EY")},"4wZq":function(t,e,n){"use strict";e.__esModule=!0,e.createProtoAccessControl=function(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:r.createNewLookupObject(n,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:r.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},e.resultIsAllowed=function(t,e,n){return function(t,e){return void 0!==t.whitelist[e]?!0===t.whitelist[e]:void 0!==t.defaultValue?t.defaultValue:(function(t){!0!==o[t]&&(o[t]=!0,i.log("error",'Handlebars: Access has been denied to resolve the property "'+t+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(e),!1)}("function"==typeof t?e.methods:e.properties,n)},e.resetLoggedProperties=function(){Object.keys(o).forEach((function(t){delete o[t]}))};var r=n("ptwD"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("jYw0")),o=Object.create(null)},lLDp:function(t,e){"use strict";e.__esModule=!0,e.wrapHelper=function(t,e){return"function"!=typeof t?t:function(){var n=arguments[arguments.length-1];return arguments[arguments.length-1]=e(n),t.apply(this,arguments)}}},jYw0:function(t,e,n){"use strict";e.__esModule=!0;var r=n("82EY"),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=r.indexOf(i.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=i.lookupLevel(t),"undefined"!=typeof console&&i.lookupLevel(i.level)<=t){var e=i.methodMap[t];console[e]||(e="log");for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];console[e].apply(console,r)}}};e.default=i,t.exports=e.default},"6+Qq":function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=void 0!==n.g?n.g:window,r=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=r),t}},t.exports=e.default},co8E:function(t,e,n){"use strict";e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=a.COMPILER_REVISION;if(!(e>=a.LAST_COMPATIBLE_COMPILER_REVISION&&e<=a.COMPILER_REVISION)){if(e<a.LAST_COMPATIBLE_COMPILER_REVISION){var r=a.REVISION_CHANGES[n],i=a.REVISION_CHANGES[e];throw new o.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new o.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(t,e){if(!e)throw new o.default("No environment passed to template");if(!t||!t.main)throw new o.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var n=t.compiler&&7===t.compiler[0],r={strict:function(t,e,n){if(!t||!(e in t))throw new o.default('"'+e+'" not defined in '+t,{loc:n});return r.lookupProperty(t,e)},lookupProperty:function(t,e){var n=t[e];return null==n||Object.prototype.hasOwnProperty.call(t,e)||c.resultIsAllowed(n,r.protoAccessControl,e)?n:void 0},lookup:function(t,e){for(var n=t.length,i=0;i<n;i++)if(null!=(t[i]&&r.lookupProperty(t[i],e)))return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:i.escapeExpression,invokePartial:function(n,r,a){a.hash&&(r=i.extend({},r,a.hash),a.ids&&(a.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,r,a);var s=i.extend({},a,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),u=e.VM.invokePartial.call(this,n,r,s);if(null==u&&e.compile&&(a.partials[a.name]=e.compile(n,t.compilerOptions,e),u=a.partials[a.name](r,s)),null!=u){if(a.indent){for(var c=u.split("\n"),l=0,f=c.length;l<f&&(c[l]||l+1!==f);l++)c[l]=a.indent+c[l];u=c.join("\n")}return u}throw new o.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,i){var o=this.programs[t],a=this.fn(t);return e||i||r||n?o=l(this,t,a,e,n,r,i):o||(o=this.programs[t]=l(this,t,a)),o},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=i.extend({},e,t)),n},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function a(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=n.data;a._setup(n),!n.partial&&t.useData&&(i=h(e,i));var o=void 0,s=t.useBlockParams?[]:void 0;function u(e){return""+t.main(r,e,r.helpers,r.partials,i,s,o)}return t.useDepths&&(o=n.depths?e!=n.depths[0]?[e].concat(n.depths):n.depths:[e]),(u=d(t.main,u,r,n.depths||[],i,s))(e,n)}return a.isTop=!0,a._setup=function(o){if(o.partial)r.protoAccessControl=o.protoAccessControl,r.helpers=o.helpers,r.partials=o.partials,r.decorators=o.decorators,r.hooks=o.hooks;else{var a=i.extend({},e.helpers,o.helpers);!function(t,e){Object.keys(t).forEach((function(n){var r=t[n];t[n]=function(t,e){var n=e.lookupProperty;return u.wrapHelper(t,(function(t){return i.extend({lookupProperty:n},t)}))}(r,e)}))}(a,r),r.helpers=a,t.usePartial&&(r.partials=r.mergeIfNeeded(o.partials,e.partials)),(t.usePartial||t.useDecorators)&&(r.decorators=i.extend({},e.decorators,o.decorators)),r.hooks={},r.protoAccessControl=c.createProtoAccessControl(o);var l=o.allowCallsToHelperMissing||n;s.moveHelperToHooks(r,"helperMissing",l),s.moveHelperToHooks(r,"blockHelperMissing",l)}},a._child=function(e,n,i,a){if(t.useBlockParams&&!i)throw new o.default("must pass block params");if(t.useDepths&&!a)throw new o.default("must pass parent depths");return l(r,e,t[e],n,0,i,a)},a},e.wrapProgram=l,e.resolvePartial=function(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],t},e.invokePartial=function(t,e,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var s=void 0;if(n.fn&&n.fn!==f&&function(){n.data=a.createFrame(n.data);var t=n.fn;s=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=a.createFrame(n.data),n.data["partial-block"]=r,t(e,n)},t.partials&&(n.partials=i.extend({},n.partials,t.partials))}(),void 0===t&&s&&(t=s),void 0===t)throw new o.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},e.noop=f;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("82EY")),o=(r=n("AIJh"))&&r.__esModule?r:{default:r},a=n("dJlP"),s=n("hSGR"),u=n("lLDp"),c=n("4wZq");function l(t,e,n,r,i,o,a){function s(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return!a||e==a[0]||e===t.nullContext&&null===a[0]||(s=[e].concat(a)),n(t,e,t.helpers,t.partials,i.data||r,o&&[i.blockParams].concat(o),s)}return(s=d(n,s,t,a,r,o)).program=e,s.depth=a?a.length:0,s.blockParams=i||0,s}function f(){return""}function h(t,e){return e&&"root"in e||((e=e?a.createFrame(e):{}).root=t),e}function d(t,e,n,r,o,a){if(t.decorator){var s={};e=t.decorator(e,s,n,r&&r[0],o,a,r),i.extend(e,s)}return e}},l3gt:function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e.default=n,t.exports=e.default},"82EY":function(t,e){"use strict";e.__esModule=!0,e.extend=a,e.indexOf=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return i.test(t)?t.replace(r,o):t},e.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},e.createFrame=function(t){var e=a({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,i=/[&<>"'`=]/;function o(t){return n[t]}function a(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}var s=Object.prototype.toString;e.toString=s;var u=function(t){return"function"==typeof t};u(/x/)&&(e.isFunction=u=function(t){return"function"==typeof t&&"[object Function]"===s.call(t)}),e.isFunction=u;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===s.call(t)};e.isArray=c},mp5j:function(t,e,n){t.exports=n("Jikt").default},CWFz:function(t,e){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,a){n(i=t[e].apply(t,r)).then(o,a)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new l(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function a(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function s(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function f(t){this._store=t}function h(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function d(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new h(n)}function p(t){this._db=t}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new l(t,e._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[f,c].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new d(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new p(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},qIEf:function(t,e){var n;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(r,i){"use strict";var o=[],a=Object.getPrototypeOf,s=o.slice,u=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},c=o.push,l=o.indexOf,f={},h=f.toString,d=f.hasOwnProperty,p=d.toString,v=p.call(Object),g={},m=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},y=function(t){return null!=t&&t===t.window},b=r.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function _(t,e,n){var r,i,o=(n=n||b).createElement("script");if(o.text=t,e)for(r in w)(i=e[r]||e.getAttribute&&e.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function I(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[h.call(t)]||"object":typeof t}var E="3.6.0",T=function(t,e){return new T.fn.init(t,e)};function S(t){var e=!!t&&"length"in t&&t.length,n=I(t);return!m(t)&&!y(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}T.fn=T.prototype={jquery:E,constructor:T,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=T.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return T.each(this,t)},map:function(t){return this.pushStack(T.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(T.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},T.extend=T.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)r=t[e],"__proto__"!==e&&a!==r&&(c&&r&&(T.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[e],o=i&&!Array.isArray(n)?[]:i||T.isPlainObject(n)?n:{},i=!1,a[e]=T.extend(c,o,r)):void 0!==r&&(a[e]=r));return a},T.extend({expando:"jQuery"+(E+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==h.call(t)||(e=a(t))&&("function"!=typeof(n=d.call(e,"constructor")&&e.constructor)||p.call(n)!==v))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){_(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,r=0;if(S(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(S(Object(t))?T.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:l.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(S(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return u(a)},guid:1,support:g}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=o[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){f["[object "+e+"]"]=e.toLowerCase()}));var C=function(t){var e,n,r,i,o,a,s,u,c,l,f,h,d,p,v,g,m,y,b,w="sizzle"+1*new Date,_=t.document,I=0,E=0,T=ut(),S=ut(),C=ut(),k=ut(),x=function(t,e){return t===e&&(f=!0),0},A={}.hasOwnProperty,N=[],P=N.pop,O=N.push,D=N.push,R=N.slice,M=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",U="\\[[\\x20\\t\\r\\n\\f]*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+j+"*\\]",q=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",B=new RegExp(j+"+","g"),V=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),K=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),W=new RegExp(j+"|>"),G=new RegExp(q),z=new RegExp("^"+F+"$"),Y={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){h()},at=wt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{D.apply(N=R.call(_.childNodes),_.childNodes),N[_.childNodes.length].nodeType}catch(t){D={apply:N.length?function(t,e){O.apply(t,R.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function st(t,e,r,i){var o,s,c,l,f,p,m,y=e&&e.ownerDocument,_=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==_&&9!==_&&11!==_)return r;if(!i&&(h(e),e=e||d,v)){if(11!==_&&(f=Z.exec(t)))if(o=f[1]){if(9===_){if(!(c=e.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(y&&(c=y.getElementById(o))&&b(e,c)&&c.id===o)return r.push(c),r}else{if(f[2])return D.apply(r,e.getElementsByTagName(t)),r;if((o=f[3])&&n.getElementsByClassName&&e.getElementsByClassName)return D.apply(r,e.getElementsByClassName(o)),r}if(n.qsa&&!k[t+" "]&&(!g||!g.test(t))&&(1!==_||"object"!==e.nodeName.toLowerCase())){if(m=t,y=e,1===_&&(W.test(t)||K.test(t))){for((y=tt.test(t)&&mt(e.parentNode)||e)===e&&n.scope||((l=e.getAttribute("id"))?l=l.replace(rt,it):e.setAttribute("id",l=w)),s=(p=a(t)).length;s--;)p[s]=(l?"#"+l:":scope")+" "+bt(p[s]);m=p.join(",")}try{return D.apply(r,y.querySelectorAll(m)),r}catch(e){k(t,!0)}finally{l===w&&e.removeAttribute("id")}}}return u(t.replace(V,"$1"),e,r,i)}function ut(){var t=[];return function e(n,i){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function ct(t){return t[w]=!0,t}function lt(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ft(t,e){for(var n=t.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=e}function ht(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function dt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function vt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function gt(t){return ct((function(e){return e=+e,ct((function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=st.support={},o=st.isXML=function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!Q.test(e||n&&n.nodeName||"HTML")},h=st.setDocument=function(t){var e,i,a=t?t.ownerDocument||t:_;return a!=d&&9===a.nodeType&&a.documentElement?(p=(d=a).documentElement,v=!o(d),_!=d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ot,!1):i.attachEvent&&i.attachEvent("onunload",ot)),n.scope=lt((function(t){return p.appendChild(t).appendChild(d.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.attributes=lt((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=lt((function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=$.test(d.getElementsByClassName),n.getById=lt((function(t){return p.appendChild(t).id=w,!d.getElementsByName||!d.getElementsByName(w).length})),n.getById?(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&v){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&v){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&v)return e.getElementsByClassName(t)},m=[],g=[],(n.qsa=$.test(d.querySelectorAll))&&(lt((function(t){var e;p.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+L+")"),t.querySelectorAll("[id~="+w+"-]").length||g.push("~="),(e=d.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||g.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]"),t.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),lt((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=$.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&lt((function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),m.push("!=",q)})),g=g.length&&new RegExp(g.join("|")),m=m.length&&new RegExp(m.join("|")),e=$.test(p.compareDocumentPosition),b=e||$.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},x=e?function(t,e){if(t===e)return f=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t==d||t.ownerDocument==_&&b(_,t)?-1:e==d||e.ownerDocument==_&&b(_,e)?1:l?M(l,t)-M(l,e):0:4&r?-1:1)}:function(t,e){if(t===e)return f=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!i||!o)return t==d?-1:e==d?1:i?-1:o?1:l?M(l,t)-M(l,e):0;if(i===o)return ht(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ht(a[r],s[r]):a[r]==_?-1:s[r]==_?1:0},d):d},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(h(t),n.matchesSelector&&v&&!k[e+" "]&&(!m||!m.test(e))&&(!g||!g.test(e)))try{var r=y.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){k(e,!0)}return st(e,d,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!=d&&h(t),b(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=d&&h(t);var i=r.attrHandle[e.toLowerCase()],o=i&&A.call(r.attrHandle,e.toLowerCase())?i(t,e,!v):void 0;return void 0!==o?o:n.attributes||!v?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},st.escape=function(t){return(t+"").replace(rt,it)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,r=[],i=0,o=0;if(f=!n.detectDuplicates,l=!n.sortStable&&t.slice(0),t.sort(x),f){for(;e=t[o++];)e===t[o]&&(i=r.push(o));for(;i--;)t.splice(r[i],1)}return l=null,t},i=st.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=i(e);return n},(r=st.selectors={cacheLength:50,createPseudo:ct,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&G.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=T[t+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+t+"("+j+"|$)"))&&T(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var i=st.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(B," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,f,h,d,p,v=o!==a?"nextSibling":"previousSibling",g=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(g){if(o){for(;v;){for(h=e;h=h[v];)if(s?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;p=v="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(b=(d=(c=(l=(f=(h=g)[w]||(h[w]={}))[h.uniqueID]||(f[h.uniqueID]={}))[t]||[])[0]===I&&c[1])&&c[2],h=d&&g.childNodes[d];h=++d&&h&&h[v]||(b=d=0)||p.pop();)if(1===h.nodeType&&++b&&h===e){l[t]=[I,d,b];break}}else if(y&&(b=d=(c=(l=(f=(h=e)[w]||(h[w]={}))[h.uniqueID]||(f[h.uniqueID]={}))[t]||[])[0]===I&&c[1]),!1===b)for(;(h=++d&&h&&h[v]||(b=d=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++b||(y&&((l=(f=h[w]||(h[w]={}))[h.uniqueID]||(f[h.uniqueID]={}))[t]=[I,b]),h!==e)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return i[w]?i(e):i.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?ct((function(t,n){for(var r,o=i(t,e),a=o.length;a--;)t[r=M(t,o[a])]=!(n[r]=o[a])})):function(t){return i(t,0,n)}):i}},pseudos:{not:ct((function(t){var e=[],n=[],r=s(t.replace(V,"$1"));return r[w]?ct((function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))})):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}})),has:ct((function(t){return function(e){return st(t,e).length>0}})),contains:ct((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||i(e)).indexOf(t)>-1}})),lang:ct((function(t){return z.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=v?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:vt(!1),disabled:vt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return J.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,n){return[n<0?n+e:n]})),even:gt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:gt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:gt((function(t,e,n){for(var r=n<0?n+e:n>e?e:n;--r>=0;)t.push(r);return t})),gt:gt((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=dt(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=pt(e);function yt(){}function bt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function wt(t,e,n){var r=e.dir,i=e.next,o=i||r,a=n&&"parentNode"===o,s=E++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,i);return!1}:function(e,n,u){var c,l,f,h=[I,s];if(u){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(l=(f=e[w]||(e[w]={}))[e.uniqueID]||(f[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((c=l[o])&&c[0]===I&&c[1]===s)return h[2]=c[2];if(l[o]=h,h[2]=t(e,n,u))return!0}return!1}}function _t(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function It(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,c=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),c&&e.push(s)));return a}function Et(t,e,n,r,i,o){return r&&!r[w]&&(r=Et(r)),i&&!i[w]&&(i=Et(i,o)),ct((function(o,a,s,u){var c,l,f,h=[],d=[],p=a.length,v=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)st(t,e[r],n);return n}(e||"*",s.nodeType?[s]:s,[]),g=!t||!o&&e?v:It(v,h,t,s,u),m=n?i||(o?t:p||r)?[]:a:g;if(n&&n(g,m,s,u),r)for(c=It(m,d),r(c,[],s,u),l=c.length;l--;)(f=c[l])&&(m[d[l]]=!(g[d[l]]=f));if(o){if(i||t){if(i){for(c=[],l=m.length;l--;)(f=m[l])&&c.push(g[l]=f);i(null,m=[],c,u)}for(l=m.length;l--;)(f=m[l])&&(c=i?M(o,f):h[l])>-1&&(o[c]=!(a[c]=f))}}else m=It(m===a?m.splice(p,m.length):m),i?i(null,a,m,u):D.apply(a,m)}))}function Tt(t){for(var e,n,i,o=t.length,a=r.relative[t[0].type],s=a||r.relative[" "],u=a?1:0,l=wt((function(t){return t===e}),s,!0),f=wt((function(t){return M(e,t)>-1}),s,!0),h=[function(t,n,r){var i=!a&&(r||n!==c)||((e=n).nodeType?l(t,n,r):f(t,n,r));return e=null,i}];u<o;u++)if(n=r.relative[t[u].type])h=[wt(_t(h),n)];else{if((n=r.filter[t[u].type].apply(null,t[u].matches))[w]){for(i=++u;i<o&&!r.relative[t[i].type];i++);return Et(u>1&&_t(h),u>1&&bt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(V,"$1"),n,u<i&&Tt(t.slice(u,i)),i<o&&Tt(t=t.slice(i)),i<o&&bt(t))}h.push(n)}return _t(h)}return yt.prototype=r.filters=r.pseudos,r.setFilters=new yt,a=st.tokenize=function(t,e){var n,i,o,a,s,u,c,l=S[t+" "];if(l)return e?0:l.slice(0);for(s=t,u=[],c=r.preFilter;s;){for(a in n&&!(i=H.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=K.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(V," ")}),s=s.slice(n.length)),r.filter)!(i=Y[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?st.error(t):S(t,u).slice(0)},s=st.compile=function(t,e){var n,i=[],o=[],s=C[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=Tt(e[n]))[w]?i.push(s):o.push(s);(s=C(t,function(t,e){var n=e.length>0,i=t.length>0,o=function(o,a,s,u,l){var f,p,g,m=0,y="0",b=o&&[],w=[],_=c,E=o||i&&r.find.TAG("*",l),T=I+=null==_?1:Math.random()||.1,S=E.length;for(l&&(c=a==d||a||l);y!==S&&null!=(f=E[y]);y++){if(i&&f){for(p=0,a||f.ownerDocument==d||(h(f),s=!v);g=t[p++];)if(g(f,a||d,s)){u.push(f);break}l&&(I=T)}n&&((f=!g&&f)&&m--,o&&b.push(f))}if(m+=y,n&&y!==m){for(p=0;g=e[p++];)g(b,w,a,s);if(o){if(m>0)for(;y--;)b[y]||w[y]||(w[y]=P.call(u));w=It(w)}D.apply(u,w),l&&!o&&w.length>0&&m+e.length>1&&st.uniqueSort(u)}return l&&(I=T,c=_),b};return n?ct(o):o}(o,i))).selector=t}return s},u=st.select=function(t,e,n,i){var o,u,c,l,f,h="function"==typeof t&&t,d=!i&&a(t=h.selector||t);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&9===e.nodeType&&v&&r.relative[u[1].type]){if(!(e=(r.find.ID(c.matches[0].replace(et,nt),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=Y.needsContext.test(t)?0:u.length;o--&&(c=u[o],!r.relative[l=c.type]);)if((f=r.find[l])&&(i=f(c.matches[0].replace(et,nt),tt.test(u[0].type)&&mt(e.parentNode)||e))){if(u.splice(o,1),!(t=i.length&&bt(u)))return D.apply(n,i),n;break}}return(h||s(t,d))(i,e,!v,n,!e||tt.test(t)&&mt(e.parentNode)||e),n},n.sortStable=w.split("").sort(x).join("")===w,n.detectDuplicates=!!f,h(),n.sortDetached=lt((function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))})),lt((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ft("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&lt((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ft("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),lt((function(t){return null==t.getAttribute("disabled")}))||ft(L,(function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null})),st}(r);T.find=C,T.expr=C.selectors,T.expr[":"]=T.expr.pseudos,T.uniqueSort=T.unique=C.uniqueSort,T.text=C.getText,T.isXMLDoc=C.isXML,T.contains=C.contains,T.escapeSelector=C.escape;var k=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&T(t).is(n))break;r.push(t)}return r},x=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},A=T.expr.match.needsContext;function N(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(t,e,n){return m(e)?T.grep(t,(function(t,r){return!!e.call(t,r,t)!==n})):e.nodeType?T.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?T.grep(t,(function(t){return l.call(e,t)>-1!==n})):T.filter(e,t,n)}T.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?T.find.matchesSelector(r,t)?[r]:[]:T.find.matches(t,T.grep(e,(function(t){return 1===t.nodeType})))},T.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(T(t).filter((function(){for(e=0;e<r;e++)if(T.contains(i[e],this))return!0})));for(n=this.pushStack([]),e=0;e<r;e++)T.find(t,i[e],n);return r>1?T.uniqueSort(n):n},filter:function(t){return this.pushStack(O(this,t||[],!1))},not:function(t){return this.pushStack(O(this,t||[],!0))},is:function(t){return!!O(this,"string"==typeof t&&A.test(t)?T(t):t||[],!1).length}});var D,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||D,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:R.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof T?e[0]:e,T.merge(this,T.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:b,!0)),P.test(r[1])&&T.isPlainObject(e))for(r in e)m(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=b.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==n.ready?n.ready(t):t(T):T.makeArray(t,this)}).prototype=T.fn,D=T(b);var M=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function j(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}T.fn.extend({has:function(t){var e=T(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(T.contains(this,e[t]))return!0}))},closest:function(t,e){var n,r=0,i=this.length,o=[],a="string"!=typeof t&&T(t);if(!A.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&T.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?T.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?l.call(T(t),this[0]):l.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),T.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return k(t,"parentNode")},parentsUntil:function(t,e,n){return k(t,"parentNode",n)},next:function(t){return j(t,"nextSibling")},prev:function(t){return j(t,"previousSibling")},nextAll:function(t){return k(t,"nextSibling")},prevAll:function(t){return k(t,"previousSibling")},nextUntil:function(t,e,n){return k(t,"nextSibling",n)},prevUntil:function(t,e,n){return k(t,"previousSibling",n)},siblings:function(t){return x((t.parentNode||{}).firstChild,t)},children:function(t){return x(t.firstChild)},contents:function(t){return null!=t.contentDocument&&a(t.contentDocument)?t.contentDocument:(N(t,"template")&&(t=t.content||t),T.merge([],t.childNodes))}},(function(t,e){T.fn[t]=function(n,r){var i=T.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=T.filter(r,i)),this.length>1&&(L[t]||T.uniqueSort(i),M.test(t)&&i.reverse()),this.pushStack(i)}}));var F=/[^\x20\t\r\n\f]+/g;function U(t){return t}function q(t){throw t}function B(t,e,n,r){var i;try{t&&m(i=t.promise)?i.call(t).done(e).fail(n):t&&m(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}T.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return T.each(t.match(F)||[],(function(t,n){e[n]=!0})),e}(t):T.extend({},t);var e,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||t.once,r=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){T.each(n,(function(n,r){m(r)?t.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==I(r)&&e(r)}))}(arguments),n&&!e&&u()),this},remove:function(){return T.each(arguments,(function(t,e){for(var n;(n=T.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(t){return t?T.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},T.extend({Deferred:function(t){var e=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return T.Deferred((function(n){T.each(e,(function(e,r){var i=m(t[r[4]])&&t[r[4]];o[r[1]]((function(){var t=i&&i.apply(this,arguments);t&&m(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,i){var o=0;function a(t,e,n,i){return function(){var s=this,u=arguments,c=function(){var r,c;if(!(t<o)){if((r=n.apply(s,u))===e.promise())throw new TypeError("Thenable self-resolution");c=r&&("object"==typeof r||"function"==typeof r)&&r.then,m(c)?i?c.call(r,a(o,e,U,i),a(o,e,q,i)):(o++,c.call(r,a(o,e,U,i),a(o,e,q,i),a(o,e,U,e.notifyWith))):(n!==U&&(s=void 0,u=[r]),(i||e.resolveWith)(s,u))}},l=i?c:function(){try{c()}catch(r){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(r,l.stackTrace),t+1>=o&&(n!==q&&(s=void 0,u=[r]),e.rejectWith(s,u))}};t?l():(T.Deferred.getStackHook&&(l.stackTrace=T.Deferred.getStackHook()),r.setTimeout(l))}}return T.Deferred((function(r){e[0][3].add(a(0,r,m(i)?i:U,r.notifyWith)),e[1][3].add(a(0,r,m(t)?t:U)),e[2][3].add(a(0,r,m(n)?n:q))})).promise()},promise:function(t){return null!=t?T.extend(t,i):i}},o={};return T.each(e,(function(t,r){var a=r[2],s=r[5];i[r[1]]=a.add,s&&a.add((function(){n=s}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=a.fireWith})),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=s.call(arguments),o=T.Deferred(),a=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?s.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(B(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||m(i[n]&&i[n].then)))return o.then();for(;n--;)B(i[n],a(n),o.reject);return o.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(t,e){r.console&&r.console.warn&&t&&V.test(t.name)&&r.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},T.readyException=function(t){r.setTimeout((function(){throw t}))};var H=T.Deferred();function K(){b.removeEventListener("DOMContentLoaded",K),r.removeEventListener("load",K),T.ready()}T.fn.ready=function(t){return H.then(t).catch((function(t){T.readyException(t)})),this},T.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==t&&--T.readyWait>0||H.resolveWith(b,[T]))}}),T.ready.then=H.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?r.setTimeout(T.ready):(b.addEventListener("DOMContentLoaded",K),r.addEventListener("load",K));var W=function(t,e,n,r,i,o,a){var s=0,u=t.length,c=null==n;if("object"===I(n))for(s in i=!0,n)W(t,e,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),c&&(a?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(T(t),n)})),e))for(;s<u;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:c?e.call(t):u?e(t[0],n):o},G=/^-ms-/,z=/-([a-z])/g;function Y(t,e){return e.toUpperCase()}function Q(t){return t.replace(G,"ms-").replace(z,Y)}var X=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function J(){this.expando=T.expando+J.uid++}J.uid=1,J.prototype={cache:function(t){var e=t[this.expando];return e||(e={},X(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[Q(e)]=n;else for(r in e)i[Q(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Q(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Q):(e=Q(e))in r?[e]:e.match(F)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||T.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!T.isEmptyObject(e)}};var $=new J,Z=new J,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Z.set(t,e,n)}else n=void 0;return n}T.extend({hasData:function(t){return Z.hasData(t)||$.hasData(t)},data:function(t,e,n){return Z.access(t,e,n)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,n){return $.access(t,e,n)},_removeData:function(t,e){$.remove(t,e)}}),T.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=Z.get(o),1===o.nodeType&&!$.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=Q(r.slice(5)),nt(o,r,i[r]));$.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each((function(){Z.set(this,t)})):W(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=Z.get(o,t))||void 0!==(n=nt(o,t))?n:void 0;this.each((function(){Z.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Z.remove(this,t)}))}}),T.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=$.get(t,e),n&&(!r||Array.isArray(n)?r=$.access(t,e,T.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=T.queue(t,e),r=n.length,i=n.shift(),o=T._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,(function(){T.dequeue(t,e)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return $.get(t,n)||$.access(t,n,{empty:T.Callbacks("once memory").add((function(){$.remove(t,[e+"queue",n])}))})}}),T.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?T.queue(this[0],t):void 0===e?this:this.each((function(){var n=T.queue(this,t,e);T._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&T.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){T.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=T.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=$.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],at=b.documentElement,st=function(t){return T.contains(t.ownerDocument,t)},ut={composed:!0};at.getRootNode&&(st=function(t){return T.contains(t.ownerDocument,t)||t.getRootNode(ut)===t.ownerDocument});var ct=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&st(t)&&"none"===T.css(t,"display")};function lt(t,e,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return T.css(t,e,"")},u=s(),c=n&&n[3]||(T.cssNumber[e]?"":"px"),l=t.nodeType&&(T.cssNumber[e]||"px"!==c&&+u)&&it.exec(T.css(t,e));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;a--;)T.style(t,e,l+c),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),l/=o;l*=2,T.style(t,e,l+c),n=n||[]}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var ft={};function ht(t){var e,n=t.ownerDocument,r=t.nodeName,i=ft[r];return i||(e=n.body.appendChild(n.createElement(r)),i=T.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),ft[r]=i,i)}function dt(t,e){for(var n,r,i=[],o=0,a=t.length;o<a;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=$.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ct(r)&&(i[o]=ht(r))):"none"!==n&&(i[o]="none",$.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}T.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ct(this)?T(this).show():T(this).hide()}))}});var pt,vt,gt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,yt=/^$|^module$|\/(?:java|ecma)script/i;pt=b.createDocumentFragment().appendChild(b.createElement("div")),(vt=b.createElement("input")).setAttribute("type","radio"),vt.setAttribute("checked","checked"),vt.setAttribute("name","t"),pt.appendChild(vt),g.checkClone=pt.cloneNode(!0).cloneNode(!0).lastChild.checked,pt.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!pt.cloneNode(!0).lastChild.defaultValue,pt.innerHTML="<option></option>",g.option=!!pt.lastChild;var bt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function wt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&N(t,e)?T.merge([t],n):n}function _t(t,e){for(var n=0,r=t.length;n<r;n++)$.set(t[n],"globalEval",!e||$.get(e[n],"globalEval"))}bt.tbody=bt.tfoot=bt.colgroup=bt.caption=bt.thead,bt.th=bt.td,g.option||(bt.optgroup=bt.option=[1,"<select multiple='multiple'>","</select>"]);var It=/<|&#?\w+;/;function Et(t,e,n,r,i){for(var o,a,s,u,c,l,f=e.createDocumentFragment(),h=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===I(o))T.merge(h,o.nodeType?[o]:o);else if(It.test(o)){for(a=a||f.appendChild(e.createElement("div")),s=(mt.exec(o)||["",""])[1].toLowerCase(),u=bt[s]||bt._default,a.innerHTML=u[1]+T.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;T.merge(h,a.childNodes),(a=f.firstChild).textContent=""}else h.push(e.createTextNode(o));for(f.textContent="",d=0;o=h[d++];)if(r&&T.inArray(o,r)>-1)i&&i.push(o);else if(c=st(o),a=wt(f.appendChild(o),"script"),c&&_t(a),n)for(l=0;o=a[l++];)yt.test(o.type||"")&&n.push(o);return f}var Tt=/^([^.]*)(?:\.(.+)|)/;function St(){return!0}function Ct(){return!1}function kt(t,e){return t===function(){try{return b.activeElement}catch(t){}}()==("focus"===e)}function xt(t,e,n,r,i,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(r=r||n,n=void 0),e)xt(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ct;else if(!i)return t;return 1===o&&(a=i,(i=function(t){return T().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=T.guid++)),t.each((function(){T.event.add(this,e,i,r,n)}))}function At(t,e,n){n?($.set(t,e,!1),T.event.add(t,e,{namespace:!1,handler:function(t){var r,i,o=$.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(T.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=s.call(arguments),$.set(this,e,o),r=n(this,e),this[e](),o!==(i=$.get(this,e))||r?$.set(this,e,!1):i={},o!==i)return t.stopImmediatePropagation(),t.preventDefault(),i&&i.value}else o.length&&($.set(this,e,{value:T.event.trigger(T.extend(o[0],T.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===$.get(t,e)&&T.event.add(t,e,St)}T.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,c,l,f,h,d,p,v,g=$.get(t);if(X(t))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&T.find.matchesSelector(at,i),n.guid||(n.guid=T.guid++),(u=g.events)||(u=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(e){return void 0!==T&&T.event.triggered!==e.type?T.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(F)||[""]).length;c--;)d=v=(s=Tt.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),d&&(f=T.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=T.event.special[d]||{},l=T.extend({type:d,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&T.expr.match.needsContext.test(i),namespace:p.join(".")},o),(h=u[d])||((h=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,p,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),T.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,c,l,f,h,d,p,v,g=$.hasData(t)&&$.get(t);if(g&&(u=g.events)){for(c=(e=(e||"").match(F)||[""]).length;c--;)if(d=v=(s=Tt.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),d){for(f=T.event.special[d]||{},h=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)l=h[o],!i&&v!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,f.remove&&f.remove.call(t,l));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(t,p,g.handle)||T.removeEvent(t,d,g.handle),delete u[d])}else for(d in u)T.event.remove(t,d+e[c],n,r,!0);T.isEmptyObject(u)&&$.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,s=new Array(arguments.length),u=T.event.fix(t),c=($.get(this,"events")||Object.create(null))[u.type]||[],l=T.event.special[u.type]||{};for(s[0]=u,e=1;e<arguments.length;e++)s[e]=arguments[e];if(u.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,u)){for(a=T.event.handlers.call(this,u,c),e=0;(i=a[e++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((T.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,u),u.result}},handlers:function(t,e){var n,r,i,o,a,s=[],u=e.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=e[n]).selector+" "]&&(a[i]=r.needsContext?T(i,this).index(c)>-1:T.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,u<e.length&&s.push({elem:c,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(T.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[T.expando]?t:new T.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return gt.test(e.type)&&e.click&&N(e,"input")&&At(e,"click",St),!1},trigger:function(t){var e=this||t;return gt.test(e.type)&&e.click&&N(e,"input")&&At(e,"click"),!0},_default:function(t){var e=t.target;return gt.test(e.type)&&e.click&&N(e,"input")&&$.get(e,"click")||N(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},T.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},T.Event=function(t,e){if(!(this instanceof T.Event))return new T.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?St:Ct,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&T.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:Ct,isPropagationStopped:Ct,isImmediatePropagationStopped:Ct,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=St,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=St,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=St,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},(function(t,e){T.event.special[t]={setup:function(){return At(this,t,kt),!1},trigger:function(){return At(this,t),!0},_default:function(){return!0},delegateType:e}})),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){T.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||T.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),T.fn.extend({on:function(t,e,n,r){return xt(this,t,e,n,r)},one:function(t,e,n,r){return xt(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,T(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Ct),this.each((function(){T.event.remove(this,t,n,e)}))}});var Nt=/<script|<style|<link/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Dt(t,e){return N(t,"table")&&N(11!==e.nodeType?e:e.firstChild,"tr")&&T(t).children("tbody")[0]||t}function Rt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Mt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Lt(t,e){var n,r,i,o,a,s;if(1===e.nodeType){if($.hasData(t)&&(s=$.get(t).events))for(i in $.remove(e,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)T.event.add(e,i,s[i][n]);Z.hasData(t)&&(o=Z.access(t),a=T.extend({},o),Z.set(e,a))}}function jt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&gt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Ft(t,e,n,r){e=u(e);var i,o,a,s,c,l,f=0,h=t.length,d=h-1,p=e[0],v=m(p);if(v||h>1&&"string"==typeof p&&!g.checkClone&&Pt.test(p))return t.each((function(i){var o=t.eq(i);v&&(e[0]=p.call(this,i,o.html())),Ft(o,e,n,r)}));if(h&&(o=(i=Et(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=T.map(wt(i,"script"),Rt)).length;f<h;f++)c=i,f!==d&&(c=T.clone(c,!0,!0),s&&T.merge(a,wt(c,"script"))),n.call(t[f],c,f);if(s)for(l=a[a.length-1].ownerDocument,T.map(a,Mt),f=0;f<s;f++)c=a[f],yt.test(c.type||"")&&!$.access(c,"globalEval")&&T.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?T._evalUrl&&!c.noModule&&T._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},l):_(c.textContent.replace(Ot,""),c,l))}return t}function Ut(t,e,n){for(var r,i=e?T.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||T.cleanData(wt(r)),r.parentNode&&(n&&st(r)&&_t(wt(r,"script")),r.parentNode.removeChild(r));return t}T.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),u=st(t);if(!(g.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||T.isXMLDoc(t)))for(a=wt(s),r=0,i=(o=wt(t)).length;r<i;r++)jt(o[r],a[r]);if(e)if(n)for(o=o||wt(t),a=a||wt(s),r=0,i=o.length;r<i;r++)Lt(o[r],a[r]);else Lt(t,s);return(a=wt(s,"script")).length>0&&_t(a,!u&&wt(t,"script")),s},cleanData:function(t){for(var e,n,r,i=T.event.special,o=0;void 0!==(n=t[o]);o++)if(X(n)){if(e=n[$.expando]){if(e.events)for(r in e.events)i[r]?T.event.remove(n,r):T.removeEvent(n,r,e.handle);n[$.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),T.fn.extend({detach:function(t){return Ut(this,t,!0)},remove:function(t){return Ut(this,t)},text:function(t){return W(this,(function(t){return void 0===t?T.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Ft(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Dt(this,t).appendChild(t)}))},prepend:function(){return Ft(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Dt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Ft(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Ft(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(T.cleanData(wt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return T.clone(this,t,e)}))},html:function(t){return W(this,(function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Nt.test(t)&&!bt[(mt.exec(t)||["",""])[1].toLowerCase()]){t=T.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(T.cleanData(wt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Ft(this,arguments,(function(e){var n=this.parentNode;T.inArray(this,t)<0&&(T.cleanData(wt(this)),n&&n.replaceChild(e,this))}),t)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){T.fn[t]=function(t){for(var n,r=[],i=T(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),T(i[a])[e](n),c.apply(r,n.get());return this.pushStack(r)}}));var qt=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),Bt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=r),e.getComputedStyle(t)},Vt=function(t,e,n){var r,i,o={};for(i in e)o[i]=t.style[i],t.style[i]=e[i];for(i in r=n.call(t),e)t.style[i]=o[i];return r},Ht=new RegExp(ot.join("|"),"i");function Kt(t,e,n){var r,i,o,a,s=t.style;return(n=n||Bt(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||st(t)||(a=T.style(t,e)),!g.pixelBoxStyles()&&qt.test(a)&&Ht.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Wt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(c).appendChild(l);var t=r.getComputedStyle(l);n="1%"!==t.top,u=12===e(t.marginLeft),l.style.right="60%",a=36===e(t.right),i=36===e(t.width),l.style.position="absolute",o=12===e(l.offsetWidth/3),at.removeChild(c),l=null}}function e(t){return Math.round(parseFloat(t))}var n,i,o,a,s,u,c=b.createElement("div"),l=b.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===l.style.backgroundClip,T.extend(g,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,n,i;return null==s&&(t=b.createElement("table"),e=b.createElement("tr"),n=b.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",n.style.height="9px",n.style.display="block",at.appendChild(t).appendChild(e).appendChild(n),i=r.getComputedStyle(e),s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===e.offsetHeight,at.removeChild(t)),s}}))}();var Gt=["Webkit","Moz","ms"],zt=b.createElement("div").style,Yt={};function Qt(t){return T.cssProps[t]||Yt[t]||(t in zt?t:Yt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Gt.length;n--;)if((t=Gt[n]+e)in zt)return t}(t)||t)}var Xt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,$t={position:"absolute",visibility:"hidden",display:"block"},Zt={letterSpacing:"0",fontWeight:"400"};function te(t,e,n){var r=it.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function ee(t,e,n,r,i,o){var a="width"===e?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=T.css(t,n+ot[a],!0,i)),r?("content"===n&&(u-=T.css(t,"padding"+ot[a],!0,i)),"margin"!==n&&(u-=T.css(t,"border"+ot[a]+"Width",!0,i))):(u+=T.css(t,"padding"+ot[a],!0,i),"padding"!==n?u+=T.css(t,"border"+ot[a]+"Width",!0,i):s+=T.css(t,"border"+ot[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-s-.5))||0),u}function ne(t,e,n){var r=Bt(t),i=(!g.boxSizingReliable()||n)&&"border-box"===T.css(t,"boxSizing",!1,r),o=i,a=Kt(t,e,r),s="offset"+e[0].toUpperCase()+e.slice(1);if(qt.test(a)){if(!n)return a;a="auto"}return(!g.boxSizingReliable()&&i||!g.reliableTrDimensions()&&N(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===T.css(t,"display",!1,r))&&t.getClientRects().length&&(i="border-box"===T.css(t,"boxSizing",!1,r),(o=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+ee(t,e,n||(i?"border":"content"),o,r,a)+"px"}function re(t,e,n,r,i){return new re.prototype.init(t,e,n,r,i)}T.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Kt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=Q(e),u=Jt.test(e),c=t.style;if(u||(e=Qt(s)),a=T.cssHooks[e]||T.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:c[e];"string"==(o=typeof n)&&(i=it.exec(n))&&i[1]&&(n=lt(t,e,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(T.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,r){var i,o,a,s=Q(e);return Jt.test(e)||(e=Qt(s)),(a=T.cssHooks[e]||T.cssHooks[s])&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=Kt(t,e,r)),"normal"===i&&e in Zt&&(i=Zt[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),T.each(["height","width"],(function(t,e){T.cssHooks[e]={get:function(t,n,r){if(n)return!Xt.test(T.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ne(t,e,r):Vt(t,$t,(function(){return ne(t,e,r)}))},set:function(t,n,r){var i,o=Bt(t),a=!g.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===T.css(t,"boxSizing",!1,o),u=r?ee(t,e,r,s,o):0;return s&&a&&(u-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ee(t,e,"border",!1,o)-.5)),u&&(i=it.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=T.css(t,e)),te(0,n,u)}}})),T.cssHooks.marginLeft=Wt(g.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Kt(t,"marginLeft"))||t.getBoundingClientRect().left-Vt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),T.each({margin:"",padding:"",border:"Width"},(function(t,e){T.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+ot[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(T.cssHooks[t+e].set=te)})),T.fn.extend({css:function(t,e){return W(this,(function(t,e,n){var r,i,o={},a=0;if(Array.isArray(e)){for(r=Bt(t),i=e.length;a<i;a++)o[e[a]]=T.css(t,e[a],!1,r);return o}return void 0!==n?T.style(t,e,n):T.css(t,e)}),t,e,arguments.length>1)}}),T.Tween=re,re.prototype={constructor:re,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||T.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(T.cssNumber[n]?"":"px")},cur:function(){var t=re.propHooks[this.prop];return t&&t.get?t.get(this):re.propHooks._default.get(this)},run:function(t){var e,n=re.propHooks[this.prop];return this.options.duration?this.pos=e=T.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):re.propHooks._default.set(this),this}},re.prototype.init.prototype=re.prototype,re.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=T.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){T.fx.step[t.prop]?T.fx.step[t.prop](t):1!==t.elem.nodeType||!T.cssHooks[t.prop]&&null==t.elem.style[Qt(t.prop)]?t.elem[t.prop]=t.now:T.style(t.elem,t.prop,t.now+t.unit)}}},re.propHooks.scrollTop=re.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},T.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},T.fx=re.prototype.init,T.fx.step={};var ie,oe,ae=/^(?:toggle|show|hide)$/,se=/queueHooks$/;function ue(){oe&&(!1===b.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(ue):r.setTimeout(ue,T.fx.interval),T.fx.tick())}function ce(){return r.setTimeout((function(){ie=void 0})),ie=Date.now()}function le(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=ot[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function fe(t,e,n){for(var r,i=(he.tweeners[e]||[]).concat(he.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function he(t,e,n){var r,i,o=0,a=he.prefilters.length,s=T.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var e=ie||ce(),n=Math.max(0,c.startTime+c.duration-e),r=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(r);return s.notifyWith(t,[c,r,n]),r<1&&a?n:(a||s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:T.extend({},e),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},n),originalProperties:e,originalOptions:n,startTime:ie||ce(),duration:n.duration,tweens:[],createTween:function(e,n){var r=T.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),l=c.props;for(function(t,e){var n,r,i,o,a;for(n in t)if(i=e[r=Q(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=T.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(l,c.opts.specialEasing);o<a;o++)if(r=he.prefilters[o].call(c,t,l,c.opts))return m(r.stop)&&(T._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return T.map(l,fe,c),m(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),T.fx.timer(T.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c}T.Animation=T.extend(he,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return lt(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){m(t)?(e=t,t=["*"]):t=t.match(F);for(var n,r=0,i=t.length;r<i;r++)n=t[r],he.tweeners[n]=he.tweeners[n]||[],he.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,a,s,u,c,l,f="width"in e||"height"in e,h=this,d={},p=t.style,v=t.nodeType&&ct(t),g=$.get(t,"fxshow");for(r in n.queue||(null==(a=T._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always((function(){h.always((function(){a.unqueued--,T.queue(t,"fx").length||a.empty.fire()}))}))),e)if(i=e[r],ae.test(i)){if(delete e[r],o=o||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;v=!0}d[r]=g&&g[r]||T.style(t,r)}if((u=!T.isEmptyObject(e))||!T.isEmptyObject(d))for(r in f&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=$.get(t,"display")),"none"===(l=T.css(t,"display"))&&(c?l=c:(dt([t],!0),c=t.style.display||c,l=T.css(t,"display"),dt([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===T.css(t,"float")&&(u||(h.done((function(){p.display=c})),null==c&&(l=p.display,c="none"===l?"":l)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),u=!1,d)u||(g?"hidden"in g&&(v=g.hidden):g=$.access(t,"fxshow",{display:c}),o&&(g.hidden=!v),v&&dt([t],!0),h.done((function(){for(r in v||dt([t]),$.remove(t,"fxshow"),d)T.style(t,r,d[r])}))),u=fe(v?g[r]:0,r,h),r in g||(g[r]=u.start,v&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),T.speed=function(t,e,n){var r=t&&"object"==typeof t?T.extend({},t):{complete:n||!n&&e||m(t)&&t,duration:t,easing:n&&e||e&&!m(e)&&e};return T.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in T.fx.speeds?r.duration=T.fx.speeds[r.duration]:r.duration=T.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&T.dequeue(this,r.queue)},r},T.fn.extend({fadeTo:function(t,e,n,r){return this.filter(ct).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=T.isEmptyObject(t),o=T.speed(e,n,r),a=function(){var e=he(this,T.extend({},t),o);(i||$.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,i=null!=t&&t+"queueHooks",o=T.timers,a=$.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&se.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||T.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=$.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=T.timers,a=r?r.length:0;for(n.finish=!0,T.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish}))}}),T.each(["toggle","show","hide"],(function(t,e){var n=T.fn[e];T.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(le(e,!0),t,r,i)}})),T.each({slideDown:le("show"),slideUp:le("hide"),slideToggle:le("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){T.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}})),T.timers=[],T.fx.tick=function(){var t,e=0,n=T.timers;for(ie=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||T.fx.stop(),ie=void 0},T.fx.timer=function(t){T.timers.push(t),T.fx.start()},T.fx.interval=13,T.fx.start=function(){oe||(oe=!0,ue())},T.fx.stop=function(){oe=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(t,e){return t=T.fx&&T.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var i=r.setTimeout(e,t);n.stop=function(){r.clearTimeout(i)}}))},function(){var t=b.createElement("input"),e=b.createElement("select").appendChild(b.createElement("option"));t.type="checkbox",g.checkOn=""!==t.value,g.optSelected=e.selected,(t=b.createElement("input")).value="t",t.type="radio",g.radioValue="t"===t.value}();var de,pe=T.expr.attrHandle;T.fn.extend({attr:function(t,e){return W(this,T.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){T.removeAttr(this,t)}))}}),T.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?T.prop(t,e,n):(1===o&&T.isXMLDoc(t)||(i=T.attrHooks[e.toLowerCase()]||(T.expr.match.bool.test(e)?de:void 0)),void 0!==n?null===n?void T.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=T.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!g.radioValue&&"radio"===e&&N(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(F);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),de={set:function(t,e,n){return!1===e?T.removeAttr(t,n):t.setAttribute(n,n),n}},T.each(T.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=pe[e]||T.find.attr;pe[e]=function(t,e,r){var i,o,a=e.toLowerCase();return r||(o=pe[a],pe[a]=i,i=null!=n(t,e,r)?a:null,pe[a]=o),i}}));var ve=/^(?:input|select|textarea|button)$/i,ge=/^(?:a|area)$/i;function me(t){return(t.match(F)||[]).join(" ")}function ye(t){return t.getAttribute&&t.getAttribute("class")||""}function be(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(F)||[]}T.fn.extend({prop:function(t,e){return W(this,T.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[T.propFix[t]||t]}))}}),T.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&T.isXMLDoc(t)||(e=T.propFix[e]||e,i=T.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=T.find.attr(t,"tabindex");return e?parseInt(e,10):ve.test(t.nodeName)||ge.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(T.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){T.propFix[this.toLowerCase()]=this})),T.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each((function(e){T(this).addClass(t.call(this,e,ye(this)))}));if((e=be(t)).length)for(;n=this[u++];)if(i=ye(n),r=1===n.nodeType&&" "+me(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=me(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each((function(e){T(this).removeClass(t.call(this,e,ye(this)))}));if(!arguments.length)return this.attr("class","");if((e=be(t)).length)for(;n=this[u++];)if(i=ye(n),r=1===n.nodeType&&" "+me(i)+" "){for(a=0;o=e[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=me(r))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):m(t)?this.each((function(n){T(this).toggleClass(t.call(this,n,ye(this),e),e)})):this.each((function(){var e,i,o,a;if(r)for(i=0,o=T(this),a=be(t);e=a[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ye(this))&&$.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":$.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+me(ye(n))+" ").indexOf(e)>-1)return!0;return!1}});var we=/\r/g;T.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=m(t),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,T(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=T.map(i,(function(t){return null==t?"":t+""}))),(e=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))}))):i?(e=T.valHooks[i.type]||T.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(we,""):null==n?"":n:void 0}}),T.extend({valHooks:{option:{get:function(t){var e=T.find.attr(t,"value");return null!=e?e:me(T.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(e=T(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=T.makeArray(e),a=i.length;a--;)((r=i[a]).selected=T.inArray(T.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),T.each(["radio","checkbox"],(function(){T.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=T.inArray(T(t).val(),e)>-1}},g.checkOn||(T.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),g.focusin="onfocusin"in r;var _e=/^(?:focusinfocus|focusoutblur)$/,Ie=function(t){t.stopPropagation()};T.extend(T.event,{trigger:function(t,e,n,i){var o,a,s,u,c,l,f,h,p=[n||b],v=d.call(t,"type")?t.type:t,g=d.call(t,"namespace")?t.namespace.split("."):[];if(a=h=s=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!_e.test(v+T.event.triggered)&&(v.indexOf(".")>-1&&(g=v.split("."),v=g.shift(),g.sort()),c=v.indexOf(":")<0&&"on"+v,(t=t[T.expando]?t:new T.Event(v,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:T.makeArray(e,[t]),f=T.event.special[v]||{},i||!f.trigger||!1!==f.trigger.apply(n,e))){if(!i&&!f.noBubble&&!y(n)){for(u=f.delegateType||v,_e.test(u+v)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(n.ownerDocument||b)&&p.push(s.defaultView||s.parentWindow||r)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)h=a,t.type=o>1?u:f.bindType||v,(l=($.get(a,"events")||Object.create(null))[t.type]&&$.get(a,"handle"))&&l.apply(a,e),(l=c&&a[c])&&l.apply&&X(a)&&(t.result=l.apply(a,e),!1===t.result&&t.preventDefault());return t.type=v,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(p.pop(),e)||!X(n)||c&&m(n[v])&&!y(n)&&((s=n[c])&&(n[c]=null),T.event.triggered=v,t.isPropagationStopped()&&h.addEventListener(v,Ie),n[v](),t.isPropagationStopped()&&h.removeEventListener(v,Ie),T.event.triggered=void 0,s&&(n[c]=s)),t.result}},simulate:function(t,e,n){var r=T.extend(new T.Event,n,{type:t,isSimulated:!0});T.event.trigger(r,null,e)}}),T.fn.extend({trigger:function(t,e){return this.each((function(){T.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return T.event.trigger(t,e,n,!0)}}),g.focusin||T.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){T.event.simulate(e,t.target,T.event.fix(t))};T.event.special[e]={setup:function(){var r=this.ownerDocument||this.document||this,i=$.access(r,e);i||r.addEventListener(t,n,!0),$.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=$.access(r,e)-1;i?$.access(r,e,i):(r.removeEventListener(t,n,!0),$.remove(r,e))}}}));var Ee=r.location,Te={guid:Date.now()},Se=/\?/;T.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{e=(new r.DOMParser).parseFromString(t,"text/xml")}catch(t){}return n=e&&e.getElementsByTagName("parsererror")[0],e&&!n||T.error("Invalid XML: "+(n?T.map(n.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var Ce=/\[\]$/,ke=/\r?\n/g,xe=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;function Ne(t,e,n,r){var i;if(Array.isArray(e))T.each(e,(function(e,i){n||Ce.test(t)?r(t,i):Ne(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)}));else if(n||"object"!==I(e))r(t,e);else for(i in e)Ne(t+"["+i+"]",e[i],n,r)}T.param=function(t,e){var n,r=[],i=function(t,e){var n=m(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!T.isPlainObject(t))T.each(t,(function(){i(this.name,this.value)}));else for(n in t)Ne(n,t[n],e,i);return r.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=T.prop(this,"elements");return t?T.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!T(this).is(":disabled")&&Ae.test(this.nodeName)&&!xe.test(t)&&(this.checked||!gt.test(t))})).map((function(t,e){var n=T(this).val();return null==n?null:Array.isArray(n)?T.map(n,(function(t){return{name:e.name,value:t.replace(ke,"\r\n")}})):{name:e.name,value:n.replace(ke,"\r\n")}})).get()}});var Pe=/%20/g,Oe=/#.*$/,De=/([?&])_=[^&]*/,Re=/^(.*?):[ \t]*([^\r\n]*)$/gm,Me=/^(?:GET|HEAD)$/,Le=/^\/\//,je={},Fe={},Ue="*/".concat("*"),qe=b.createElement("a");function Be(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(F)||[];if(m(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function Ve(t,e,n,r){var i={},o=t===Fe;function a(s){var u;return i[s]=!0,T.each(t[s]||[],(function(t,s){var c=s(e,n,r);return"string"!=typeof c||o||i[c]?o?!(u=c):void 0:(e.dataTypes.unshift(c),a(c),!1)})),u}return a(e.dataTypes[0])||!i["*"]&&a("*")}function He(t,e){var n,r,i=T.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&T.extend(!0,t,r),t}qe.href=Ee.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ee.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ee.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ue,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?He(He(t,T.ajaxSettings),e):He(T.ajaxSettings,t)},ajaxPrefilter:Be(je),ajaxTransport:Be(Fe),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i,o,a,s,u,c,l,f,h,d=T.ajaxSetup({},e),p=d.context||d,v=d.context&&(p.nodeType||p.jquery)?T(p):T.event,g=T.Deferred(),m=T.Callbacks("once memory"),y=d.statusCode||{},w={},_={},I="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Re.exec(o);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=_[t.toLowerCase()]=_[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==c&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)E.always(t[E.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||I;return n&&n.abort(e),S(0,e),this}};if(g.promise(E),d.url=((t||d.url||Ee.href)+"").replace(Le,Ee.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(F)||[""],null==d.crossDomain){u=b.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=qe.protocol+"//"+qe.host!=u.protocol+"//"+u.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=T.param(d.data,d.traditional)),Ve(je,d,e,E),c)return E;for(f in(l=T.event&&d.global)&&0==T.active++&&T.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Me.test(d.type),i=d.url.replace(Oe,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Pe,"+")):(h=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(Se.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(De,"$1"),h=(Se.test(i)?"&":"?")+"_="+Te.guid+++h),d.url=i+h),d.ifModified&&(T.lastModified[i]&&E.setRequestHeader("If-Modified-Since",T.lastModified[i]),T.etag[i]&&E.setRequestHeader("If-None-Match",T.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&E.setRequestHeader("Content-Type",d.contentType),E.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ue+"; q=0.01":""):d.accepts["*"]),d.headers)E.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(p,E,d)||c))return E.abort();if(I="abort",m.add(d.complete),E.done(d.success),E.fail(d.error),n=Ve(Fe,d,e,E)){if(E.readyState=1,l&&v.trigger("ajaxSend",[E,d]),c)return E;d.async&&d.timeout>0&&(s=r.setTimeout((function(){E.abort("timeout")}),d.timeout));try{c=!1,n.send(w,S)}catch(t){if(c)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,e,a,u){var f,h,b,w,_,I=e;c||(c=!0,s&&r.clearTimeout(s),n=void 0,o=u||"",E.readyState=t>0?4:0,f=t>=200&&t<300||304===t,a&&(w=function(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(d,E,a)),!f&&T.inArray("script",d.dataTypes)>-1&&T.inArray("json",d.dataTypes)<0&&(d.converters["text script"]=function(){}),w=function(t,e,n,r){var i,o,a,s,u,c={},l=t.dataTypes.slice();if(l[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(d,w,E,f),f?(d.ifModified&&((_=E.getResponseHeader("Last-Modified"))&&(T.lastModified[i]=_),(_=E.getResponseHeader("etag"))&&(T.etag[i]=_)),204===t||"HEAD"===d.type?I="nocontent":304===t?I="notmodified":(I=w.state,h=w.data,f=!(b=w.error))):(b=I,!t&&I||(I="error",t<0&&(t=0))),E.status=t,E.statusText=(e||I)+"",f?g.resolveWith(p,[h,I,E]):g.rejectWith(p,[E,I,b]),E.statusCode(y),y=void 0,l&&v.trigger(f?"ajaxSuccess":"ajaxError",[E,d,f?h:b]),m.fireWith(p,[E,I]),l&&(v.trigger("ajaxComplete",[E,d]),--T.active||T.event.trigger("ajaxStop")))}return E},getJSON:function(t,e,n){return T.get(t,e,n,"json")},getScript:function(t,e){return T.get(t,void 0,e,"script")}}),T.each(["get","post"],(function(t,e){T[e]=function(t,n,r,i){return m(n)&&(i=i||r,r=n,n=void 0),T.ajax(T.extend({url:t,type:e,dataType:i,data:n,success:r},T.isPlainObject(t)&&t))}})),T.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),T._evalUrl=function(t,e,n){return T.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){T.globalEval(t,e,n)}})},T.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=T(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return m(t)?this.each((function(e){T(this).wrapInner(t.call(this,e))})):this.each((function(){var e=T(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=m(t);return this.each((function(n){T(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){T(this).replaceWith(this.childNodes)})),this}}),T.expr.pseudos.hidden=function(t){return!T.expr.pseudos.visible(t)},T.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(t){}};var Ke={0:200,1223:204},We=T.ajaxSettings.xhr();g.cors=!!We&&"withCredentials"in We,g.ajax=We=!!We,T.ajaxTransport((function(t){var e,n;if(g.cors||We&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);e=function(t){return function(){e&&(e=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ke[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),n=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout((function(){e&&n()}))},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),T.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return T.globalEval(t),t}}}),T.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),T.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(r,i){e=T("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),b.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ge,ze=[],Ye=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ze.pop()||T.expando+"_"+Te.guid++;return this[t]=!0,t}}),T.ajaxPrefilter("json jsonp",(function(t,e,n){var i,o,a,s=!1!==t.jsonp&&(Ye.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ye,"$1"+i):!1!==t.jsonp&&(t.url+=(Se.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||T.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=r[i],r[i]=function(){a=arguments},n.always((function(){void 0===o?T(r).removeProp(i):r[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,ze.push(i)),a&&m(o)&&o(a[0]),a=o=void 0})),"script"})),g.createHTMLDocument=((Ge=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ge.childNodes.length),T.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(g.createHTMLDocument?((r=(e=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,e.head.appendChild(r)):e=b),o=!n&&[],(i=P.exec(t))?[e.createElement(i[1])]:(i=Et([t],e,o),o&&o.length&&T(o).remove(),T.merge([],i.childNodes)));var r,i,o},T.fn.load=function(t,e,n){var r,i,o,a=this,s=t.indexOf(" ");return s>-1&&(r=me(t.slice(s)),t=t.slice(0,s)),m(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&T.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done((function(t){o=arguments,a.html(r?T("<div>").append(T.parseHTML(t)).find(r):t)})).always(n&&function(t,e){a.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},T.expr.pseudos.animated=function(t){return T.grep(T.timers,(function(e){return t===e.elem})).length},T.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,c=T.css(t,"position"),l=T(t),f={};"static"===c&&(t.style.position="relative"),s=l.offset(),o=T.css(t,"top"),u=T.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(e)&&(e=e.call(t,n,T.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+i),"using"in e?e.using.call(t,f):l.css(f)}},T.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){T.offset.setOffset(this,t,e)}));var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===T.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===T.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=T(t).offset()).top+=T.css(t,"borderTopWidth",!0),i.left+=T.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-T.css(r,"marginTop",!0),left:e.left-i.left-T.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===T.css(t,"position");)t=t.offsetParent;return t||at}))}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;T.fn[t]=function(r){return W(this,(function(t,r,i){var o;if(y(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i}),t,r,arguments.length)}})),T.each(["top","left"],(function(t,e){T.cssHooks[e]=Wt(g.pixelPosition,(function(t,n){if(n)return n=Kt(t,e),qt.test(n)?T(t).position()[e]+"px":n}))})),T.each({Height:"height",Width:"width"},(function(t,e){T.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,r){T.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return W(this,(function(e,n,i){var o;return y(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?T.css(e,n,s):T.style(e,n,i,s)}),e,a?i:void 0,a)}}))})),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){T.fn[e]=function(t){return this.on(e,t)}})),T.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){T.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Qe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;T.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),m(t))return r=s.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(s.call(arguments)))}).guid=t.guid=t.guid||T.guid++,i},T.holdReady=function(t){t?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=N,T.isFunction=m,T.isWindow=y,T.camelCase=Q,T.type=I,T.now=Date.now,T.isNumeric=function(t){var e=T.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},T.trim=function(t){return null==t?"":(t+"").replace(Qe,"")},void 0===(n=function(){return T}.apply(e,[]))||(t.exports=n);var Xe=r.jQuery,Je=r.$;return T.noConflict=function(t){return r.$===T&&(r.$=Je),t&&r.jQuery===T&&(r.jQuery=Xe),T},void 0===i&&(r.jQuery=r.$=T),T}))},"9va6":function(t,e,n){var r;t=n.nmd(t),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=32,c=128,l=1/0,f=9007199254740991,h=NaN,d=4294967295,p=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],v="[object Arguments]",g="[object Array]",m="[object Boolean]",y="[object Date]",b="[object Error]",w="[object Function]",_="[object GeneratorFunction]",I="[object Map]",E="[object Number]",T="[object Object]",S="[object Promise]",C="[object RegExp]",k="[object Set]",x="[object String]",A="[object Symbol]",N="[object WeakMap]",P="[object ArrayBuffer]",O="[object DataView]",D="[object Float32Array]",R="[object Float64Array]",M="[object Int8Array]",L="[object Int16Array]",j="[object Int32Array]",F="[object Uint8Array]",U="[object Uint8ClampedArray]",q="[object Uint16Array]",B="[object Uint32Array]",V=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,W=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,z=RegExp(W.source),Y=RegExp(G.source),Q=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),rt=/^\s+/,it=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,at=/\{\n\/\* \[wrapped with (.+)\] \*/,st=/,? & /,ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ct=/[()=,{}\[\]\/\s]/,lt=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ht=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,gt=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,yt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bt=/($^)/,wt=/['\n\r\u2028\u2029\\]/g,_t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",It="a-z\\xdf-\\xf6\\xf8-\\xff",Et="A-Z\\xc0-\\xd6\\xd8-\\xde",Tt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",St="["+Tt+"]",Ct="["+_t+"]",kt="\\d+",xt="["+It+"]",At="[^\\ud800-\\udfff"+Tt+kt+"\\u2700-\\u27bf"+It+Et+"]",Nt="\\ud83c[\\udffb-\\udfff]",Pt="[^\\ud800-\\udfff]",Ot="(?:\\ud83c[\\udde6-\\uddff]){2}",Dt="[\\ud800-\\udbff][\\udc00-\\udfff]",Rt="["+Et+"]",Mt="(?:"+xt+"|"+At+")",Lt="(?:"+Rt+"|"+At+")",jt="(?:['](?:d|ll|m|re|s|t|ve))?",Ft="(?:['](?:D|LL|M|RE|S|T|VE))?",Ut="(?:"+Ct+"|"+Nt+")?",qt="[\\ufe0e\\ufe0f]?",Bt=qt+Ut+"(?:\\u200d(?:"+[Pt,Ot,Dt].join("|")+")"+qt+Ut+")*",Vt="(?:"+["[\\u2700-\\u27bf]",Ot,Dt].join("|")+")"+Bt,Ht="(?:"+[Pt+Ct+"?",Ct,Ot,Dt,"[\\ud800-\\udfff]"].join("|")+")",Kt=RegExp("[']","g"),Wt=RegExp(Ct,"g"),Gt=RegExp(Nt+"(?="+Nt+")|"+Ht+Bt,"g"),zt=RegExp([Rt+"?"+xt+"+"+jt+"(?="+[St,Rt,"$"].join("|")+")",Lt+"+"+Ft+"(?="+[St,Rt+Mt,"$"].join("|")+")",Rt+"?"+Mt+"+"+jt,Rt+"+"+Ft,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kt,Vt].join("|"),"g"),Yt=RegExp("[\\u200d\\ud800-\\udfff"+_t+"\\ufe0e\\ufe0f]"),Qt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Jt=-1,$t={};$t[D]=$t[R]=$t[M]=$t[L]=$t[j]=$t[F]=$t[U]=$t[q]=$t[B]=!0,$t[v]=$t[g]=$t[P]=$t[m]=$t[O]=$t[y]=$t[b]=$t[w]=$t[I]=$t[E]=$t[T]=$t[C]=$t[k]=$t[x]=$t[N]=!1;var Zt={};Zt[v]=Zt[g]=Zt[P]=Zt[O]=Zt[m]=Zt[y]=Zt[D]=Zt[R]=Zt[M]=Zt[L]=Zt[j]=Zt[I]=Zt[E]=Zt[T]=Zt[C]=Zt[k]=Zt[x]=Zt[A]=Zt[F]=Zt[U]=Zt[q]=Zt[B]=!0,Zt[b]=Zt[w]=Zt[N]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,ne=parseInt,re="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ie="object"==typeof self&&self&&self.Object===Object&&self,oe=re||ie||Function("return this")(),ae=e&&!e.nodeType&&e,se=ae&&t&&!t.nodeType&&t,ue=se&&se.exports===ae,ce=ue&&re.process,le=function(){try{return se&&se.require&&se.require("util").types||ce&&ce.binding&&ce.binding("util")}catch(t){}}(),fe=le&&le.isArrayBuffer,he=le&&le.isDate,de=le&&le.isMap,pe=le&&le.isRegExp,ve=le&&le.isSet,ge=le&&le.isTypedArray;function me(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ye(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function be(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function we(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function _e(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ie(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Ee(t,e){return!(null==t||!t.length)&&De(t,e,0)>-1}function Te(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Se(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Ce(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function ke(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function xe(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Ae(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ne=je("length");function Pe(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Oe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function De(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Oe(t,Me,n)}function Re(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Me(t){return t!=t}function Le(t,e){var n=null==t?0:t.length;return n?qe(t,e)/n:h}function je(t){return function(e){return null==e?i:e[t]}}function Fe(t){return function(e){return null==t?i:t[e]}}function Ue(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function qe(t,e){for(var n,r=-1,o=t.length;++r<o;){var a=e(t[r]);a!==i&&(n=n===i?a:n+a)}return n}function Be(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ve(t){return t?t.slice(0,sn(t)+1).replace(rt,""):t}function He(t){return function(e){return t(e)}}function Ke(t,e){return Se(e,(function(e){return t[e]}))}function We(t,e){return t.has(e)}function Ge(t,e){for(var n=-1,r=t.length;++n<r&&De(e,t[n],0)>-1;);return n}function ze(t,e){for(var n=t.length;n--&&De(e,t[n],0)>-1;);return n}function Ye(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Qe=Fe({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Xe=Fe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Je(t){return"\\"+te[t]}function $e(t){return Yt.test(t)}function Ze(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function tn(t,e){return function(n){return t(e(n))}}function en(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==s||(t[n]=s,o[i++]=n)}return o}function nn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function rn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function on(t){return $e(t)?function(t){for(var e=Gt.lastIndex=0;Gt.test(t);)++e;return e}(t):Ne(t)}function an(t){return $e(t)?function(t){return t.match(Gt)||[]}(t):function(t){return t.split("")}(t)}function sn(t){for(var e=t.length;e--&&it.test(t.charAt(e)););return e}var un=Fe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),cn=function t(e){var n,r=(e=null==e?oe:cn.defaults(oe.Object(),e,cn.pick(oe,Xt))).Array,it=e.Date,_t=e.Error,It=e.Function,Et=e.Math,Tt=e.Object,St=e.RegExp,Ct=e.String,kt=e.TypeError,xt=r.prototype,At=It.prototype,Nt=Tt.prototype,Pt=e["__core-js_shared__"],Ot=At.toString,Dt=Nt.hasOwnProperty,Rt=0,Mt=(n=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Lt=Nt.toString,jt=Ot.call(Tt),Ft=oe._,Ut=St("^"+Ot.call(Dt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qt=ue?e.Buffer:i,Bt=e.Symbol,Vt=e.Uint8Array,Ht=qt?qt.allocUnsafe:i,Gt=tn(Tt.getPrototypeOf,Tt),Yt=Tt.create,te=Nt.propertyIsEnumerable,re=xt.splice,ie=Bt?Bt.isConcatSpreadable:i,ae=Bt?Bt.iterator:i,se=Bt?Bt.toStringTag:i,ce=function(){try{var t=co(Tt,"defineProperty");return t({},"",{}),t}catch(t){}}(),le=e.clearTimeout!==oe.clearTimeout&&e.clearTimeout,Ne=it&&it.now!==oe.Date.now&&it.now,Fe=e.setTimeout!==oe.setTimeout&&e.setTimeout,ln=Et.ceil,fn=Et.floor,hn=Tt.getOwnPropertySymbols,dn=qt?qt.isBuffer:i,pn=e.isFinite,vn=xt.join,gn=tn(Tt.keys,Tt),mn=Et.max,yn=Et.min,bn=it.now,wn=e.parseInt,_n=Et.random,In=xt.reverse,En=co(e,"DataView"),Tn=co(e,"Map"),Sn=co(e,"Promise"),Cn=co(e,"Set"),kn=co(e,"WeakMap"),xn=co(Tt,"create"),An=kn&&new kn,Nn={},Pn=Uo(En),On=Uo(Tn),Dn=Uo(Sn),Rn=Uo(Cn),Mn=Uo(kn),Ln=Bt?Bt.prototype:i,jn=Ln?Ln.valueOf:i,Fn=Ln?Ln.toString:i;function Un(t){if(ns(t)&&!Wa(t)&&!(t instanceof Hn)){if(t instanceof Vn)return t;if(Dt.call(t,"__wrapped__"))return qo(t)}return new Vn(t)}var qn=function(){function t(){}return function(e){if(!es(e))return{};if(Yt)return Yt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Bn(){}function Vn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Hn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function zn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Gn;++e<n;)this.add(t[e])}function Yn(t){var e=this.__data__=new Wn(t);this.size=e.size}function Qn(t,e){var n=Wa(t),r=!n&&Ka(t),i=!n&&!r&&Qa(t),o=!n&&!r&&!i&&ls(t),a=n||r||i||o,s=a?Be(t.length,Ct):[],u=s.length;for(var c in t)!e&&!Dt.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||mo(c,u))||s.push(c);return s}function Xn(t){var e=t.length;return e?t[Gr(0,e-1)]:i}function Jn(t,e){return Ro(ki(t),ar(e,0,t.length))}function $n(t){return Ro(ki(t))}function Zn(t,e,n){(n!==i&&!Ba(t[e],n)||n===i&&!(e in t))&&ir(t,e,n)}function tr(t,e,n){var r=t[e];Dt.call(t,e)&&Ba(r,n)&&(n!==i||e in t)||ir(t,e,n)}function er(t,e){for(var n=t.length;n--;)if(Ba(t[n][0],e))return n;return-1}function nr(t,e,n,r){return fr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function rr(t,e){return t&&xi(e,Os(e),t)}function ir(t,e,n){"__proto__"==e&&ce?ce(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function or(t,e){for(var n=-1,o=e.length,a=r(o),s=null==t;++n<o;)a[n]=s?i:ks(t,e[n]);return a}function ar(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function sr(t,e,n,r,o,a){var s,u=1&e,c=2&e,l=4&e;if(n&&(s=o?n(t,r,o,a):n(t)),s!==i)return s;if(!es(t))return t;var f=Wa(t);if(f){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Dt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return ki(t,s)}else{var h=ho(t),d=h==w||h==_;if(Qa(t))return _i(t,u);if(h==T||h==v||d&&!o){if(s=c||d?{}:vo(t),!u)return c?function(t,e){return xi(t,fo(t),e)}(t,function(t,e){return t&&xi(e,Ds(e),t)}(s,t)):function(t,e){return xi(t,lo(t),e)}(t,rr(s,t))}else{if(!Zt[h])return o?t:{};s=function(t,e,n){var r,i=t.constructor;switch(e){case P:return Ii(t);case m:case y:return new i(+t);case O:return function(t,e){var n=e?Ii(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case D:case R:case M:case L:case j:case F:case U:case q:case B:return Ei(t,n);case I:return new i;case E:case x:return new i(t);case C:return function(t){var e=new t.constructor(t.source,ht.exec(t));return e.lastIndex=t.lastIndex,e}(t);case k:return new i;case A:return r=t,jn?Tt(jn.call(r)):{}}}(t,h,u)}}a||(a=new Yn);var p=a.get(t);if(p)return p;a.set(t,s),ss(t)?t.forEach((function(r){s.add(sr(r,e,n,r,t,a))})):rs(t)&&t.forEach((function(r,i){s.set(i,sr(r,e,n,i,t,a))}));var g=f?i:(l?c?no:eo:c?Ds:Os)(t);return be(g||t,(function(r,i){g&&(r=t[i=r]),tr(s,i,sr(r,e,n,i,t,a))})),s}function ur(t,e,n){var r=n.length;if(null==t)return!r;for(t=Tt(t);r--;){var o=n[r],a=e[o],s=t[o];if(s===i&&!(o in t)||!a(s))return!1}return!0}function cr(t,e,n){if("function"!=typeof t)throw new kt(o);return No((function(){t.apply(i,n)}),e)}function lr(t,e,n,r){var i=-1,o=Ee,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=Se(e,He(n))),r?(o=Te,a=!1):e.length>=200&&(o=We,a=!1,e=new zn(e));t:for(;++i<s;){var l=t[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var h=c;h--;)if(e[h]===f)continue t;u.push(l)}else o(e,f,r)||u.push(l)}return u}Un.templateSettings={escape:Q,evaluate:X,interpolate:J,variable:"",imports:{_:Un}},Un.prototype=Bn.prototype,Un.prototype.constructor=Un,Vn.prototype=qn(Bn.prototype),Vn.prototype.constructor=Vn,Hn.prototype=qn(Bn.prototype),Hn.prototype.constructor=Hn,Kn.prototype.clear=function(){this.__data__=xn?xn(null):{},this.size=0},Kn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Kn.prototype.get=function(t){var e=this.__data__;if(xn){var n=e[t];return n===a?i:n}return Dt.call(e,t)?e[t]:i},Kn.prototype.has=function(t){var e=this.__data__;return xn?e[t]!==i:Dt.call(e,t)},Kn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=xn&&e===i?a:e,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(t){var e=this.__data__,n=er(e,t);return!(n<0||(n==e.length-1?e.pop():re.call(e,n,1),--this.size,0))},Wn.prototype.get=function(t){var e=this.__data__,n=er(e,t);return n<0?i:e[n][1]},Wn.prototype.has=function(t){return er(this.__data__,t)>-1},Wn.prototype.set=function(t,e){var n=this.__data__,r=er(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Kn,map:new(Tn||Wn),string:new Kn}},Gn.prototype.delete=function(t){var e=so(this,t).delete(t);return this.size-=e?1:0,e},Gn.prototype.get=function(t){return so(this,t).get(t)},Gn.prototype.has=function(t){return so(this,t).has(t)},Gn.prototype.set=function(t,e){var n=so(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},zn.prototype.add=zn.prototype.push=function(t){return this.__data__.set(t,a),this},zn.prototype.has=function(t){return this.__data__.has(t)},Yn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Yn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Yn.prototype.get=function(t){return this.__data__.get(t)},Yn.prototype.has=function(t){return this.__data__.has(t)},Yn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!Tn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(t,e),this.size=n.size,this};var fr=Pi(br),hr=Pi(wr,!0);function dr(t,e){var n=!0;return fr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function pr(t,e,n){for(var r=-1,o=t.length;++r<o;){var a=t[r],s=e(a);if(null!=s&&(u===i?s==s&&!cs(s):n(s,u)))var u=s,c=a}return c}function vr(t,e){var n=[];return fr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function gr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=go),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?gr(s,e-1,n,r,i):Ce(i,s):r||(i[i.length]=s)}return i}var mr=Oi(),yr=Oi(!0);function br(t,e){return t&&mr(t,e,Os)}function wr(t,e){return t&&yr(t,e,Os)}function _r(t,e){return Ie(e,(function(e){return $a(t[e])}))}function Ir(t,e){for(var n=0,r=(e=mi(e,t)).length;null!=t&&n<r;)t=t[Fo(e[n++])];return n&&n==r?t:i}function Er(t,e,n){var r=e(t);return Wa(t)?r:Ce(r,n(t))}function Tr(t){return null==t?t===i?"[object Undefined]":"[object Null]":se&&se in Tt(t)?function(t){var e=Dt.call(t,se),n=t[se];try{t[se]=i;var r=!0}catch(t){}var o=Lt.call(t);return r&&(e?t[se]=n:delete t[se]),o}(t):function(t){return Lt.call(t)}(t)}function Sr(t,e){return t>e}function Cr(t,e){return null!=t&&Dt.call(t,e)}function kr(t,e){return null!=t&&e in Tt(t)}function xr(t,e,n){for(var o=n?Te:Ee,a=t[0].length,s=t.length,u=s,c=r(s),l=1/0,f=[];u--;){var h=t[u];u&&e&&(h=Se(h,He(e))),l=yn(h.length,l),c[u]=!n&&(e||a>=120&&h.length>=120)?new zn(u&&h):i}h=t[0];var d=-1,p=c[0];t:for(;++d<a&&f.length<l;){var v=h[d],g=e?e(v):v;if(v=n||0!==v?v:0,!(p?We(p,g):o(f,g,n))){for(u=s;--u;){var m=c[u];if(!(m?We(m,g):o(t[u],g,n)))continue t}p&&p.push(g),f.push(v)}}return f}function Ar(t,e,n){var r=null==(t=Co(t,e=mi(e,t)))?t:t[Fo(Jo(e))];return null==r?i:me(r,t,n)}function Nr(t){return ns(t)&&Tr(t)==v}function Pr(t,e,n,r,o){return t===e||(null==t||null==e||!ns(t)&&!ns(e)?t!=t&&e!=e:function(t,e,n,r,o,a){var s=Wa(t),u=Wa(e),c=s?g:ho(t),l=u?g:ho(e),f=(c=c==v?T:c)==T,h=(l=l==v?T:l)==T,d=c==l;if(d&&Qa(t)){if(!Qa(e))return!1;s=!0,f=!1}if(d&&!f)return a||(a=new Yn),s||ls(t)?Zi(t,e,n,r,o,a):function(t,e,n,r,i,o,a){switch(n){case O:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case P:return!(t.byteLength!=e.byteLength||!o(new Vt(t),new Vt(e)));case m:case y:case E:return Ba(+t,+e);case b:return t.name==e.name&&t.message==e.message;case C:case x:return t==e+"";case I:var s=Ze;case k:var u=1&r;if(s||(s=nn),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var l=Zi(s(t),s(e),r,i,o,a);return a.delete(t),l;case A:if(jn)return jn.call(t)==jn.call(e)}return!1}(t,e,c,n,r,o,a);if(!(1&n)){var p=f&&Dt.call(t,"__wrapped__"),w=h&&Dt.call(e,"__wrapped__");if(p||w){var _=p?t.value():t,S=w?e.value():e;return a||(a=new Yn),o(_,S,n,r,a)}}return!!d&&(a||(a=new Yn),function(t,e,n,r,o,a){var s=1&n,u=eo(t),c=u.length;if(c!=eo(e).length&&!s)return!1;for(var l=c;l--;){var f=u[l];if(!(s?f in e:Dt.call(e,f)))return!1}var h=a.get(t),d=a.get(e);if(h&&d)return h==e&&d==t;var p=!0;a.set(t,e),a.set(e,t);for(var v=s;++l<c;){var g=t[f=u[l]],m=e[f];if(r)var y=s?r(m,g,f,e,t,a):r(g,m,f,t,e,a);if(!(y===i?g===m||o(g,m,n,r,a):y)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return a.delete(t),a.delete(e),p}(t,e,n,r,o,a))}(t,e,n,r,Pr,o))}function Or(t,e,n,r){var o=n.length,a=o,s=!r;if(null==t)return!a;for(t=Tt(t);o--;){var u=n[o];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<a;){var c=(u=n[o])[0],l=t[c],f=u[1];if(s&&u[2]){if(l===i&&!(c in t))return!1}else{var h=new Yn;if(r)var d=r(l,f,c,t,e,h);if(!(d===i?Pr(f,l,3,r,h):d))return!1}}return!0}function Dr(t){return!(!es(t)||(e=t,Mt&&Mt in e))&&($a(t)?Ut:vt).test(Uo(t));var e}function Rr(t){return"function"==typeof t?t:null==t?iu:"object"==typeof t?Wa(t)?Ur(t[0],t[1]):Fr(t):du(t)}function Mr(t){if(!Io(t))return gn(t);var e=[];for(var n in Tt(t))Dt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Lr(t,e){return t<e}function jr(t,e){var n=-1,i=za(t)?r(t.length):[];return fr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Fr(t){var e=uo(t);return 1==e.length&&e[0][2]?To(e[0][0],e[0][1]):function(n){return n===t||Or(n,t,e)}}function Ur(t,e){return bo(t)&&Eo(e)?To(Fo(t),e):function(n){var r=ks(n,t);return r===i&&r===e?xs(n,t):Pr(e,r,3)}}function qr(t,e,n,r,o){t!==e&&mr(e,(function(a,s){if(o||(o=new Yn),es(a))!function(t,e,n,r,o,a,s){var u=xo(t,n),c=xo(e,n),l=s.get(c);if(l)Zn(t,n,l);else{var f=a?a(u,c,n+"",t,e,s):i,h=f===i;if(h){var d=Wa(c),p=!d&&Qa(c),v=!d&&!p&&ls(c);f=c,d||p||v?Wa(u)?f=u:Ya(u)?f=ki(u):p?(h=!1,f=_i(c,!0)):v?(h=!1,f=Ei(c,!0)):f=[]:os(c)||Ka(c)?(f=u,Ka(u)?f=ys(u):es(u)&&!$a(u)||(f=vo(c))):h=!1}h&&(s.set(c,f),o(f,c,r,a,s),s.delete(c)),Zn(t,n,f)}}(t,e,s,n,qr,r,o);else{var u=r?r(xo(t,s),a,s+"",t,e,o):i;u===i&&(u=a),Zn(t,s,u)}}),Ds)}function Br(t,e){var n=t.length;if(n)return mo(e+=e<0?n:0,n)?t[e]:i}function Vr(t,e,n){e=e.length?Se(e,(function(t){return Wa(t)?function(e){return Ir(e,1===t.length?t[0]:t)}:t})):[iu];var r=-1;return e=Se(e,He(ao())),function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=Ti(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(jr(t,(function(t,n,i){return{criteria:Se(e,(function(e){return e(t)})),index:++r,value:t}})))}function Hr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=Ir(t,a);n(s,a)&&Jr(o,mi(a,t),s)}return o}function Kr(t,e,n,r){var i=r?Re:De,o=-1,a=e.length,s=t;for(t===e&&(e=ki(e)),n&&(s=Se(t,He(n)));++o<a;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==t&&re.call(s,u,1),re.call(t,u,1);return t}function Wr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;mo(i)?re.call(t,i,1):ci(t,i)}}return t}function Gr(t,e){return t+fn(_n()*(e-t+1))}function zr(t,e){var n="";if(!t||e<1||e>f)return n;do{e%2&&(n+=t),(e=fn(e/2))&&(t+=t)}while(e);return n}function Yr(t,e){return Po(So(t,e,iu),t+"")}function Qr(t){return Xn(Bs(t))}function Xr(t,e){var n=Bs(t);return Ro(n,ar(e,0,n.length))}function Jr(t,e,n,r){if(!es(t))return t;for(var o=-1,a=(e=mi(e,t)).length,s=a-1,u=t;null!=u&&++o<a;){var c=Fo(e[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=s){var f=u[c];(l=r?r(f,c,u):i)===i&&(l=es(f)?f:mo(e[o+1])?[]:{})}tr(u,c,l),u=u[c]}return t}var $r=An?function(t,e){return An.set(t,e),t}:iu,Zr=ce?function(t,e){return ce(t,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:iu;function ti(t){return Ro(Bs(t))}function ei(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function ni(t,e){var n;return fr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ri(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!cs(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return ii(t,e,iu,n)}function ii(t,e,n,r){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,u=null===e,c=cs(e),l=e===i;o<a;){var f=fn((o+a)/2),h=n(t[f]),d=h!==i,p=null===h,v=h==h,g=cs(h);if(s)var m=r||v;else m=l?v&&(r||d):u?v&&d&&(r||!p):c?v&&d&&!p&&(r||!g):!p&&!g&&(r?h<=e:h<e);m?o=f+1:a=f}return yn(a,4294967294)}function oi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Ba(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ai(t){return"number"==typeof t?t:cs(t)?h:+t}function si(t){if("string"==typeof t)return t;if(Wa(t))return Se(t,si)+"";if(cs(t))return Fn?Fn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ui(t,e,n){var r=-1,i=Ee,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=Te;else if(o>=200){var c=e?null:zi(t);if(c)return nn(c);a=!1,i=We,u=new zn}else u=e?[]:s;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function ci(t,e){return null==(t=Co(t,e=mi(e,t)))||delete t[Fo(Jo(e))]}function li(t,e,n,r){return Jr(t,e,n(Ir(t,e)),r)}function fi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ei(t,r?0:o,r?o+1:i):ei(t,r?o+1:0,r?i:o)}function hi(t,e){var n=t;return n instanceof Hn&&(n=n.value()),ke(e,(function(t,e){return e.func.apply(e.thisArg,Ce([t],e.args))}),n)}function di(t,e,n){var i=t.length;if(i<2)return i?ui(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=lr(a[o]||s,t[u],e,n));return ui(gr(a,1),e,n)}function pi(t,e,n){for(var r=-1,o=t.length,a=e.length,s={};++r<o;){var u=r<a?e[r]:i;n(s,t[r],u)}return s}function vi(t){return Ya(t)?t:[]}function gi(t){return"function"==typeof t?t:iu}function mi(t,e){return Wa(t)?t:bo(t,e)?[t]:jo(bs(t))}var yi=Yr;function bi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ei(t,e,n)}var wi=le||function(t){return oe.clearTimeout(t)};function _i(t,e){if(e)return t.slice();var n=t.length,r=Ht?Ht(n):new t.constructor(n);return t.copy(r),r}function Ii(t){var e=new t.constructor(t.byteLength);return new Vt(e).set(new Vt(t)),e}function Ei(t,e){var n=e?Ii(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ti(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,a=cs(t),s=e!==i,u=null===e,c=e==e,l=cs(e);if(!u&&!l&&!a&&t>e||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!l&&t<e||l&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}function Si(t,e,n,i){for(var o=-1,a=t.length,s=n.length,u=-1,c=e.length,l=mn(a-s,0),f=r(c+l),h=!i;++u<c;)f[u]=e[u];for(;++o<s;)(h||o<a)&&(f[n[o]]=t[o]);for(;l--;)f[u++]=t[o++];return f}function Ci(t,e,n,i){for(var o=-1,a=t.length,s=-1,u=n.length,c=-1,l=e.length,f=mn(a-u,0),h=r(f+l),d=!i;++o<f;)h[o]=t[o];for(var p=o;++c<l;)h[p+c]=e[c];for(;++s<u;)(d||o<a)&&(h[p+n[s]]=t[o++]);return h}function ki(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function xi(t,e,n,r){var o=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],c=r?r(n[u],t[u],u,n,t):i;c===i&&(c=t[u]),o?ir(n,u,c):tr(n,u,c)}return n}function Ai(t,e){return function(n,r){var i=Wa(n)?ye:nr,o=e?e():{};return i(n,t,ao(r,2),o)}}function Ni(t){return Yr((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=t.length>3&&"function"==typeof a?(o--,a):i,s&&yo(n[0],n[1],s)&&(a=o<3?i:a,o=1),e=Tt(e);++r<o;){var u=n[r];u&&t(e,u,r,a)}return e}))}function Pi(t,e){return function(n,r){if(null==n)return n;if(!za(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Tt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Oi(t){return function(e,n,r){for(var i=-1,o=Tt(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function Di(t){return function(e){var n=$e(e=bs(e))?an(e):i,r=n?n[0]:e.charAt(0),o=n?bi(n,1).join(""):e.slice(1);return r[t]()+o}}function Ri(t){return function(e){return ke($s(Ks(e).replace(Kt,"")),t,"")}}function Mi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=qn(t.prototype),r=t.apply(n,e);return es(r)?r:n}}function Li(t){return function(e,n,r){var o=Tt(e);if(!za(e)){var a=ao(n,3);e=Os(e),n=function(t){return a(o[t],t,o)}}var s=t(e,n,r);return s>-1?o[a?e[s]:s]:i}}function ji(t){return to((function(e){var n=e.length,r=n,a=Vn.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new kt(o);if(a&&!u&&"wrapper"==io(s))var u=new Vn([],!0)}for(r=u?r:n;++r<n;){var c=io(s=e[r]),l="wrapper"==c?ro(s):i;u=l&&wo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[io(l[0])].apply(u,l[3]):1==s.length&&wo(s)?u[c]():u.thru(s)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Wa(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Fi(t,e,n,o,a,s,u,l,f,h){var d=e&c,p=1&e,v=2&e,g=24&e,m=512&e,y=v?i:Mi(t);return function i(){for(var c=arguments.length,b=r(c),w=c;w--;)b[w]=arguments[w];if(g)var _=oo(i),I=Ye(b,_);if(o&&(b=Si(b,o,a,g)),s&&(b=Ci(b,s,u,g)),c-=I,g&&c<h){var E=en(b,_);return Wi(t,e,Fi,i.placeholder,n,b,E,l,f,h-c)}var T=p?n:this,S=v?T[t]:t;return c=b.length,l?b=ko(b,l):m&&c>1&&b.reverse(),d&&f<c&&(b.length=f),this&&this!==oe&&this instanceof i&&(S=y||Mi(S)),S.apply(T,b)}}function Ui(t,e){return function(n,r){return function(t,e,n,r){return br(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function qi(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=ai(n),r=ai(r)),o=t(n,r)}return o}}function Bi(t){return to((function(e){return e=Se(e,He(ao())),Yr((function(n){var r=this;return t(e,(function(t){return me(t,r,n)}))}))}))}function Vi(t,e){var n=(e=e===i?" ":si(e)).length;if(n<2)return n?zr(e,t):e;var r=zr(e,ln(t/on(e)));return $e(e)?bi(an(r),0,t).join(""):r.slice(0,t)}function Hi(t){return function(e,n,o){return o&&"number"!=typeof o&&yo(e,n,o)&&(n=o=i),e=ps(e),n===i?(n=e,e=0):n=ps(n),function(t,e,n,i){for(var o=-1,a=mn(ln((e-t)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=t,t+=n;return s}(e,n,o=o===i?e<n?1:-1:ps(o),t)}}function Ki(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ms(e),n=ms(n)),t(e,n)}}function Wi(t,e,n,r,o,a,s,c,l,f){var h=8&e;e|=h?u:64,4&(e&=~(h?64:u))||(e&=-4);var d=[t,e,o,h?a:i,h?s:i,h?i:a,h?i:s,c,l,f],p=n.apply(i,d);return wo(t)&&Ao(p,d),p.placeholder=r,Oo(p,t,e)}function Gi(t){var e=Et[t];return function(t,n){if(t=ms(t),(n=null==n?0:yn(vs(n),292))&&pn(t)){var r=(bs(t)+"e").split("e");return+((r=(bs(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var zi=Cn&&1/nn(new Cn([,-0]))[1]==l?function(t){return new Cn(t)}:cu;function Yi(t){return function(e){var n=ho(e);return n==I?Ze(e):n==k?rn(e):function(t,e){return Se(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Qi(t,e,n,a,l,f,h,d){var p=2&e;if(!p&&"function"!=typeof t)throw new kt(o);var v=a?a.length:0;if(v||(e&=-97,a=l=i),h=h===i?h:mn(vs(h),0),d=d===i?d:vs(d),v-=l?l.length:0,64&e){var g=a,m=l;a=l=i}var y=p?i:ro(t),b=[t,e,n,a,l,g,m,f,h,d];if(y&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=r==c&&8==n||r==c&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?Si(l,u,e[4]):u,t[4]=l?en(t[3],s):e[4]}(u=e[5])&&(l=t[5],t[5]=l?Ci(l,u,e[6]):u,t[6]=l?en(t[5],s):e[6]),(u=e[7])&&(t[7]=u),r&c&&(t[8]=null==t[8]?e[8]:yn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(b,y),t=b[0],e=b[1],n=b[2],a=b[3],l=b[4],!(d=b[9]=b[9]===i?p?0:t.length:mn(b[9]-v,0))&&24&e&&(e&=-25),e&&1!=e)w=8==e||16==e?function(t,e,n){var o=Mi(t);return function a(){for(var s=arguments.length,u=r(s),c=s,l=oo(a);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:en(u,l);return(s-=f.length)<n?Wi(t,e,Fi,a.placeholder,i,u,f,i,i,n-s):me(this&&this!==oe&&this instanceof a?o:t,this,u)}}(t,e,d):e!=u&&33!=e||l.length?Fi.apply(i,b):function(t,e,n,i){var o=1&e,a=Mi(t);return function e(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=r(l+u),h=this&&this!==oe&&this instanceof e?a:t;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return me(h,o?n:this,f)}}(t,e,n,a);else var w=function(t,e,n){var r=1&e,i=Mi(t);return function e(){return(this&&this!==oe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Oo((y?$r:Ao)(w,b),t,e)}function Xi(t,e,n,r){return t===i||Ba(t,Nt[n])&&!Dt.call(r,n)?e:t}function Ji(t,e,n,r,o,a){return es(t)&&es(e)&&(a.set(e,t),qr(t,e,i,Ji,a),a.delete(e)),t}function $i(t){return os(t)?i:t}function Zi(t,e,n,r,o,a){var s=1&n,u=t.length,c=e.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(t),f=a.get(e);if(l&&f)return l==e&&f==t;var h=-1,d=!0,p=2&n?new zn:i;for(a.set(t,e),a.set(e,t);++h<u;){var v=t[h],g=e[h];if(r)var m=s?r(g,v,h,e,t,a):r(v,g,h,t,e,a);if(m!==i){if(m)continue;d=!1;break}if(p){if(!Ae(e,(function(t,e){if(!We(p,e)&&(v===t||o(v,t,n,r,a)))return p.push(e)}))){d=!1;break}}else if(v!==g&&!o(v,g,n,r,a)){d=!1;break}}return a.delete(t),a.delete(e),d}function to(t){return Po(So(t,i,Go),t+"")}function eo(t){return Er(t,Os,lo)}function no(t){return Er(t,Ds,fo)}var ro=An?function(t){return An.get(t)}:cu;function io(t){for(var e=t.name+"",n=Nn[e],r=Dt.call(Nn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function oo(t){return(Dt.call(Un,"placeholder")?Un:t).placeholder}function ao(){var t=Un.iteratee||ou;return t=t===ou?Rr:t,arguments.length?t(arguments[0],arguments[1]):t}function so(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function uo(t){for(var e=Os(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Eo(i)]}return e}function co(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Dr(n)?n:i}var lo=hn?function(t){return null==t?[]:(t=Tt(t),Ie(hn(t),(function(e){return te.call(t,e)})))}:gu,fo=hn?function(t){for(var e=[];t;)Ce(e,lo(t)),t=Gt(t);return e}:gu,ho=Tr;function po(t,e,n){for(var r=-1,i=(e=mi(e,t)).length,o=!1;++r<i;){var a=Fo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&ts(i)&&mo(a,i)&&(Wa(t)||Ka(t))}function vo(t){return"function"!=typeof t.constructor||Io(t)?{}:qn(Gt(t))}function go(t){return Wa(t)||Ka(t)||!!(ie&&t&&t[ie])}function mo(t,e){var n=typeof t;return!!(e=null==e?f:e)&&("number"==n||"symbol"!=n&&mt.test(t))&&t>-1&&t%1==0&&t<e}function yo(t,e,n){if(!es(n))return!1;var r=typeof e;return!!("number"==r?za(n)&&mo(e,n.length):"string"==r&&e in n)&&Ba(n[e],t)}function bo(t,e){if(Wa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!cs(t))||Z.test(t)||!$.test(t)||null!=e&&t in Tt(e)}function wo(t){var e=io(t),n=Un[e];if("function"!=typeof n||!(e in Hn.prototype))return!1;if(t===n)return!0;var r=ro(n);return!!r&&t===r[0]}(En&&ho(new En(new ArrayBuffer(1)))!=O||Tn&&ho(new Tn)!=I||Sn&&ho(Sn.resolve())!=S||Cn&&ho(new Cn)!=k||kn&&ho(new kn)!=N)&&(ho=function(t){var e=Tr(t),n=e==T?t.constructor:i,r=n?Uo(n):"";if(r)switch(r){case Pn:return O;case On:return I;case Dn:return S;case Rn:return k;case Mn:return N}return e});var _o=Pt?$a:mu;function Io(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Nt)}function Eo(t){return t==t&&!es(t)}function To(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in Tt(n))}}function So(t,e,n){return e=mn(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=mn(i.length-e,0),s=r(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(s),me(t,this,u)}}function Co(t,e){return e.length<2?t:Ir(t,ei(e,0,-1))}function ko(t,e){for(var n=t.length,r=yn(e.length,n),o=ki(t);r--;){var a=e[r];t[r]=mo(a,n)?o[a]:i}return t}function xo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ao=Do($r),No=Fe||function(t,e){return oe.setTimeout(t,e)},Po=Do(Zr);function Oo(t,e,n){var r=e+"";return Po(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return be(p,(function(n){var r="_."+n[0];e&n[1]&&!Ee(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(at);return e?e[1].split(st):[]}(r),n)))}function Do(t){var e=0,n=0;return function(){var r=bn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Ro(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var a=Gr(n,o),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var Mo,Lo,jo=(Mo=Ma((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,n,r,i){e.push(r?i.replace(lt,"$1"):n||t)})),e}),(function(t){return 500===Lo.size&&Lo.clear(),t})),Lo=Mo.cache,Mo);function Fo(t){if("string"==typeof t||cs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Uo(t){if(null!=t){try{return Ot.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function qo(t){if(t instanceof Hn)return t.clone();var e=new Vn(t.__wrapped__,t.__chain__);return e.__actions__=ki(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Bo=Yr((function(t,e){return Ya(t)?lr(t,gr(e,1,Ya,!0)):[]})),Vo=Yr((function(t,e){var n=Jo(e);return Ya(n)&&(n=i),Ya(t)?lr(t,gr(e,1,Ya,!0),ao(n,2)):[]})),Ho=Yr((function(t,e){var n=Jo(e);return Ya(n)&&(n=i),Ya(t)?lr(t,gr(e,1,Ya,!0),i,n):[]}));function Ko(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=mn(r+i,0)),Oe(t,ao(e,3),i)}function Wo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=vs(n),o=n<0?mn(r+o,0):yn(o,r-1)),Oe(t,ao(e,3),o,!0)}function Go(t){return null!=t&&t.length?gr(t,1):[]}function zo(t){return t&&t.length?t[0]:i}var Yo=Yr((function(t){var e=Se(t,vi);return e.length&&e[0]===t[0]?xr(e):[]})),Qo=Yr((function(t){var e=Jo(t),n=Se(t,vi);return e===Jo(n)?e=i:n.pop(),n.length&&n[0]===t[0]?xr(n,ao(e,2)):[]})),Xo=Yr((function(t){var e=Jo(t),n=Se(t,vi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?xr(n,i,e):[]}));function Jo(t){var e=null==t?0:t.length;return e?t[e-1]:i}var $o=Yr(Zo);function Zo(t,e){return t&&t.length&&e&&e.length?Kr(t,e):t}var ta=to((function(t,e){var n=null==t?0:t.length,r=or(t,e);return Wr(t,Se(e,(function(t){return mo(t,n)?+t:t})).sort(Ti)),r}));function ea(t){return null==t?t:In.call(t)}var na=Yr((function(t){return ui(gr(t,1,Ya,!0))})),ra=Yr((function(t){var e=Jo(t);return Ya(e)&&(e=i),ui(gr(t,1,Ya,!0),ao(e,2))})),ia=Yr((function(t){var e=Jo(t);return e="function"==typeof e?e:i,ui(gr(t,1,Ya,!0),i,e)}));function oa(t){if(!t||!t.length)return[];var e=0;return t=Ie(t,(function(t){if(Ya(t))return e=mn(t.length,e),!0})),Be(e,(function(e){return Se(t,je(e))}))}function aa(t,e){if(!t||!t.length)return[];var n=oa(t);return null==e?n:Se(n,(function(t){return me(e,i,t)}))}var sa=Yr((function(t,e){return Ya(t)?lr(t,e):[]})),ua=Yr((function(t){return di(Ie(t,Ya))})),ca=Yr((function(t){var e=Jo(t);return Ya(e)&&(e=i),di(Ie(t,Ya),ao(e,2))})),la=Yr((function(t){var e=Jo(t);return e="function"==typeof e?e:i,di(Ie(t,Ya),i,e)})),fa=Yr(oa),ha=Yr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,aa(t,n)}));function da(t){var e=Un(t);return e.__chain__=!0,e}function pa(t,e){return e(t)}var va=to((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return or(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Hn&&mo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:pa,args:[o],thisArg:i}),new Vn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)})),ga=Ai((function(t,e,n){Dt.call(t,n)?++t[n]:ir(t,n,1)})),ma=Li(Ko),ya=Li(Wo);function ba(t,e){return(Wa(t)?be:fr)(t,ao(e,3))}function wa(t,e){return(Wa(t)?we:hr)(t,ao(e,3))}var _a=Ai((function(t,e,n){Dt.call(t,n)?t[n].push(e):ir(t,n,[e])})),Ia=Yr((function(t,e,n){var i=-1,o="function"==typeof e,a=za(t)?r(t.length):[];return fr(t,(function(t){a[++i]=o?me(e,t,n):Ar(t,e,n)})),a})),Ea=Ai((function(t,e,n){ir(t,n,e)}));function Ta(t,e){return(Wa(t)?Se:jr)(t,ao(e,3))}var Sa=Ai((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Ca=Yr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&yo(t,e[0],e[1])?e=[]:n>2&&yo(e[0],e[1],e[2])&&(e=[e[0]]),Vr(t,gr(e,1),[])})),ka=Ne||function(){return oe.Date.now()};function xa(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Qi(t,c,i,i,i,i,e)}function Aa(t,e){var n;if("function"!=typeof e)throw new kt(o);return t=vs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Na=Yr((function(t,e,n){var r=1;if(n.length){var i=en(n,oo(Na));r|=u}return Qi(t,r,e,n,i)})),Pa=Yr((function(t,e,n){var r=3;if(n.length){var i=en(n,oo(Pa));r|=u}return Qi(e,r,t,n,i)}));function Oa(t,e,n){var r,a,s,u,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new kt(o);function v(e){var n=r,o=a;return r=a=i,f=e,u=t.apply(o,n)}function g(t){return f=t,c=No(y,e),h?v(t):u}function m(t){var n=t-l;return l===i||n>=e||n<0||d&&t-f>=s}function y(){var t=ka();if(m(t))return b(t);c=No(y,function(t){var n=e-(t-l);return d?yn(n,s-(t-f)):n}(t))}function b(t){return c=i,p&&r?v(t):(r=a=i,u)}function w(){var t=ka(),n=m(t);if(r=arguments,a=this,l=t,n){if(c===i)return g(l);if(d)return wi(c),c=No(y,e),v(l)}return c===i&&(c=No(y,e)),u}return e=ms(e)||0,es(n)&&(h=!!n.leading,s=(d="maxWait"in n)?mn(ms(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),w.cancel=function(){c!==i&&wi(c),f=0,r=l=a=c=i},w.flush=function(){return c===i?u:b(ka())},w}var Da=Yr((function(t,e){return cr(t,1,e)})),Ra=Yr((function(t,e,n){return cr(t,ms(e)||0,n)}));function Ma(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new kt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ma.Cache||Gn),n}function La(t){if("function"!=typeof t)throw new kt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ma.Cache=Gn;var ja=yi((function(t,e){var n=(e=1==e.length&&Wa(e[0])?Se(e[0],He(ao())):Se(gr(e,1),He(ao()))).length;return Yr((function(r){for(var i=-1,o=yn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return me(t,this,r)}))})),Fa=Yr((function(t,e){var n=en(e,oo(Fa));return Qi(t,u,i,e,n)})),Ua=Yr((function(t,e){var n=en(e,oo(Ua));return Qi(t,64,i,e,n)})),qa=to((function(t,e){return Qi(t,256,i,i,i,e)}));function Ba(t,e){return t===e||t!=t&&e!=e}var Va=Ki(Sr),Ha=Ki((function(t,e){return t>=e})),Ka=Nr(function(){return arguments}())?Nr:function(t){return ns(t)&&Dt.call(t,"callee")&&!te.call(t,"callee")},Wa=r.isArray,Ga=fe?He(fe):function(t){return ns(t)&&Tr(t)==P};function za(t){return null!=t&&ts(t.length)&&!$a(t)}function Ya(t){return ns(t)&&za(t)}var Qa=dn||mu,Xa=he?He(he):function(t){return ns(t)&&Tr(t)==y};function Ja(t){if(!ns(t))return!1;var e=Tr(t);return e==b||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!os(t)}function $a(t){if(!es(t))return!1;var e=Tr(t);return e==w||e==_||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Za(t){return"number"==typeof t&&t==vs(t)}function ts(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=f}function es(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ns(t){return null!=t&&"object"==typeof t}var rs=de?He(de):function(t){return ns(t)&&ho(t)==I};function is(t){return"number"==typeof t||ns(t)&&Tr(t)==E}function os(t){if(!ns(t)||Tr(t)!=T)return!1;var e=Gt(t);if(null===e)return!0;var n=Dt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ot.call(n)==jt}var as=pe?He(pe):function(t){return ns(t)&&Tr(t)==C},ss=ve?He(ve):function(t){return ns(t)&&ho(t)==k};function us(t){return"string"==typeof t||!Wa(t)&&ns(t)&&Tr(t)==x}function cs(t){return"symbol"==typeof t||ns(t)&&Tr(t)==A}var ls=ge?He(ge):function(t){return ns(t)&&ts(t.length)&&!!$t[Tr(t)]},fs=Ki(Lr),hs=Ki((function(t,e){return t<=e}));function ds(t){if(!t)return[];if(za(t))return us(t)?an(t):ki(t);if(ae&&t[ae])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ae]());var e=ho(t);return(e==I?Ze:e==k?nn:Bs)(t)}function ps(t){return t?(t=ms(t))===l||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function vs(t){var e=ps(t),n=e%1;return e==e?n?e-n:e:0}function gs(t){return t?ar(vs(t),0,d):0}function ms(t){if("number"==typeof t)return t;if(cs(t))return h;if(es(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=es(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ve(t);var n=pt.test(t);return n||gt.test(t)?ne(t.slice(2),n?2:8):dt.test(t)?h:+t}function ys(t){return xi(t,Ds(t))}function bs(t){return null==t?"":si(t)}var ws=Ni((function(t,e){if(Io(e)||za(e))xi(e,Os(e),t);else for(var n in e)Dt.call(e,n)&&tr(t,n,e[n])})),_s=Ni((function(t,e){xi(e,Ds(e),t)})),Is=Ni((function(t,e,n,r){xi(e,Ds(e),t,r)})),Es=Ni((function(t,e,n,r){xi(e,Os(e),t,r)})),Ts=to(or),Ss=Yr((function(t,e){t=Tt(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&yo(e[0],e[1],o)&&(r=1);++n<r;)for(var a=e[n],s=Ds(a),u=-1,c=s.length;++u<c;){var l=s[u],f=t[l];(f===i||Ba(f,Nt[l])&&!Dt.call(t,l))&&(t[l]=a[l])}return t})),Cs=Yr((function(t){return t.push(i,Ji),me(Ms,i,t)}));function ks(t,e,n){var r=null==t?i:Ir(t,e);return r===i?n:r}function xs(t,e){return null!=t&&po(t,e,kr)}var As=Ui((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),t[e]=n}),eu(iu)),Ns=Ui((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),Dt.call(t,e)?t[e].push(n):t[e]=[n]}),ao),Ps=Yr(Ar);function Os(t){return za(t)?Qn(t):Mr(t)}function Ds(t){return za(t)?Qn(t,!0):function(t){if(!es(t))return function(t){var e=[];if(null!=t)for(var n in Tt(t))e.push(n);return e}(t);var e=Io(t),n=[];for(var r in t)("constructor"!=r||!e&&Dt.call(t,r))&&n.push(r);return n}(t)}var Rs=Ni((function(t,e,n){qr(t,e,n)})),Ms=Ni((function(t,e,n,r){qr(t,e,n,r)})),Ls=to((function(t,e){var n={};if(null==t)return n;var r=!1;e=Se(e,(function(e){return e=mi(e,t),r||(r=e.length>1),e})),xi(t,no(t),n),r&&(n=sr(n,7,$i));for(var i=e.length;i--;)ci(n,e[i]);return n})),js=to((function(t,e){return null==t?{}:function(t,e){return Hr(t,e,(function(e,n){return xs(t,n)}))}(t,e)}));function Fs(t,e){if(null==t)return{};var n=Se(no(t),(function(t){return[t]}));return e=ao(e),Hr(t,n,(function(t,n){return e(t,n[0])}))}var Us=Yi(Os),qs=Yi(Ds);function Bs(t){return null==t?[]:Ke(t,Os(t))}var Vs=Ri((function(t,e,n){return e=e.toLowerCase(),t+(n?Hs(e):e)}));function Hs(t){return Js(bs(t).toLowerCase())}function Ks(t){return(t=bs(t))&&t.replace(yt,Qe).replace(Wt,"")}var Ws=Ri((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Gs=Ri((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),zs=Di("toLowerCase"),Ys=Ri((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Qs=Ri((function(t,e,n){return t+(n?" ":"")+Js(e)})),Xs=Ri((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Js=Di("toUpperCase");function $s(t,e,n){return t=bs(t),(e=n?i:e)===i?function(t){return Qt.test(t)}(t)?function(t){return t.match(zt)||[]}(t):function(t){return t.match(ut)||[]}(t):t.match(e)||[]}var Zs=Yr((function(t,e){try{return me(t,i,e)}catch(t){return Ja(t)?t:new _t(t)}})),tu=to((function(t,e){return be(e,(function(e){e=Fo(e),ir(t,e,Na(t[e],t))})),t}));function eu(t){return function(){return t}}var nu=ji(),ru=ji(!0);function iu(t){return t}function ou(t){return Rr("function"==typeof t?t:sr(t,1))}var au=Yr((function(t,e){return function(n){return Ar(n,t,e)}})),su=Yr((function(t,e){return function(n){return Ar(t,n,e)}}));function uu(t,e,n){var r=Os(e),i=_r(e,r);null!=n||es(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=_r(e,Os(e)));var o=!(es(n)&&"chain"in n&&!n.chain),a=$a(t);return be(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=ki(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Ce([this.value()],arguments))})})),t}function cu(){}var lu=Bi(Se),fu=Bi(_e),hu=Bi(Ae);function du(t){return bo(t)?je(Fo(t)):function(t){return function(e){return Ir(e,t)}}(t)}var pu=Hi(),vu=Hi(!0);function gu(){return[]}function mu(){return!1}var yu,bu=qi((function(t,e){return t+e}),0),wu=Gi("ceil"),_u=qi((function(t,e){return t/e}),1),Iu=Gi("floor"),Eu=qi((function(t,e){return t*e}),1),Tu=Gi("round"),Su=qi((function(t,e){return t-e}),0);return Un.after=function(t,e){if("function"!=typeof e)throw new kt(o);return t=vs(t),function(){if(--t<1)return e.apply(this,arguments)}},Un.ary=xa,Un.assign=ws,Un.assignIn=_s,Un.assignInWith=Is,Un.assignWith=Es,Un.at=Ts,Un.before=Aa,Un.bind=Na,Un.bindAll=tu,Un.bindKey=Pa,Un.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Wa(t)?t:[t]},Un.chain=da,Un.chunk=function(t,e,n){e=(n?yo(t,e,n):e===i)?1:mn(vs(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var a=0,s=0,u=r(ln(o/e));a<o;)u[s++]=ei(t,a,a+=e);return u},Un.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Un.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ce(Wa(n)?ki(n):[n],gr(e,1))},Un.cond=function(t){var e=null==t?0:t.length,n=ao();return t=e?Se(t,(function(t){if("function"!=typeof t[1])throw new kt(o);return[n(t[0]),t[1]]})):[],Yr((function(n){for(var r=-1;++r<e;){var i=t[r];if(me(i[0],this,n))return me(i[1],this,n)}}))},Un.conforms=function(t){return function(t){var e=Os(t);return function(n){return ur(n,t,e)}}(sr(t,1))},Un.constant=eu,Un.countBy=ga,Un.create=function(t,e){var n=qn(t);return null==e?n:rr(n,e)},Un.curry=function t(e,n,r){var o=Qi(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Un.curryRight=function t(e,n,r){var o=Qi(e,16,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Un.debounce=Oa,Un.defaults=Ss,Un.defaultsDeep=Cs,Un.defer=Da,Un.delay=Ra,Un.difference=Bo,Un.differenceBy=Vo,Un.differenceWith=Ho,Un.drop=function(t,e,n){var r=null==t?0:t.length;return r?ei(t,(e=n||e===i?1:vs(e))<0?0:e,r):[]},Un.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ei(t,0,(e=r-(e=n||e===i?1:vs(e)))<0?0:e):[]},Un.dropRightWhile=function(t,e){return t&&t.length?fi(t,ao(e,3),!0,!0):[]},Un.dropWhile=function(t,e){return t&&t.length?fi(t,ao(e,3),!0):[]},Un.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&yo(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=vs(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:vs(r))<0&&(r+=o),r=n>r?0:gs(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Un.filter=function(t,e){return(Wa(t)?Ie:vr)(t,ao(e,3))},Un.flatMap=function(t,e){return gr(Ta(t,e),1)},Un.flatMapDeep=function(t,e){return gr(Ta(t,e),l)},Un.flatMapDepth=function(t,e,n){return n=n===i?1:vs(n),gr(Ta(t,e),n)},Un.flatten=Go,Un.flattenDeep=function(t){return null!=t&&t.length?gr(t,l):[]},Un.flattenDepth=function(t,e){return null!=t&&t.length?gr(t,e=e===i?1:vs(e)):[]},Un.flip=function(t){return Qi(t,512)},Un.flow=nu,Un.flowRight=ru,Un.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Un.functions=function(t){return null==t?[]:_r(t,Os(t))},Un.functionsIn=function(t){return null==t?[]:_r(t,Ds(t))},Un.groupBy=_a,Un.initial=function(t){return null!=t&&t.length?ei(t,0,-1):[]},Un.intersection=Yo,Un.intersectionBy=Qo,Un.intersectionWith=Xo,Un.invert=As,Un.invertBy=Ns,Un.invokeMap=Ia,Un.iteratee=ou,Un.keyBy=Ea,Un.keys=Os,Un.keysIn=Ds,Un.map=Ta,Un.mapKeys=function(t,e){var n={};return e=ao(e,3),br(t,(function(t,r,i){ir(n,e(t,r,i),t)})),n},Un.mapValues=function(t,e){var n={};return e=ao(e,3),br(t,(function(t,r,i){ir(n,r,e(t,r,i))})),n},Un.matches=function(t){return Fr(sr(t,1))},Un.matchesProperty=function(t,e){return Ur(t,sr(e,1))},Un.memoize=Ma,Un.merge=Rs,Un.mergeWith=Ms,Un.method=au,Un.methodOf=su,Un.mixin=uu,Un.negate=La,Un.nthArg=function(t){return t=vs(t),Yr((function(e){return Br(e,t)}))},Un.omit=Ls,Un.omitBy=function(t,e){return Fs(t,La(ao(e)))},Un.once=function(t){return Aa(2,t)},Un.orderBy=function(t,e,n,r){return null==t?[]:(Wa(e)||(e=null==e?[]:[e]),Wa(n=r?i:n)||(n=null==n?[]:[n]),Vr(t,e,n))},Un.over=lu,Un.overArgs=ja,Un.overEvery=fu,Un.overSome=hu,Un.partial=Fa,Un.partialRight=Ua,Un.partition=Sa,Un.pick=js,Un.pickBy=Fs,Un.property=du,Un.propertyOf=function(t){return function(e){return null==t?i:Ir(t,e)}},Un.pull=$o,Un.pullAll=Zo,Un.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Kr(t,e,ao(n,2)):t},Un.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Kr(t,e,i,n):t},Un.pullAt=ta,Un.range=pu,Un.rangeRight=vu,Un.rearg=qa,Un.reject=function(t,e){return(Wa(t)?Ie:vr)(t,La(ao(e,3)))},Un.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=ao(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Wr(t,i),n},Un.rest=function(t,e){if("function"!=typeof t)throw new kt(o);return Yr(t,e=e===i?e:vs(e))},Un.reverse=ea,Un.sampleSize=function(t,e,n){return e=(n?yo(t,e,n):e===i)?1:vs(e),(Wa(t)?Jn:Xr)(t,e)},Un.set=function(t,e,n){return null==t?t:Jr(t,e,n)},Un.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Jr(t,e,n,r)},Un.shuffle=function(t){return(Wa(t)?$n:ti)(t)},Un.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&yo(t,e,n)?(e=0,n=r):(e=null==e?0:vs(e),n=n===i?r:vs(n)),ei(t,e,n)):[]},Un.sortBy=Ca,Un.sortedUniq=function(t){return t&&t.length?oi(t):[]},Un.sortedUniqBy=function(t,e){return t&&t.length?oi(t,ao(e,2)):[]},Un.split=function(t,e,n){return n&&"number"!=typeof n&&yo(t,e,n)&&(e=n=i),(n=n===i?d:n>>>0)?(t=bs(t))&&("string"==typeof e||null!=e&&!as(e))&&!(e=si(e))&&$e(t)?bi(an(t),0,n):t.split(e,n):[]},Un.spread=function(t,e){if("function"!=typeof t)throw new kt(o);return e=null==e?0:mn(vs(e),0),Yr((function(n){var r=n[e],i=bi(n,0,e);return r&&Ce(i,r),me(t,this,i)}))},Un.tail=function(t){var e=null==t?0:t.length;return e?ei(t,1,e):[]},Un.take=function(t,e,n){return t&&t.length?ei(t,0,(e=n||e===i?1:vs(e))<0?0:e):[]},Un.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ei(t,(e=r-(e=n||e===i?1:vs(e)))<0?0:e,r):[]},Un.takeRightWhile=function(t,e){return t&&t.length?fi(t,ao(e,3),!1,!0):[]},Un.takeWhile=function(t,e){return t&&t.length?fi(t,ao(e,3)):[]},Un.tap=function(t,e){return e(t),t},Un.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new kt(o);return es(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Oa(t,e,{leading:r,maxWait:e,trailing:i})},Un.thru=pa,Un.toArray=ds,Un.toPairs=Us,Un.toPairsIn=qs,Un.toPath=function(t){return Wa(t)?Se(t,Fo):cs(t)?[t]:ki(jo(bs(t)))},Un.toPlainObject=ys,Un.transform=function(t,e,n){var r=Wa(t),i=r||Qa(t)||ls(t);if(e=ao(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:es(t)&&$a(o)?qn(Gt(t)):{}}return(i?be:br)(t,(function(t,r,i){return e(n,t,r,i)})),n},Un.unary=function(t){return xa(t,1)},Un.union=na,Un.unionBy=ra,Un.unionWith=ia,Un.uniq=function(t){return t&&t.length?ui(t):[]},Un.uniqBy=function(t,e){return t&&t.length?ui(t,ao(e,2)):[]},Un.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?ui(t,i,e):[]},Un.unset=function(t,e){return null==t||ci(t,e)},Un.unzip=oa,Un.unzipWith=aa,Un.update=function(t,e,n){return null==t?t:li(t,e,gi(n))},Un.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:li(t,e,gi(n),r)},Un.values=Bs,Un.valuesIn=function(t){return null==t?[]:Ke(t,Ds(t))},Un.without=sa,Un.words=$s,Un.wrap=function(t,e){return Fa(gi(e),t)},Un.xor=ua,Un.xorBy=ca,Un.xorWith=la,Un.zip=fa,Un.zipObject=function(t,e){return pi(t||[],e||[],tr)},Un.zipObjectDeep=function(t,e){return pi(t||[],e||[],Jr)},Un.zipWith=ha,Un.entries=Us,Un.entriesIn=qs,Un.extend=_s,Un.extendWith=Is,uu(Un,Un),Un.add=bu,Un.attempt=Zs,Un.camelCase=Vs,Un.capitalize=Hs,Un.ceil=wu,Un.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=ms(n))==n?n:0),e!==i&&(e=(e=ms(e))==e?e:0),ar(ms(t),e,n)},Un.clone=function(t){return sr(t,4)},Un.cloneDeep=function(t){return sr(t,5)},Un.cloneDeepWith=function(t,e){return sr(t,5,e="function"==typeof e?e:i)},Un.cloneWith=function(t,e){return sr(t,4,e="function"==typeof e?e:i)},Un.conformsTo=function(t,e){return null==e||ur(t,e,Os(e))},Un.deburr=Ks,Un.defaultTo=function(t,e){return null==t||t!=t?e:t},Un.divide=_u,Un.endsWith=function(t,e,n){t=bs(t),e=si(e);var r=t.length,o=n=n===i?r:ar(vs(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},Un.eq=Ba,Un.escape=function(t){return(t=bs(t))&&Y.test(t)?t.replace(G,Xe):t},Un.escapeRegExp=function(t){return(t=bs(t))&&nt.test(t)?t.replace(et,"\\$&"):t},Un.every=function(t,e,n){var r=Wa(t)?_e:dr;return n&&yo(t,e,n)&&(e=i),r(t,ao(e,3))},Un.find=ma,Un.findIndex=Ko,Un.findKey=function(t,e){return Pe(t,ao(e,3),br)},Un.findLast=ya,Un.findLastIndex=Wo,Un.findLastKey=function(t,e){return Pe(t,ao(e,3),wr)},Un.floor=Iu,Un.forEach=ba,Un.forEachRight=wa,Un.forIn=function(t,e){return null==t?t:mr(t,ao(e,3),Ds)},Un.forInRight=function(t,e){return null==t?t:yr(t,ao(e,3),Ds)},Un.forOwn=function(t,e){return t&&br(t,ao(e,3))},Un.forOwnRight=function(t,e){return t&&wr(t,ao(e,3))},Un.get=ks,Un.gt=Va,Un.gte=Ha,Un.has=function(t,e){return null!=t&&po(t,e,Cr)},Un.hasIn=xs,Un.head=zo,Un.identity=iu,Un.includes=function(t,e,n,r){t=za(t)?t:Bs(t),n=n&&!r?vs(n):0;var i=t.length;return n<0&&(n=mn(i+n,0)),us(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&De(t,e,n)>-1},Un.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=mn(r+i,0)),De(t,e,i)},Un.inRange=function(t,e,n){return e=ps(e),n===i?(n=e,e=0):n=ps(n),function(t,e,n){return t>=yn(e,n)&&t<mn(e,n)}(t=ms(t),e,n)},Un.invoke=Ps,Un.isArguments=Ka,Un.isArray=Wa,Un.isArrayBuffer=Ga,Un.isArrayLike=za,Un.isArrayLikeObject=Ya,Un.isBoolean=function(t){return!0===t||!1===t||ns(t)&&Tr(t)==m},Un.isBuffer=Qa,Un.isDate=Xa,Un.isElement=function(t){return ns(t)&&1===t.nodeType&&!os(t)},Un.isEmpty=function(t){if(null==t)return!0;if(za(t)&&(Wa(t)||"string"==typeof t||"function"==typeof t.splice||Qa(t)||ls(t)||Ka(t)))return!t.length;var e=ho(t);if(e==I||e==k)return!t.size;if(Io(t))return!Mr(t).length;for(var n in t)if(Dt.call(t,n))return!1;return!0},Un.isEqual=function(t,e){return Pr(t,e)},Un.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Pr(t,e,i,n):!!r},Un.isError=Ja,Un.isFinite=function(t){return"number"==typeof t&&pn(t)},Un.isFunction=$a,Un.isInteger=Za,Un.isLength=ts,Un.isMap=rs,Un.isMatch=function(t,e){return t===e||Or(t,e,uo(e))},Un.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Or(t,e,uo(e),n)},Un.isNaN=function(t){return is(t)&&t!=+t},Un.isNative=function(t){if(_o(t))throw new _t("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dr(t)},Un.isNil=function(t){return null==t},Un.isNull=function(t){return null===t},Un.isNumber=is,Un.isObject=es,Un.isObjectLike=ns,Un.isPlainObject=os,Un.isRegExp=as,Un.isSafeInteger=function(t){return Za(t)&&t>=-9007199254740991&&t<=f},Un.isSet=ss,Un.isString=us,Un.isSymbol=cs,Un.isTypedArray=ls,Un.isUndefined=function(t){return t===i},Un.isWeakMap=function(t){return ns(t)&&ho(t)==N},Un.isWeakSet=function(t){return ns(t)&&"[object WeakSet]"==Tr(t)},Un.join=function(t,e){return null==t?"":vn.call(t,e)},Un.kebabCase=Ws,Un.last=Jo,Un.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=vs(n))<0?mn(r+o,0):yn(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):Oe(t,Me,o,!0)},Un.lowerCase=Gs,Un.lowerFirst=zs,Un.lt=fs,Un.lte=hs,Un.max=function(t){return t&&t.length?pr(t,iu,Sr):i},Un.maxBy=function(t,e){return t&&t.length?pr(t,ao(e,2),Sr):i},Un.mean=function(t){return Le(t,iu)},Un.meanBy=function(t,e){return Le(t,ao(e,2))},Un.min=function(t){return t&&t.length?pr(t,iu,Lr):i},Un.minBy=function(t,e){return t&&t.length?pr(t,ao(e,2),Lr):i},Un.stubArray=gu,Un.stubFalse=mu,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=Eu,Un.nth=function(t,e){return t&&t.length?Br(t,vs(e)):i},Un.noConflict=function(){return oe._===this&&(oe._=Ft),this},Un.noop=cu,Un.now=ka,Un.pad=function(t,e,n){t=bs(t);var r=(e=vs(e))?on(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Vi(fn(i),n)+t+Vi(ln(i),n)},Un.padEnd=function(t,e,n){t=bs(t);var r=(e=vs(e))?on(t):0;return e&&r<e?t+Vi(e-r,n):t},Un.padStart=function(t,e,n){t=bs(t);var r=(e=vs(e))?on(t):0;return e&&r<e?Vi(e-r,n)+t:t},Un.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),wn(bs(t).replace(rt,""),e||0)},Un.random=function(t,e,n){if(n&&"boolean"!=typeof n&&yo(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=ps(t),e===i?(e=t,t=0):e=ps(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=_n();return yn(t+o*(e-t+ee("1e-"+((o+"").length-1))),e)}return Gr(t,e)},Un.reduce=function(t,e,n){var r=Wa(t)?ke:Ue,i=arguments.length<3;return r(t,ao(e,4),n,i,fr)},Un.reduceRight=function(t,e,n){var r=Wa(t)?xe:Ue,i=arguments.length<3;return r(t,ao(e,4),n,i,hr)},Un.repeat=function(t,e,n){return e=(n?yo(t,e,n):e===i)?1:vs(e),zr(bs(t),e)},Un.replace=function(){var t=arguments,e=bs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Un.result=function(t,e,n){var r=-1,o=(e=mi(e,t)).length;for(o||(o=1,t=i);++r<o;){var a=null==t?i:t[Fo(e[r])];a===i&&(r=o,a=n),t=$a(a)?a.call(t):a}return t},Un.round=Tu,Un.runInContext=t,Un.sample=function(t){return(Wa(t)?Xn:Qr)(t)},Un.size=function(t){if(null==t)return 0;if(za(t))return us(t)?on(t):t.length;var e=ho(t);return e==I||e==k?t.size:Mr(t).length},Un.snakeCase=Ys,Un.some=function(t,e,n){var r=Wa(t)?Ae:ni;return n&&yo(t,e,n)&&(e=i),r(t,ao(e,3))},Un.sortedIndex=function(t,e){return ri(t,e)},Un.sortedIndexBy=function(t,e,n){return ii(t,e,ao(n,2))},Un.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ri(t,e);if(r<n&&Ba(t[r],e))return r}return-1},Un.sortedLastIndex=function(t,e){return ri(t,e,!0)},Un.sortedLastIndexBy=function(t,e,n){return ii(t,e,ao(n,2),!0)},Un.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ri(t,e,!0)-1;if(Ba(t[n],e))return n}return-1},Un.startCase=Qs,Un.startsWith=function(t,e,n){return t=bs(t),n=null==n?0:ar(vs(n),0,t.length),e=si(e),t.slice(n,n+e.length)==e},Un.subtract=Su,Un.sum=function(t){return t&&t.length?qe(t,iu):0},Un.sumBy=function(t,e){return t&&t.length?qe(t,ao(e,2)):0},Un.template=function(t,e,n){var r=Un.templateSettings;n&&yo(t,e,n)&&(e=i),t=bs(t),e=Is({},e,r,Xi);var o,a,s=Is({},e.imports,r.imports,Xi),u=Os(s),c=Ke(s,u),l=0,f=e.interpolate||bt,h="__p += '",d=St((e.escape||bt).source+"|"+f.source+"|"+(f===J?ft:bt).source+"|"+(e.evaluate||bt).source+"|$","g"),p="//# sourceURL="+(Dt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Jt+"]")+"\n";t.replace(d,(function(e,n,r,i,s,u){return r||(r=i),h+=t.slice(l,u).replace(wt,Je),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),h+="';\n";var v=Dt.call(e,"variable")&&e.variable;if(v){if(ct.test(v))throw new _t("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(V,""):h).replace(H,"$1").replace(K,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Zs((function(){return It(u,p+"return "+h).apply(i,c)}));if(g.source=h,Ja(g))throw g;return g},Un.times=function(t,e){if((t=vs(t))<1||t>f)return[];var n=d,r=yn(t,d);e=ao(e),t-=d;for(var i=Be(r,e);++n<t;)e(n);return i},Un.toFinite=ps,Un.toInteger=vs,Un.toLength=gs,Un.toLower=function(t){return bs(t).toLowerCase()},Un.toNumber=ms,Un.toSafeInteger=function(t){return t?ar(vs(t),-9007199254740991,f):0===t?t:0},Un.toString=bs,Un.toUpper=function(t){return bs(t).toUpperCase()},Un.trim=function(t,e,n){if((t=bs(t))&&(n||e===i))return Ve(t);if(!t||!(e=si(e)))return t;var r=an(t),o=an(e);return bi(r,Ge(r,o),ze(r,o)+1).join("")},Un.trimEnd=function(t,e,n){if((t=bs(t))&&(n||e===i))return t.slice(0,sn(t)+1);if(!t||!(e=si(e)))return t;var r=an(t);return bi(r,0,ze(r,an(e))+1).join("")},Un.trimStart=function(t,e,n){if((t=bs(t))&&(n||e===i))return t.replace(rt,"");if(!t||!(e=si(e)))return t;var r=an(t);return bi(r,Ge(r,an(e))).join("")},Un.truncate=function(t,e){var n=30,r="...";if(es(e)){var o="separator"in e?e.separator:o;n="length"in e?vs(e.length):n,r="omission"in e?si(e.omission):r}var a=(t=bs(t)).length;if($e(t)){var s=an(t);a=s.length}if(n>=a)return t;var u=n-on(r);if(u<1)return r;var c=s?bi(s,0,u).join(""):t.slice(0,u);if(o===i)return c+r;if(s&&(u+=c.length-u),as(o)){if(t.slice(u).search(o)){var l,f=c;for(o.global||(o=St(o.source,bs(ht.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var h=l.index;c=c.slice(0,h===i?u:h)}}else if(t.indexOf(si(o),u)!=u){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+r},Un.unescape=function(t){return(t=bs(t))&&z.test(t)?t.replace(W,un):t},Un.uniqueId=function(t){var e=++Rt;return bs(t)+e},Un.upperCase=Xs,Un.upperFirst=Js,Un.each=ba,Un.eachRight=wa,Un.first=zo,uu(Un,(yu={},br(Un,(function(t,e){Dt.call(Un.prototype,e)||(yu[e]=t)})),yu),{chain:!1}),Un.VERSION="4.17.21",be(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Un[t].placeholder=Un})),be(["drop","take"],(function(t,e){Hn.prototype[t]=function(n){n=n===i?1:mn(vs(n),0);var r=this.__filtered__&&!e?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=yn(n,r.__takeCount__):r.__views__.push({size:yn(n,d),type:t+(r.__dir__<0?"Right":"")}),r},Hn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),be(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Hn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ao(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),be(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Hn.prototype[t]=function(){return this[n](1).value()[0]}})),be(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Hn.prototype[t]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(iu)},Hn.prototype.find=function(t){return this.filter(t).head()},Hn.prototype.findLast=function(t){return this.reverse().find(t)},Hn.prototype.invokeMap=Yr((function(t,e){return"function"==typeof t?new Hn(this):this.map((function(n){return Ar(n,t,e)}))})),Hn.prototype.reject=function(t){return this.filter(La(ao(t)))},Hn.prototype.slice=function(t,e){t=vs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Hn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=vs(e))<0?n.dropRight(-e):n.take(e-t)),n)},Hn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hn.prototype.toArray=function(){return this.take(d)},br(Hn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=Un[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);o&&(Un.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,u=e instanceof Hn,c=s[0],l=u||Wa(e),f=function(t){var e=o.apply(Un,Ce([t],s));return r&&h?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=a&&!h,v=u&&!d;if(!a&&l){e=v?e:new Hn(this);var g=t.apply(e,s);return g.__actions__.push({func:pa,args:[f],thisArg:i}),new Vn(g,h)}return p&&v?t.apply(this,s):(g=this.thru(f),p?r?g.value()[0]:g.value():g)})})),be(["pop","push","shift","sort","splice","unshift"],(function(t){var e=xt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Un.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Wa(i)?i:[],t)}return this[n]((function(n){return e.apply(Wa(n)?n:[],t)}))}})),br(Hn.prototype,(function(t,e){var n=Un[e];if(n){var r=n.name+"";Dt.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:e,func:n})}})),Nn[Fi(i,2).name]=[{name:"wrapper",func:i}],Hn.prototype.clone=function(){var t=new Hn(this.__wrapped__);return t.__actions__=ki(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ki(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ki(this.__views__),t},Hn.prototype.reverse=function(){if(this.__filtered__){var t=new Hn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Wa(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=yn(e,t+a);break;case"takeRight":t=mn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,d=yn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return hi(t,this.__actions__);var p=[];t:for(;u--&&h<d;){for(var v=-1,g=t[c+=e];++v<f;){var m=l[v],y=m.iteratee,b=m.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue t;break t}}p[h++]=g}return p},Un.prototype.at=va,Un.prototype.chain=function(){return da(this)},Un.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=ds(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(t){for(var e,n=this;n instanceof Bn;){var r=qo(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},Un.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hn){var e=t;return this.__actions__.length&&(e=new Hn(this)),(e=e.reverse()).__actions__.push({func:pa,args:[ea],thisArg:i}),new Vn(e,this.__chain__)}return this.thru(ea)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,ae&&(Un.prototype[ae]=function(){return this}),Un}();oe._=cn,(r=function(){return cn}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},bhtp:function(){!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(t){t&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var t=document.createElement("span");t.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),t.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(t)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()},EanG:function(){var t={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};(t=function(){"use strict";var t=[],e=[],n="mdlComponentConfigInternal_";function r(e,n){for(var r=0;r<t.length;r++)if(t[r].className===e)return void 0!==n&&(t[r]=n),t[r];return!1}function i(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function o(t,e){return-1!==i(t).indexOf(e)}function a(t,e,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(t,{bubbles:e,cancelable:n});var r=document.createEvent("Events");return r.initEvent(t,e,n),r}function s(e,n){if(void 0===e&&void 0===n)for(var i=0;i<t.length;i++)s(t[i].className,t[i].cssClass);else{var o=e;if(void 0===n){var a=r(o);a&&(n=a.cssClass)}for(var c=document.querySelectorAll("."+n),l=0;l<c.length;l++)u(c[l],o)}}function u(s,u){if(!("object"==typeof s&&s instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var c=a("mdl-componentupgrading",!0,!0);if(s.dispatchEvent(c),!c.defaultPrevented){var l=i(s),f=[];if(u)o(s,u)||f.push(r(u));else{var h=s.classList;t.forEach((function(t){h.contains(t.cssClass)&&-1===f.indexOf(t)&&!o(s,t.className)&&f.push(t)}))}for(var d,p=0,v=f.length;p<v;p++){if(!(d=f[p]))throw new Error("Unable to find a registered component for the given class.");l.push(d.className),s.setAttribute("data-upgraded",l.join(","));var g=new d.classConstructor(s);g[n]=d,e.push(g);for(var m=0,y=d.callbacks.length;m<y;m++)d.callbacks[m](s);d.widget&&(s[d.className]=g);var b=a("mdl-componentupgraded",!0,!1);s.dispatchEvent(b)}}}function c(t){if(t){var r=e.indexOf(t);e.splice(r,1);var i=t.element_.getAttribute("data-upgraded").split(","),o=i.indexOf(t[n].classAsString);i.splice(o,1),t.element_.setAttribute("data-upgraded",i.join(","));var s=a("mdl-componentdowngraded",!0,!1);t.element_.dispatchEvent(s)}}return{upgradeDom:s,upgradeElement:u,upgradeElements:function t(e){Array.isArray(e)||(e=e instanceof Element?[e]:Array.prototype.slice.call(e));for(var n,r=0,i=e.length;r<i;r++)(n=e[r])instanceof HTMLElement&&(u(n),n.children.length>0&&t(n.children))},upgradeAllRegistered:function(){for(var e=0;e<t.length;e++)s(t[e].className)},registerUpgradedCallback:function(t,e){var n=r(t);n&&n.callbacks.push(e)},register:function(e){var i=!0;void 0===e.widget&&void 0===e.widget||(i=e.widget||e.widget);var o={classConstructor:e.constructor||e.constructor,className:e.classAsString||e.classAsString,cssClass:e.cssClass||e.cssClass,widget:i,callbacks:[]};if(t.forEach((function(t){if(t.cssClass===o.cssClass)throw new Error("The provided cssClass has already been registered: "+t.cssClass);if(t.className===o.className)throw new Error("The provided className has already been registered")})),e.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have mdlComponentConfigInternal_ defined as a property.");r(e.classAsString,o)||t.push(o)},downgradeElements:function(t){var n=function(t){e.filter((function(e){return e.element_===t})).forEach(c)};if(t instanceof Array||t instanceof NodeList)for(var r=0;r<t.length;r++)n(t[r]);else{if(!(t instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(t)}}}}()).ComponentConfigPublic,t.ComponentConfig,t.Component,t.upgradeDom=t.upgradeDom,t.upgradeElement=t.upgradeElement,t.upgradeElements=t.upgradeElements,t.upgradeAllRegistered=t.upgradeAllRegistered,t.registerUpgradedCallback=t.registerUpgradedCallback,t.register=t.register,t.downgradeElements=t.downgradeElements,window.componentHandler=t,window.componentHandler=t,window.addEventListener("load",(function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),t.upgradeAllRegistered()):(t.upgradeElement=function(){},t.register=function(){})}))},TaPC:function(){!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(t){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=t+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(t){this.bufferbar_.style.width=t+"%",this.auxbar_.style.width=100-t+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.className="progressbar bar bar1",this.element_.appendChild(t),this.progressbar_=t,(t=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(t),this.bufferbar_=t,(t=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(t),this.auxbar_=t,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()},KcsD:function(){!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(t){var e=document.createElement("div");e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+t);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var o=[n,r,i],a=0;a<o.length;a++){var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),o[a].appendChild(s)}e.appendChild(n),e.appendChild(r),e.appendChild(i),this.element_.appendChild(e)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var t=1;t<=this.Constant_.MDL_SPINNER_LAYER_COUNT;t++)this.createLayer(t);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()},rgg2:function(){!function(){"use strict";var t=function(t){this.element_=t,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(t){var e=t.target.value.split("\n").length;13===t.keyCode&&e>=this.maxRows&&t.preventDefault()},t.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(t){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(t){this.input_.value=t||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var t=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),t&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()},VYoj:function(t,e,n){var r,i;n.amdD,r=[n("qIEf")],void 0===(i=function(t){return function(){var e,n,r,i=0,o={clear:function(n,r){var i=l();e||a(i),s(n,i,r)||function(n){for(var r=e.children(),i=r.length-1;i>=0;i--)s(t(r[i]),n)}(i)},remove:function(n){var r=l();e||a(r),n&&0===t(":focus",n).length?f(n):e.children().length&&e.remove()},error:function(t,e,n){return c({type:"error",iconClass:l().iconClasses.error,message:t,optionsOverride:n,title:e})},getContainer:a,info:function(t,e,n){return c({type:"info",iconClass:l().iconClasses.info,message:t,optionsOverride:n,title:e})},options:{},subscribe:function(t){n=t},success:function(t,e,n){return c({type:"success",iconClass:l().iconClasses.success,message:t,optionsOverride:n,title:e})},version:"2.1.4",warning:function(t,e,n){return c({type:"warning",iconClass:l().iconClasses.warning,message:t,optionsOverride:n,title:e})}};return o;function a(n,r){return n||(n=l()),(e=t("#"+n.containerId)).length||r&&(e=function(n){return(e=t("<div/>").attr("id",n.containerId).addClass(n.positionClass)).appendTo(t(n.target)),e}(n)),e}function s(e,n,r){var i=!(!r||!r.force)&&r.force;return!(!e||!i&&0!==t(":focus",e).length||(e[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){f(e)}}),0))}function u(t){n&&n(t)}function c(n){var o=l(),s=n.iconClass||o.iconClass;if(void 0!==n.optionsOverride&&(o=t.extend(o,n.optionsOverride),s=n.optionsOverride.iconClass||s),!function(t,e){if(t.preventDuplicates){if(e.message===r)return!0;r=e.message}return!1}(o,n)){i++,e=a(o,!0);var c=null,h=t("<div/>"),d=t("<div/>"),p=t("<div/>"),v=t("<div/>"),g=t(o.closeHtml),m={intervalId:null,hideEta:null,maxHideTime:null},y={toastId:i,state:"visible",startTime:new Date,options:o,map:n};return n.iconClass&&h.addClass(o.toastClass).addClass(s),function(){if(n.title){var t=n.title;o.escapeHtml&&(t=b(n.title)),d.append(t).addClass(o.titleClass),h.append(d)}}(),function(){if(n.message){var t=n.message;o.escapeHtml&&(t=b(n.message)),p.append(t).addClass(o.messageClass),h.append(p)}}(),o.closeButton&&(g.addClass(o.closeClass).attr("role","button"),h.prepend(g)),o.progressBar&&(v.addClass(o.progressClass),h.prepend(v)),o.rtl&&h.addClass("rtl"),o.newestOnTop?e.prepend(h):e.append(h),function(){var t="";switch(n.iconClass){case"toast-success":case"toast-info":t="polite";break;default:t="assertive"}h.attr("aria-live",t)}(),h.hide(),h[o.showMethod]({duration:o.showDuration,easing:o.showEasing,complete:o.onShown}),o.timeOut>0&&(c=setTimeout(w,o.timeOut),m.maxHideTime=parseFloat(o.timeOut),m.hideEta=(new Date).getTime()+m.maxHideTime,o.progressBar&&(m.intervalId=setInterval((function(){var t=(m.hideEta-(new Date).getTime())/m.maxHideTime*100;v.width(t+"%")}),10))),o.closeOnHover&&h.hover((function(){clearTimeout(c),m.hideEta=0,h.stop(!0,!0)[o.showMethod]({duration:o.showDuration,easing:o.showEasing})}),(function(){(o.timeOut>0||o.extendedTimeOut>0)&&(c=setTimeout(w,o.extendedTimeOut),m.maxHideTime=parseFloat(o.extendedTimeOut),m.hideEta=(new Date).getTime()+m.maxHideTime)})),!o.onclick&&o.tapToDismiss&&h.click(w),o.closeButton&&g&&g.click((function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&!0!==t.cancelBubble&&(t.cancelBubble=!0),o.onCloseClick&&o.onCloseClick(t),w(!0)})),o.onclick&&h.click((function(t){o.onclick(t),w()})),u(y),o.debug&&console&&console.log(y),h}function b(t){return null==t&&(t=""),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function w(e){var n=e&&!1!==o.closeMethod?o.closeMethod:o.hideMethod,r=e&&!1!==o.closeDuration?o.closeDuration:o.hideDuration,i=e&&!1!==o.closeEasing?o.closeEasing:o.hideEasing;if(!t(":focus",h).length||e)return clearTimeout(m.intervalId),h[n]({duration:r,easing:i,complete:function(){f(h),clearTimeout(c),o.onHidden&&"hidden"!==y.state&&o.onHidden(),y.state="hidden",y.endTime=new Date,u(y)}})}}function l(){return t.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},o.options)}function f(t){e||(e=a()),t.is(":visible")||(t.remove(),t=null,0===e.children().length&&(e.remove(),r=void 0))}}()}.apply(e,r))||(t.exports=i)}}]);
//# sourceMappingURL=vendors.67359f6537ad8305bac9.js.map